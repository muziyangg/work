<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="æ¥å£è¯´æ˜ ä»ªå™¨å‚å•† æ¢…é‡ŒåŸƒMYLA\nä»ªå™¨å‹å· æ¢…é‡ŒåŸƒMYLA\né€šè®¯æ–¹å¼ å•å‘â˜‘|åŒå‘|ä¸»åŠ¨ä¸Šä¼ \nä»ªå™¨ç±»å‹ å¾®ç”Ÿç‰© åŒ»é™¢åç§° ç¨‹åºåç§° ç»ˆç«¯æœåŠ¡å™¨åœ°å€ ç»ˆç«¯æœåŠ¡å™¨ç«¯å£å· ä»ªå™¨ä¸Šæ¥å£æ ‡ç¤ºå’Œæ¥å£ç±»å‹ æ¥å£ç±»å‹ï¼šä¸²å£â˜‘|ç½‘å£|ç›‘å¬æ–‡ä»¶|æ•°æ®åº“|å…¶ä»– è¿æ¥æ–¹å¼ï¼šHL7åè®®|ASTMåè®®|ç›‘å¬æ–‡ä»¶|æ•°æ®åº“|å…¶ä»– ä»ªå™¨æ¥å£è¯´æ˜ æœ¬æ¥å£ä¸ºå•å‘ä¸²å£ä»ªå™¨ï¼Œé™„å½•åŒå‘ç›‘å¬æ¥å£ ç‰¹æ®ŠåŠŸèƒ½åŒ…å«æ‰¹é‡å¯¼å…¥å¾®ç”Ÿç‰©ç»†èŒå’ŒæŠ—ç”Ÿç´ é€šé“å·ï¼Œå‡å°‘äººå·¥æ“ä½œå·¥ä½œé‡ ä¸²å£ç›’å­é…ç½® æ³¢ç‰¹ç‡ï¼š 9600 æ•°æ®ä½ï¼š8 åœæ­¢ä½ï¼š 1 æ ¡éªŒä½ï¼š N ä»ªå™¨å›¾ç‰‡ ">
<title>æ¢…é‡ŒåŸƒMYLA</title>

<link rel='canonical' href='https://work.717170.xyz/p/%E6%A2%85%E9%87%8C%E5%9F%83myla-20250829154956/'>

<link rel="stylesheet" href="/scss/style.min.9f449ccc662f48c455f81316fd5cb87099956cabbb7a108c4681662ea647628e.css"><meta property='og:title' content="æ¢…é‡ŒåŸƒMYLA">
<meta property='og:description' content="æ¥å£è¯´æ˜ ä»ªå™¨å‚å•† æ¢…é‡ŒåŸƒMYLA\nä»ªå™¨å‹å· æ¢…é‡ŒåŸƒMYLA\né€šè®¯æ–¹å¼ å•å‘â˜‘|åŒå‘|ä¸»åŠ¨ä¸Šä¼ \nä»ªå™¨ç±»å‹ å¾®ç”Ÿç‰© åŒ»é™¢åç§° ç¨‹åºåç§° ç»ˆç«¯æœåŠ¡å™¨åœ°å€ ç»ˆç«¯æœåŠ¡å™¨ç«¯å£å· ä»ªå™¨ä¸Šæ¥å£æ ‡ç¤ºå’Œæ¥å£ç±»å‹ æ¥å£ç±»å‹ï¼šä¸²å£â˜‘|ç½‘å£|ç›‘å¬æ–‡ä»¶|æ•°æ®åº“|å…¶ä»– è¿æ¥æ–¹å¼ï¼šHL7åè®®|ASTMåè®®|ç›‘å¬æ–‡ä»¶|æ•°æ®åº“|å…¶ä»– ä»ªå™¨æ¥å£è¯´æ˜ æœ¬æ¥å£ä¸ºå•å‘ä¸²å£ä»ªå™¨ï¼Œé™„å½•åŒå‘ç›‘å¬æ¥å£ ç‰¹æ®ŠåŠŸèƒ½åŒ…å«æ‰¹é‡å¯¼å…¥å¾®ç”Ÿç‰©ç»†èŒå’ŒæŠ—ç”Ÿç´ é€šé“å·ï¼Œå‡å°‘äººå·¥æ“ä½œå·¥ä½œé‡ ä¸²å£ç›’å­é…ç½® æ³¢ç‰¹ç‡ï¼š 9600 æ•°æ®ä½ï¼š8 åœæ­¢ä½ï¼š 1 æ ¡éªŒä½ï¼š N ä»ªå™¨å›¾ç‰‡ ">
<meta property='og:url' content='https://work.717170.xyz/p/%E6%A2%85%E9%87%8C%E5%9F%83myla-20250829154956/'>
<meta property='og:site_name' content='æœ¨å­æ´‹'>
<meta property='og:type' content='article'><meta property='article:section' content='Post' /><meta property='article:tag' content='' /><meta property='article:published_time' content='2025-08-29T00:00:00&#43;00:00'/><meta property='article:modified_time' content='2025-08-29T15:49:56&#43;00:00'/><meta property='og:image' content='https://work.717170.xyz/p/%E6%A2%85%E9%87%8C%E5%9F%83myla-20250829154956/assets/f17d1a8e96716275f2c3f181faafabc6-20250822181636-iidux02.jpg' />
<meta name="twitter:title" content="æ¢…é‡ŒåŸƒMYLA">
<meta name="twitter:description" content="æ¥å£è¯´æ˜ ä»ªå™¨å‚å•† æ¢…é‡ŒåŸƒMYLA\nä»ªå™¨å‹å· æ¢…é‡ŒåŸƒMYLA\né€šè®¯æ–¹å¼ å•å‘â˜‘|åŒå‘|ä¸»åŠ¨ä¸Šä¼ \nä»ªå™¨ç±»å‹ å¾®ç”Ÿç‰© åŒ»é™¢åç§° ç¨‹åºåç§° ç»ˆç«¯æœåŠ¡å™¨åœ°å€ ç»ˆç«¯æœåŠ¡å™¨ç«¯å£å· ä»ªå™¨ä¸Šæ¥å£æ ‡ç¤ºå’Œæ¥å£ç±»å‹ æ¥å£ç±»å‹ï¼šä¸²å£â˜‘|ç½‘å£|ç›‘å¬æ–‡ä»¶|æ•°æ®åº“|å…¶ä»– è¿æ¥æ–¹å¼ï¼šHL7åè®®|ASTMåè®®|ç›‘å¬æ–‡ä»¶|æ•°æ®åº“|å…¶ä»– ä»ªå™¨æ¥å£è¯´æ˜ æœ¬æ¥å£ä¸ºå•å‘ä¸²å£ä»ªå™¨ï¼Œé™„å½•åŒå‘ç›‘å¬æ¥å£ ç‰¹æ®ŠåŠŸèƒ½åŒ…å«æ‰¹é‡å¯¼å…¥å¾®ç”Ÿç‰©ç»†èŒå’ŒæŠ—ç”Ÿç´ é€šé“å·ï¼Œå‡å°‘äººå·¥æ“ä½œå·¥ä½œé‡ ä¸²å£ç›’å­é…ç½® æ³¢ç‰¹ç‡ï¼š 9600 æ•°æ®ä½ï¼š8 åœæ­¢ä½ï¼š 1 æ ¡éªŒä½ï¼š N ä»ªå™¨å›¾ç‰‡ "><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://work.717170.xyz/p/%E6%A2%85%E9%87%8C%E5%9F%83myla-20250829154956/assets/f17d1a8e96716275f2c3f181faafabc6-20250822181636-iidux02.jpg' />
    <link rel="shortcut icon" href="/favicon.ico" />

    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="åˆ‡æ¢èœå•">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/">
                
                    
                    
                    
                        
                        <img src="/img/touxiang_hu_3261c9b36eb249a9.jpg" width="300"
                            height="285" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ğŸ¥</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/">æœ¨å­æ´‹</a></h1>
            <h2 class="site-description">To be or not to be.</h2>
        </div>
    </header><ol class="menu-social">
            
                <li>
                    <a 
                        href='https://github.com/muziyangg'
                        target="_blank"
                        title="GitHub"
                        rel="me"
                    >
                        
                        
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
</svg>



                        
                    </a>
                </li>
            
                <li>
                    <a 
                        href='https://gitee.com/muziyangg'
                        target="_blank"
                        title="Gitee"
                        rel="me"
                    >
                        
                        
                            <?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg t="1756364241553" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1459" xmlns:xlink="http://www.w3.org/1999/xlink" width="200" height="200"><path d="M739.76 462H484.2a22.22 22.22 0 0 0-22.2 22.21v55.56A22.24 22.24 0 0 0 484.19 562h155.57A22.22 22.22 0 0 1 662 584.22v11.11A66.67 66.67 0 0 1 595.31 662H384.19A22.22 22.22 0 0 1 362 639.79V428.68A66.67 66.67 0 0 1 428.64 362h311.07a22.21 22.21 0 0 0 22.22-22.2v-55.56A22.22 22.22 0 0 0 739.79 262h-311.1A166.67 166.67 0 0 0 262 428.68v311.1A22.22 22.22 0 0 0 284.22 762H612a150 150 0 0 0 150-150V484.23A22.23 22.23 0 0 0 739.77 462z m0 0" fill="#231815" p-id="1460"></path></svg>
                        
                    </a>
                </li>
            
        </ol><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>é¦–é¡µ</span>
            </a>
        </li>
        
        
        <li >
            <a href='/%E5%85%B3%E4%BA%8E/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="7" r="4" />
  <path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" />
</svg>



                
                <span>å…³äº</span>
            </a>
        </li>
        
        
        <li >
            <a href='/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <rect x="3" y="4" width="18" height="4" rx="2" />
  <path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" />
  <line x1="10" y1="12" x2="14" y2="12" />
</svg>



                
                <span>å½’æ¡£</span>
            </a>
        </li>
        
        
        <li >
            <a href='/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>æœç´¢</span>
            </a>
        </li>
        
        
        <li >
            <a href='/link/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5" />
  <path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5" />
</svg>



                
                <span>å‹é“¾</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>æš—è‰²æ¨¡å¼</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">ç›®å½•</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#æ¥å£è¯´æ˜">æ¥å£è¯´æ˜</a></li>
    <li><a href="#ä»ªå™¨ä¸Šæ¥å£æ ‡ç¤ºå’Œæ¥å£ç±»å‹"><strong>ä»ªå™¨ä¸Šæ¥å£æ ‡ç¤ºå’Œæ¥å£ç±»å‹</strong></a></li>
    <li><a href="#ä»ªå™¨æ¥å£è¯´æ˜">ä»ªå™¨æ¥å£è¯´æ˜</a></li>
    <li><a href="#ä¸²å£ç›’å­é…ç½®">ä¸²å£ç›’å­é…ç½®</a></li>
    <li><a href="#ä»ªå™¨å›¾ç‰‡">ä»ªå™¨å›¾ç‰‡</a></li>
    <li><a href="#ä»ªå™¨é…ç½®">ä»ªå™¨é…ç½®</a></li>
    <li><a href="#æ•°æ®æ ¼å¼"><strong>æ•°æ®æ ¼å¼</strong></a></li>
    <li><a href="#é¡¹ç›®é€šé“å·"><strong>é¡¹ç›®é€šé“å·</strong></a></li>
    <li><a href="#ä¿®æ”¹è®°å½•">ä¿®æ”¹è®°å½•</a></li>
    <li><a href="#ä»ªå™¨æ¥å£ç¨‹åº">ä»ªå™¨æ¥å£ç¨‹åº</a></li>
    <li><a href="#ç‰¹æ®ŠåŠŸèƒ½">ç‰¹æ®ŠåŠŸèƒ½</a>
      <ol>
        <li><a href="#æ‰¹é‡ä¿å­˜é€šé“å·">æ‰¹é‡ä¿å­˜é€šé“å·</a></li>
      </ol>
    </li>
    <li><a href="#é™„å½•">é™„å½•</a>
      <ol>
        <li><a href="#mylaåŒå‘æ¥å£">MYLAåŒå‘æ¥å£</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/p/%E6%A2%85%E9%87%8C%E5%9F%83myla-20250829154956/">
                <img src="/p/%E6%A2%85%E9%87%8C%E5%9F%83myla-20250829154956/assets/f17d1a8e96716275f2c3f181faafabc6-20250822181636-iidux02_hu_26e70d9b19d38a19.jpg"
                        srcset="/p/%E6%A2%85%E9%87%8C%E5%9F%83myla-20250829154956/assets/f17d1a8e96716275f2c3f181faafabc6-20250822181636-iidux02_hu_26e70d9b19d38a19.jpg 800w, /p/%E6%A2%85%E9%87%8C%E5%9F%83myla-20250829154956/assets/f17d1a8e96716275f2c3f181faafabc6-20250822181636-iidux02_hu_1a8780211dacfbfb.jpg 1600w"
                        width="800" 
                        height="600" 
                        loading="lazy"
                        alt="Featured image of post æ¢…é‡ŒåŸƒMYLA" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/categories/2.%E4%BB%AA%E5%99%A8%E6%8E%A5%E5%8F%A3%E8%AE%B0%E5%BD%95/" >
                2.ä»ªå™¨æ¥å£è®°å½•
            </a>
        
            <a href="/categories/%E9%A1%B9%E7%9B%AE%E4%B8%8A%E7%BA%BF%E7%BB%9F%E8%AE%A1%E6%8E%A5%E5%8F%A3%E7%A8%8B%E5%BA%8F/" >
                é¡¹ç›®ä¸Šçº¿ç»Ÿè®¡æ¥å£ç¨‹åº
            </a>
        
            <a href="/categories/%E4%B9%90%E6%98%8C%E4%BA%BA%E6%B0%91%E5%8C%BB%E9%99%A2/" >
                ä¹æ˜Œäººæ°‘åŒ»é™¢
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/p/%E6%A2%85%E9%87%8C%E5%9F%83myla-20250829154956/">æ¢…é‡ŒåŸƒMYLA</a>
        </h2>
    
        
    </div>

        
        <footer class="article-time">
            
                <div>
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                    <time class="article-time--published">2025-08-29</time>
                </div>
            

            
            
                        æœ€åæ›´æ–°äº
                        <time class="article-time--updated" datetime="2025-08-29 15:49:56 &#43;0000 UTC" title="2025-08-29 15:49:56 &#43;0000 UTC">
                            2025-08-29 15:49:56
                        </time>
			
			
			
				<div>
					<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



					<time class="article-words">
						14557å­—
					</time>
				</div>
			
			

            
                <div>
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                    <time class="article-time--reading">
                        é˜…è¯»æ—¶é•¿: 30 åˆ†é’Ÿ
                    </time>
                </div>
            
        </footer>
    


    
</div>
</header>



    <section class="article-content">
    
    
    <h2 id="æ¥å£è¯´æ˜">æ¥å£è¯´æ˜
</h2><div class="table-wrapper"><table>
  <thead>
      <tr>
          <th style="text-align: left">ä»ªå™¨å‚å•†</th>
          <th style="text-align: left">æ¢…é‡ŒåŸƒMYLA<br /></th>
          <th style="text-align: left">ä»ªå™¨å‹å·</th>
          <th style="text-align: left">æ¢…é‡ŒåŸƒMYLA<br /></th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td style="text-align: left">é€šè®¯æ–¹å¼</td>
          <td style="text-align: left">å•å‘â˜‘|åŒå‘|ä¸»åŠ¨ä¸Šä¼ <br /></td>
          <td style="text-align: left">ä»ªå™¨ç±»å‹</td>
          <td style="text-align: left">å¾®ç”Ÿç‰©</td>
      </tr>
      <tr>
          <td style="text-align: left">åŒ»é™¢åç§°</td>
          <td style="text-align: left"><br /></td>
          <td style="text-align: left">ç¨‹åºåç§°</td>
          <td style="text-align: left"><br /></td>
      </tr>
      <tr>
          <td style="text-align: left">ç»ˆç«¯æœåŠ¡å™¨åœ°å€</td>
          <td style="text-align: left"></td>
          <td style="text-align: left">ç»ˆç«¯æœåŠ¡å™¨ç«¯å£å·</td>
          <td></td>
      </tr>
  </tbody>
</table></div>
<h2 id="ä»ªå™¨ä¸Šæ¥å£æ ‡ç¤ºå’Œæ¥å£ç±»å‹"><strong>ä»ªå™¨ä¸Šæ¥å£æ ‡ç¤ºå’Œæ¥å£ç±»å‹</strong>
</h2><ol>
<li>æ¥å£ç±»å‹ï¼šä¸²å£â˜‘|ç½‘å£|ç›‘å¬æ–‡ä»¶|æ•°æ®åº“|å…¶ä»–</li>
<li>è¿æ¥æ–¹å¼ï¼šHL7åè®®|ASTMåè®®|ç›‘å¬æ–‡ä»¶|æ•°æ®åº“|å…¶ä»–</li>
</ol>
<h2 id="ä»ªå™¨æ¥å£è¯´æ˜">ä»ªå™¨æ¥å£è¯´æ˜
</h2><ul>
<li>æœ¬æ¥å£ä¸ºå•å‘ä¸²å£ä»ªå™¨ï¼Œé™„å½•åŒå‘ç›‘å¬æ¥å£</li>
<li>ç‰¹æ®ŠåŠŸèƒ½åŒ…å«æ‰¹é‡å¯¼å…¥å¾®ç”Ÿç‰©ç»†èŒå’ŒæŠ—ç”Ÿç´ é€šé“å·ï¼Œå‡å°‘äººå·¥æ“ä½œå·¥ä½œé‡</li>
</ul>
<h2 id="ä¸²å£ç›’å­é…ç½®">ä¸²å£ç›’å­é…ç½®
</h2><ul>
<li><strong>æ³¢ç‰¹ç‡ï¼š</strong> 9600</li>
<li><strong>æ•°æ®ä½ï¼š8</strong></li>
<li><strong>åœæ­¢ä½ï¼š</strong> 1</li>
<li><strong>æ ¡éªŒä½ï¼š</strong> N</li>
</ul>
<h2 id="ä»ªå™¨å›¾ç‰‡">ä»ªå™¨å›¾ç‰‡
</h2><p><img src="/p/%E6%A2%85%E9%87%8C%E5%9F%83myla-20250829154956/assets/f17d1a8e96716275f2c3f181faafabc6-20250822181636-iidux02.jpg"
	width="1702"
	height="1276"
	srcset="/p/%E6%A2%85%E9%87%8C%E5%9F%83myla-20250829154956/assets/f17d1a8e96716275f2c3f181faafabc6-20250822181636-iidux02_hu_34f1eafc5fd2ebeb.jpg 480w, /p/%E6%A2%85%E9%87%8C%E5%9F%83myla-20250829154956/assets/f17d1a8e96716275f2c3f181faafabc6-20250822181636-iidux02_hu_73c2e4b15f1a1fd6.jpg 1024w"
	loading="lazy"
	
		alt="f17d1a8e96716275f2c3f181faafabc6"
	
	
		class="gallery-image" 
		data-flex-grow="133"
		data-flex-basis="320px"
	
></p>
<h2 id="ä»ªå™¨é…ç½®">ä»ªå™¨é…ç½®
</h2><h2 id="æ•°æ®æ ¼å¼"><strong>æ•°æ®æ ¼å¼</strong>
</h2><p><img src="/p/%E6%A2%85%E9%87%8C%E5%9F%83myla-20250829154956/assets/image-20250822181720-w8oggaf.png"
	width="1567"
	height="230"
	srcset="/p/%E6%A2%85%E9%87%8C%E5%9F%83myla-20250829154956/assets/image-20250822181720-w8oggaf_hu_a38db69cdd27aa7.png 480w, /p/%E6%A2%85%E9%87%8C%E5%9F%83myla-20250829154956/assets/image-20250822181720-w8oggaf_hu_215e33c8797e2420.png 1024w"
	loading="lazy"
	
		alt="image"
	
	
		class="gallery-image" 
		data-flex-grow="681"
		data-flex-basis="1635px"
	
></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">H&lt;--M : 2025-08-13 09:44:59 : ENQ
</span></span><span class="line"><span class="cl">34
</span></span><span class="line"><span class="cl">H--&gt;M : 2025-08-13 09:44:59 : ACK
</span></span><span class="line"><span class="cl">35
</span></span><span class="line"><span class="cl">H--&gt;M : 2025-08-13 09:45:05 : ACK
</span></span><span class="line"><span class="cl">36
</span></span><span class="line"><span class="cl">H&lt;--M : 2025-08-13 09:45:05 : mtrsl|iiV2|is00001DB9AA0C|itSU|pi20250813|si|s0887|s108/13/2025|s308/13/2025|ci5ã€30ã€‘562|c0887|ta|rtAST-P639|rr352909|t11|o1stacap|ra|a1oxsf|a3Pos|a4+|ra|a1peng|a3&gt;=ã€30ã€‘0.5|a4R|ra|a1ox|a30.5|a4R|ra|a1gm|a3&lt;=0.5|a4S|ra|a1lev|a30.25|a4S|ra|a1mxf|a3&lt;=0ã€30ã€‘.25|a4S|ra|a1icr|a3Neg|a4-|ra|a1e|a3&lt;=0.25|a4S|ra|a1cc|a30.25|a4S|ra|a1lnz|a32|aã€30ã€‘4S|ra|a1dap|a31|a4S|ra|a1tpn|a31|a4S|ra|a1va|a3&lt;=0.5|a4S|ra|a1tgc|a3&lt;=0.12|a4S|rã€30ã€‘a|a1rif|a38|a4R|ra|a1sxt|a3&lt;=10|a4S|zz|
</span></span><span class="line"><span class="cl">37
</span></span><span class="line"><span class="cl">Result : 2025-08-13 09:45:05 : 5562$$stacap\oxsf]+]Pos][peng]R]&gt;=0.5][ox]R]0.5][gm]S]&lt;=0.5][lev]S]0.25][mxf]S]&lt;=0.25][icr]-]Neg][e]S]&lt;=0.25][cc]S]0.25][lnz]S]2][dap]S]1][tpn]S]1][va]S]&lt;=0.5][tgc]S]&lt;=0.12][rif]R]8][sxt]S]&lt;=10][\1,
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="é¡¹ç›®é€šé“å·"><strong>é¡¹ç›®é€šé“å·</strong>
</h2><p><img src="/p/%E6%A2%85%E9%87%8C%E5%9F%83myla-20250829154956/assets/image-20250822181752-jfhqnqm.png"
	width="277"
	height="118"
	srcset="/p/%E6%A2%85%E9%87%8C%E5%9F%83myla-20250829154956/assets/image-20250822181752-jfhqnqm_hu_d30397bfe79b973.png 480w, /p/%E6%A2%85%E9%87%8C%E5%9F%83myla-20250829154956/assets/image-20250822181752-jfhqnqm_hu_b8185ffe7b300b54.png 1024w"
	loading="lazy"
	
		alt="image"
	
	
		class="gallery-image" 
		data-flex-grow="234"
		data-flex-basis="563px"
	
></p>
<p><img src="/p/%E6%A2%85%E9%87%8C%E5%9F%83myla-20250829154956/assets/image-20250822182933-5qbu6o6.png"
	width="683"
	height="506"
	srcset="/p/%E6%A2%85%E9%87%8C%E5%9F%83myla-20250829154956/assets/image-20250822182933-5qbu6o6_hu_a5abf48682dd6c66.png 480w, /p/%E6%A2%85%E9%87%8C%E5%9F%83myla-20250829154956/assets/image-20250822182933-5qbu6o6_hu_3fee2fc1923a70e5.png 1024w"
	loading="lazy"
	
		alt="image"
	
	
		class="gallery-image" 
		data-flex-grow="134"
		data-flex-basis="323px"
	
></p>
<h2 id="ä¿®æ”¹è®°å½•">ä¿®æ”¹è®°å½•
</h2><div class="table-wrapper"><table>
  <thead>
      <tr>
          <th>åºå·</th>
          <th>æ—¥æœŸ</th>
          <th>æ“ä½œäºº</th>
          <th>è¯´æ˜</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>1</td>
          <td>2025-08-22 18:14:24<br /></td>
          <td>æ¨æµ©ç„¶</td>
          <td><br /></td>
      </tr>
  </tbody>
</table></div>
<h2 id="ä»ªå™¨æ¥å£ç¨‹åº">ä»ªå™¨æ¥å£ç¨‹åº
</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span><span class="lnt">192
</span><span class="lnt">193
</span><span class="lnt">194
</span><span class="lnt">195
</span><span class="lnt">196
</span><span class="lnt">197
</span><span class="lnt">198
</span><span class="lnt">199
</span><span class="lnt">200
</span><span class="lnt">201
</span><span class="lnt">202
</span><span class="lnt">203
</span><span class="lnt">204
</span><span class="lnt">205
</span><span class="lnt">206
</span><span class="lnt">207
</span><span class="lnt">208
</span><span class="lnt">209
</span><span class="lnt">210
</span><span class="lnt">211
</span><span class="lnt">212
</span><span class="lnt">213
</span><span class="lnt">214
</span><span class="lnt">215
</span><span class="lnt">216
</span><span class="lnt">217
</span><span class="lnt">218
</span><span class="lnt">219
</span><span class="lnt">220
</span><span class="lnt">221
</span><span class="lnt">222
</span><span class="lnt">223
</span><span class="lnt">224
</span><span class="lnt">225
</span><span class="lnt">226
</span><span class="lnt">227
</span><span class="lnt">228
</span><span class="lnt">229
</span><span class="lnt">230
</span><span class="lnt">231
</span><span class="lnt">232
</span><span class="lnt">233
</span><span class="lnt">234
</span><span class="lnt">235
</span><span class="lnt">236
</span><span class="lnt">237
</span><span class="lnt">238
</span><span class="lnt">239
</span><span class="lnt">240
</span><span class="lnt">241
</span><span class="lnt">242
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">MIFMYLA</span><span class="p">(</span><span class="n">mi</span><span class="p">)</span>  
</span></span><span class="line"><span class="cl">	<span class="o">///</span><span class="err">ä»ªå™¨åç§°</span><span class="p">:</span> <span class="err">æ¢…é‡ŒåŸƒ</span><span class="n">MYLA</span>
</span></span><span class="line"><span class="cl">	<span class="o">///</span><span class="err">ä»ªå™¨å‚å•†</span><span class="p">:</span> <span class="err">æ¢…é‡ŒåŸƒ</span>
</span></span><span class="line"><span class="cl">	<span class="o">///</span><span class="err">é€šä¿¡åè®®</span><span class="p">:</span> <span class="n">ASTM</span>
</span></span><span class="line"><span class="cl">	<span class="o">///</span><span class="err">äº¤äº’æ–¹å¼</span><span class="p">:</span> <span class="err">åŒå‘</span>
</span></span><span class="line"><span class="cl">	<span class="o">///</span><span class="err">æ¥</span> <span class="err">å£</span><span class="p">:</span> <span class="n">TCP</span><span class="o">/</span><span class="ne">IP</span> 
</span></span><span class="line"><span class="cl">	<span class="o">///</span><span class="err">ç¼–</span> <span class="err">å†™</span> <span class="err">è€…</span><span class="p">:</span> <span class="n">WxC</span>
</span></span><span class="line"><span class="cl">	<span class="o">///</span><span class="err">ç¼–å†™æ—¥æœŸ</span><span class="p">:</span> <span class="mi">2023</span><span class="o">-</span><span class="mi">08</span><span class="o">-</span><span class="mi">10</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">mi</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">mi</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="o">^</span><span class="n">TMPMACH10</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="mi">104</span><span class="p">)</span><span class="o">=$</span><span class="n">H</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="s1">&#39;$l(mi) q</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">ItemDeli</span><span class="o">=$</span><span class="n">li</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineParameterD</span><span class="p">(</span><span class="n">mi</span><span class="p">),</span><span class="mi">12</span><span class="p">)</span> <span class="o">//</span><span class="err">é¡¹ç›®åˆ†éš”ç¬¦</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">ResultDeli</span><span class="o">=$</span><span class="n">li</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineParameterD</span><span class="p">(</span><span class="n">mi</span><span class="p">),</span><span class="mi">13</span><span class="p">)</span> <span class="o">//</span><span class="err">ç»“æœåˆ†éš”ç¬¦</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">AntDeli</span><span class="o">=$</span><span class="n">li</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineParameterD</span><span class="p">(</span><span class="n">mi</span><span class="p">),</span><span class="mi">14</span><span class="p">)</span> <span class="o">//</span><span class="err">æŠ—ç”Ÿç´ åˆ†éš”ç¬¦</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">SenDeli</span><span class="o">=$</span><span class="n">li</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineParameterD</span><span class="p">(</span><span class="n">mi</span><span class="p">),</span><span class="mi">15</span><span class="p">)</span> <span class="o">//</span><span class="err">è¯æ•ç»“æœåˆ†éš”ç¬¦</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">Port</span><span class="o">=</span><span class="s2">&#34;|TCP|&#34;</span><span class="n">_</span><span class="o">$</span><span class="n">li</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineParameterD</span><span class="p">(</span><span class="n">mi</span><span class="p">),</span><span class="mi">17</span><span class="p">)</span>  <span class="o">//</span><span class="err">ç«¯å£å·</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">mi</span><span class="o">=</span><span class="n">mi</span>
</span></span><span class="line"><span class="cl">	<span class="o">//</span><span class="err">æ§åˆ¶å­—ç¬¦</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">isDebug</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">iError</span><span class="o">=</span><span class="mi">100</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">stx</span><span class="o">=$</span><span class="n">c</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">etx</span><span class="o">=$</span><span class="n">c</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="n">ack</span><span class="o">=$</span><span class="n">c</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span><span class="n">enq</span><span class="o">=$</span><span class="n">c</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="n">eot</span><span class="o">=$</span><span class="n">c</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="n">lf</span><span class="o">=$</span><span class="n">c</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="n">cr</span><span class="o">=$</span><span class="n">c</span><span class="p">(</span><span class="mi">13</span><span class="p">),</span><span class="n">nak</span><span class="o">=$</span><span class="n">c</span><span class="p">(</span><span class="mi">21</span><span class="p">),</span><span class="n">etb</span><span class="o">=$</span><span class="n">c</span><span class="p">(</span><span class="mi">23</span><span class="p">),</span><span class="n">end</span><span class="o">=$</span><span class="n">c</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">stx</span><span class="o">=$</span><span class="n">c</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span><span class="n">etx</span><span class="o">=$</span><span class="n">c</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span><span class="n">ack</span><span class="o">=$</span><span class="n">c</span><span class="p">(</span><span class="mi">6</span><span class="p">),</span><span class="n">enq</span><span class="o">=$</span><span class="n">c</span><span class="p">(</span><span class="mi">5</span><span class="p">),</span><span class="n">eot</span><span class="o">=$</span><span class="n">c</span><span class="p">(</span><span class="mi">4</span><span class="p">),</span><span class="n">etb</span><span class="o">=$</span><span class="n">c</span><span class="p">(</span><span class="mi">23</span><span class="p">),</span><span class="n">del</span><span class="o">=</span><span class="s2">&#34;|&#34;</span>
</span></span><span class="line"><span class="cl">  	<span class="n">s</span> <span class="n">end</span><span class="o">=$</span><span class="n">c</span><span class="p">(</span><span class="mi">30</span><span class="p">),</span><span class="n">gs</span><span class="o">=$</span><span class="n">c</span><span class="p">(</span><span class="mi">29</span><span class="p">),</span><span class="n">rs</span><span class="o">=$</span><span class="n">c</span><span class="p">(</span><span class="mi">30</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  	<span class="n">s</span> <span class="n">lf</span><span class="o">=$</span><span class="n">c</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span><span class="n">cr</span><span class="o">=$</span><span class="n">c</span><span class="p">(</span><span class="mi">13</span><span class="p">),</span><span class="n">nak</span><span class="o">=$</span><span class="n">c</span><span class="p">(</span><span class="mi">21</span><span class="p">),(</span><span class="n">AllRecord</span><span class="p">,</span><span class="n">result</span><span class="p">,</span><span class="n">epis</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="n">kk</span><span class="o">=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">	<span class="n">S</span> <span class="o">^</span><span class="n">TMPMACH10</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="mi">102</span><span class="p">)</span><span class="o">=$</span><span class="n">H</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="o">$$</span><span class="n">StartUTF8</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">)</span> <span class="n">q</span>
</span></span><span class="line"><span class="cl">	<span class="n">f</span>  <span class="n">d</span> <span class="n">Main</span> <span class="n">i</span> <span class="o">$$</span><span class="n">Stop</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">)</span> <span class="n">q</span>
</span></span><span class="line"><span class="cl">  	<span class="n">c</span> <span class="n">Port</span>
</span></span><span class="line"><span class="cl">    <span class="n">q</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="n">Main</span>  
</span></span><span class="line"><span class="cl">  <span class="n">r</span> <span class="o">*</span><span class="n">R</span><span class="p">:</span><span class="mi">10</span> <span class="n">e</span>  <span class="n">d</span>  <span class="n">q</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">d</span> <span class="n">ORDER</span>
</span></span><span class="line"><span class="cl">  <span class="n">SET</span> <span class="o">$</span><span class="n">ZTRAP</span><span class="o">=</span><span class="s2">&#34;ERR&#34;</span> 
</span></span><span class="line"><span class="cl">  <span class="n">i</span> <span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="o">=</span><span class="n">enq</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="s2">&#34;ENQ&#34;</span><span class="p">,</span><span class="s2">&#34;H&lt;--M&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">d</span> <span class="n">ACK</span> <span class="n">s</span> <span class="n">enqcnt</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">f</span>  <span class="n">r</span> <span class="o">*</span><span class="n">R</span><span class="p">:</span><span class="mi">10</span> <span class="n">q</span><span class="p">:</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="o">=</span><span class="n">eot</span>  <span class="n">q</span><span class="p">:</span><span class="n">R</span><span class="o">=-</span><span class="mi">1</span>  <span class="n">d</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">i</span> <span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="s1">&#39;=stx q</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">record</span><span class="o">=$$</span><span class="n">Read</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">end</span><span class="p">,</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">29</span><span class="p">))</span> <span class="n">q</span><span class="p">:</span><span class="s1">&#39;$l(record)</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">d</span> <span class="n">ACK</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">record</span><span class="p">,</span><span class="s2">&#34;H&lt;--M&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">record</span><span class="o">=$</span><span class="n">tr</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="n">rs</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">record</span><span class="o">=$</span><span class="n">tr</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="n">cr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">record</span><span class="o">=$</span><span class="n">tr</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="n">lf</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">AllRecord</span><span class="o">=</span><span class="n">record</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="n">etb</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1</span> <span class="n">s</span> <span class="n">AllRecord</span><span class="o">=</span><span class="n">AllRecord_</span><span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="o">$</span><span class="n">e</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">record</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="n">etb</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="n">etx</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">1</span> <span class="n">s</span> <span class="n">AllRecord</span><span class="o">=</span><span class="n">AllRecord_</span><span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="o">$</span><span class="n">e</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">record</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span><span class="n">etx</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">d</span> <span class="n">Result</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="o">$</span><span class="n">s</span><span class="p">(</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="o">=</span><span class="n">eot</span><span class="p">:</span><span class="s2">&#34;EOT&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">:</span><span class="n">R</span><span class="p">),</span><span class="s2">&#34;H&lt;--M&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">q</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="n">ERR</span>
</span></span><span class="line"><span class="cl">  <span class="n">h</span> <span class="mi">5</span>
</span></span><span class="line"><span class="cl">  <span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="o">$</span><span class="n">ZERROR_</span><span class="s2">&#34;.é”™è¯¯ä»£ç :&#34;</span><span class="n">_</span><span class="o">$</span><span class="n">ECODE</span><span class="p">,</span><span class="s2">&#34;err&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">q</span> 
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">Result</span>
</span></span><span class="line"><span class="cl">  <span class="n">s</span> <span class="p">(</span><span class="n">ORG</span><span class="p">,</span><span class="n">xANT</span><span class="p">,</span><span class="n">xMIC</span><span class="p">,</span><span class="n">xRES</span><span class="p">,</span><span class="n">ANTSTR</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="n">s</span> <span class="p">(</span><span class="n">sample</span><span class="p">,</span><span class="n">epis</span><span class="p">,</span><span class="n">surname</span><span class="p">,</span><span class="n">result</span><span class="p">,</span><span class="n">date</span><span class="p">,</span><span class="n">time</span><span class="p">,</span><span class="n">QC</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="n">s</span> <span class="n">isolate</span><span class="o">=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">  <span class="n">f</span> <span class="n">k</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">AllRecord</span><span class="p">,</span><span class="s2">&#34;zz&#34;</span><span class="p">)</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">s</span> <span class="n">recstr</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="n">AllRecord</span><span class="p">,</span><span class="s2">&#34;zz&#34;</span><span class="p">,</span><span class="n">k</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">f</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">recstr</span><span class="p">,</span><span class="n">del</span><span class="p">)</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">fldstr</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="n">recstr</span><span class="p">,</span><span class="n">del</span><span class="p">,</span><span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">i</span> <span class="o">$</span><span class="n">e</span><span class="p">(</span><span class="n">fldstr</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;ci&#34;</span> <span class="n">d</span>  <span class="n">q</span>   <span class="o">///</span><span class="n">epis</span>
</span></span><span class="line"><span class="cl">  <span class="o">...</span><span class="n">s</span> <span class="n">epis</span><span class="o">=$</span><span class="n">e</span><span class="p">(</span><span class="n">fldstr</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">fldstr</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="o">...</span><span class="p">;</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">epis</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">9</span> <span class="n">s</span> <span class="n">epis</span><span class="o">=$</span><span class="n">tr</span><span class="p">(</span><span class="o">$</span><span class="n">j</span><span class="p">(</span><span class="n">epis</span><span class="p">,</span><span class="mi">9</span><span class="p">),</span><span class="s2">&#34; &#34;</span><span class="p">,</span><span class="s2">&#34;0&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">i</span> <span class="o">$</span><span class="n">e</span><span class="p">(</span><span class="n">fldstr</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;t1&#34;</span> <span class="n">d</span>  <span class="n">q</span>  <span class="o">///</span><span class="n">isolate</span> <span class="n">NO</span>
</span></span><span class="line"><span class="cl">  <span class="o">...</span><span class="n">s</span> <span class="n">isolate</span><span class="o">=$</span><span class="n">e</span><span class="p">(</span><span class="n">fldstr</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">fldstr</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="o">...</span><span class="n">i</span> <span class="s1">&#39;$l(isolate) s isolate=1</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">i</span> <span class="o">$</span><span class="n">e</span><span class="p">(</span><span class="n">fldstr</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;o1&#34;</span> <span class="n">d</span>  <span class="n">q</span>  <span class="o">///</span><span class="n">org</span>
</span></span><span class="line"><span class="cl">  <span class="o">...</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">ORG</span><span class="p">)</span> <span class="n">s</span> <span class="n">result</span><span class="o">=</span><span class="n">result_ORG_ResultDeli_ANTSTR_ResultDeli_isolate_ItemDeli</span>
</span></span><span class="line"><span class="cl">  <span class="o">...</span><span class="n">s</span> <span class="p">(</span><span class="n">ORG</span><span class="p">,</span><span class="n">xANT</span><span class="p">,</span><span class="n">xMIC</span><span class="p">,</span><span class="n">xRES</span><span class="p">,</span><span class="n">ANTSTR</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">...</span><span class="n">s</span> <span class="n">ORG</span><span class="o">=$</span><span class="n">e</span><span class="p">(</span><span class="n">fldstr</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">fldstr</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">i</span> <span class="o">$</span><span class="n">e</span><span class="p">(</span><span class="n">fldstr</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;a1&#34;</span> <span class="n">d</span>  <span class="n">q</span>  <span class="o">///</span><span class="n">ant</span>
</span></span><span class="line"><span class="cl">  <span class="o">...</span><span class="n">s</span> <span class="n">xANT</span><span class="o">=$</span><span class="n">e</span><span class="p">(</span><span class="n">fldstr</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">fldstr</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">i</span> <span class="o">$</span><span class="n">e</span><span class="p">(</span><span class="n">fldstr</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;a3&#34;</span> <span class="n">d</span>  <span class="n">q</span>  <span class="o">///</span><span class="n">mic</span>
</span></span><span class="line"><span class="cl">  <span class="o">...</span><span class="n">s</span> <span class="n">xMIC</span><span class="o">=$</span><span class="n">e</span><span class="p">(</span><span class="n">fldstr</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">fldstr</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">i</span> <span class="o">$</span><span class="n">e</span><span class="p">(</span><span class="n">fldstr</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;a4&#34;</span> <span class="n">d</span>  <span class="n">q</span>  <span class="o">///</span><span class="n">res</span>
</span></span><span class="line"><span class="cl">  <span class="o">...</span><span class="n">s</span> <span class="n">xRES</span><span class="o">=$</span><span class="n">e</span><span class="p">(</span><span class="n">fldstr</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">fldstr</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="o">...</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">xANT</span><span class="p">),</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">xRES</span><span class="p">)</span> <span class="n">D</span>
</span></span><span class="line"><span class="cl">  <span class="o">....</span><span class="n">S</span> <span class="n">xMIC</span><span class="o">=$</span><span class="n">TR</span><span class="p">(</span><span class="n">xMIC</span><span class="p">,</span><span class="s2">&#34; &#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">....</span><span class="n">i</span> <span class="n">xMIC</span><span class="o">=</span><span class="s2">&#34;SYN-R&#34;</span> <span class="n">s</span> <span class="n">xMIC</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">....</span><span class="n">i</span> <span class="n">xMIC</span><span class="o">=</span><span class="s2">&#34;SYN-S&#34;</span> <span class="n">s</span> <span class="n">xMIC</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">....</span><span class="n">I</span> <span class="n">xANT</span><span class="o">=</span><span class="s2">&#34;HLG&#34;</span><span class="p">,</span><span class="s1">&#39;$L(xMIC) D  //é«˜æµ“åº¦åº†å¤§éœ‰ç´ ,wwh,20150708</span>
</span></span><span class="line"><span class="cl">  <span class="o">.....</span><span class="n">S</span><span class="p">:</span><span class="n">xRES</span><span class="o">=</span><span class="s2">&#34;R&#34;</span> <span class="n">xMIC</span><span class="o">=</span><span class="s2">&#34;&gt;500&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">.....</span><span class="n">S</span><span class="p">:</span><span class="n">xRES</span><span class="o">=</span><span class="s2">&#34;S&#34;</span> <span class="n">xMIC</span><span class="o">=</span><span class="s2">&#34;&lt;500&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">....</span><span class="n">I</span> <span class="n">xANT</span><span class="o">=</span><span class="s2">&#34;HLS&#34;</span><span class="p">,</span><span class="s1">&#39;$L(xMIC) D	//é«˜æµ“åº¦é“¾éœ‰ç´ ,wwh,20150708</span>
</span></span><span class="line"><span class="cl">  <span class="o">.....</span><span class="n">S</span><span class="p">:</span><span class="n">xRES</span><span class="o">=</span><span class="s2">&#34;R&#34;</span> <span class="n">xMIC</span><span class="o">=</span><span class="s2">&#34;&gt;1000&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">.....</span><span class="n">S</span><span class="p">:</span><span class="n">xRES</span><span class="o">=</span><span class="s2">&#34;S&#34;</span> <span class="n">xMIC</span><span class="o">=</span><span class="s2">&#34;&lt;=500&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">....</span><span class="n">I</span> <span class="n">xANT</span><span class="o">=</span><span class="s2">&#34;SXT&#34;</span> <span class="n">D</span>	<span class="o">//</span><span class="err">å¤æ–¹æ–°è¯ºæ˜</span><span class="p">,</span><span class="n">wwh</span><span class="p">,</span><span class="mi">20150708</span>
</span></span><span class="line"><span class="cl">  <span class="o">.....//</span><span class="err">è½¬æ¢ç»“æœ</span> <span class="mi">20160126</span> <span class="n">huhm</span>
</span></span><span class="line"><span class="cl">  <span class="o">.....</span><span class="n">s</span> <span class="n">Flag</span><span class="o">=</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="n">MicRes</span><span class="o">=</span><span class="n">xMIC</span>
</span></span><span class="line"><span class="cl">  <span class="o">.....</span><span class="n">i</span> <span class="p">(</span><span class="o">$</span><span class="n">e</span><span class="p">(</span><span class="n">xMIC</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;&lt;&#34;</span><span class="p">)</span><span class="o">!</span><span class="p">(</span><span class="o">$</span><span class="n">e</span><span class="p">(</span><span class="n">xMIC</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;&gt;&#34;</span><span class="p">)</span> <span class="n">s</span> <span class="n">Flag</span><span class="o">=$</span><span class="n">e</span><span class="p">(</span><span class="n">xMIC</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">MicRes</span><span class="o">=$</span><span class="n">e</span><span class="p">(</span><span class="n">xMIC</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">xMIC</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="o">.....</span><span class="n">i</span> <span class="o">$</span><span class="n">e</span><span class="p">(</span><span class="n">MicRes</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;=&#34;</span> <span class="n">s</span> <span class="n">Flag</span><span class="o">=</span><span class="n">Flag_</span><span class="o">$</span><span class="n">e</span><span class="p">(</span><span class="n">MicRes</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">MicRes</span><span class="o">=$</span><span class="n">e</span><span class="p">(</span><span class="n">MicRes</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">MicRes</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">  <span class="o">.....</span><span class="n">S</span><span class="p">:</span><span class="n">MicRes</span><span class="o">=</span><span class="s2">&#34;10&#34;</span> <span class="n">MicRes</span><span class="o">=</span><span class="s2">&#34;0.5/9.5&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">.....</span><span class="n">S</span><span class="p">:</span><span class="n">MicRes</span><span class="o">=</span><span class="s2">&#34;20&#34;</span> <span class="n">MicRes</span><span class="o">=</span><span class="s2">&#34;1/19&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">.....</span><span class="n">S</span><span class="p">:</span><span class="n">MicRes</span><span class="o">=</span><span class="s2">&#34;40&#34;</span> <span class="n">MicRes</span><span class="o">=</span><span class="s2">&#34;2/38&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">.....</span><span class="n">S</span><span class="p">:</span><span class="n">MicRes</span><span class="o">=</span><span class="s2">&#34;80&#34;</span> <span class="n">MicRes</span><span class="o">=</span><span class="s2">&#34;4/76&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">.....</span><span class="n">S</span><span class="p">:</span><span class="n">MicRes</span><span class="o">=</span><span class="s2">&#34;160&#34;</span> <span class="n">MicRes</span><span class="o">=</span><span class="s2">&#34;8/152&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">.....</span><span class="n">S</span><span class="p">:</span><span class="n">MicRes</span><span class="o">=</span><span class="s2">&#34;320&#34;</span> <span class="n">MicRes</span><span class="o">=</span><span class="s2">&#34;16/304&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">.....</span><span class="n">s</span> <span class="n">xMIC</span><span class="o">=</span><span class="n">Flag_MicRes</span>
</span></span><span class="line"><span class="cl">  <span class="o">....</span><span class="n">s</span> <span class="n">ANTSTR</span><span class="o">=</span><span class="n">ANTSTR_xANT_SenDeli_xRES_SenDeli_xMIC_SenDeli_AntDeli</span>
</span></span><span class="line"><span class="cl">  <span class="o">....</span><span class="n">s</span> <span class="p">(</span><span class="n">xANT</span><span class="p">,</span><span class="n">xMIC</span><span class="p">,</span><span class="n">xRES</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">ORG</span><span class="p">)</span> <span class="n">s</span> <span class="n">result</span><span class="o">=</span><span class="n">result_ORG_ResultDeli_ANTSTR_ResultDeli_isolate_ItemDeli</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">d</span> <span class="n">Last</span>
</span></span><span class="line"><span class="cl">  <span class="n">q</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="n">Last</span>  <span class="p">;</span> <span class="n">file</span> <span class="n">result</span> <span class="k">if</span> <span class="n">exist</span>
</span></span><span class="line"><span class="cl">  <span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">epis</span><span class="p">),</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">result</span><span class="p">)</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="p">;</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">epis</span><span class="p">)</span> <span class="n">s</span> <span class="n">epis</span><span class="o">=+</span><span class="n">epis</span>
</span></span><span class="line"><span class="cl">  <span class="o">.//</span><span class="n">d</span> <span class="n">SaveAnt</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="mi">23</span><span class="p">,</span><span class="mi">240407002</span><span class="p">,</span><span class="s2">&#34;klepne</span><span class="se">\a</span><span class="s2">ms]R]Neg][cz06]R]&gt;=128][cz03]R]&gt;=64][cte]I]][taz]R]&gt;=64][ctr]R]][fep]S]8][azm]R]][imi]R]8][an]R]&gt;=64][gm]S]4][tob]R]&gt;=16][cip]R]&gt;=4][lev]R]][ftn]R]256][sxt]R]][</span><span class="se">\1</span><span class="s2">,klepne</span><span class="se">\a</span><span class="s2">ms]R]Neg][cz06]R]&gt;=128][cz03]R]&gt;=64][cte]I]][taz]R]&gt;=64][ctr]R]][fep]S]8][azm]R]][imi]R]8][an]R]&gt;=64][gm]S]4][tob]R]&gt;=16][cip]R]&gt;=4][lev]R]][ftn]R]256][sxt]R]][</span><span class="se">\1</span><span class="s2">,&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">epis_</span><span class="s2">&#34;$$&#34;</span><span class="n">_result</span><span class="p">,</span><span class="s2">&#34;Result&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">d</span> <span class="n">SaveAnt</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">epis</span><span class="p">,</span><span class="n">result</span><span class="p">,</span><span class="n">date</span><span class="p">,</span><span class="n">time</span><span class="p">,</span><span class="n">QC</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">s</span> <span class="p">(</span><span class="n">sample</span><span class="p">,</span><span class="n">epis</span><span class="p">,</span><span class="n">surname</span><span class="p">,</span><span class="n">result</span><span class="p">,</span><span class="n">date</span><span class="p">,</span><span class="n">time</span><span class="p">,</span><span class="n">QC</span><span class="p">,</span><span class="n">miEpis</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="n">q</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl"><span class="n">CHSUM</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>  <span class="p">;</span> <span class="n">calculate</span> <span class="n">check</span> <span class="n">sum</span>
</span></span><span class="line"><span class="cl">  <span class="n">n</span> <span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="n">s</span> <span class="n">z</span><span class="o">=</span><span class="mi">0</span> <span class="n">f</span> <span class="n">y</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="n">s</span> <span class="n">z</span><span class="o">=</span><span class="n">z</span><span class="o">+$</span><span class="n">a</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">s</span> <span class="n">z</span><span class="o">=$</span><span class="n">e</span><span class="p">(</span><span class="s2">&#34;0123456789ABCDEF&#34;</span><span class="p">,</span><span class="n">z</span><span class="c1">#256\16+1)_$e(&#34;0123456789ABCDEF&#34;,z#16+1)</span>
</span></span><span class="line"><span class="cl">  <span class="n">q</span> <span class="n">z</span>
</span></span><span class="line"><span class="cl"><span class="n">ACK</span>  <span class="p">;</span> <span class="n">send</span> <span class="s1">&#39;ack&#39;</span> <span class="n">to</span> <span class="n">instrument</span>
</span></span><span class="line"><span class="cl">  <span class="n">h</span> <span class="mf">0.1</span>
</span></span><span class="line"><span class="cl">  <span class="n">w</span> <span class="n">ack</span><span class="p">,</span><span class="o">*-</span><span class="mi">3</span>
</span></span><span class="line"><span class="cl">  <span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="s2">&#34;ACK&#34;</span><span class="p">,</span><span class="s2">&#34;H--&gt;M&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">q</span>
</span></span><span class="line"><span class="cl"> 	
</span></span><span class="line"><span class="cl"> 	<span class="o">///</span> <span class="n">d</span> <span class="n">ORDER</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIFVITEKMS</span>
</span></span><span class="line"><span class="cl"><span class="n">ORDER</span>
</span></span><span class="line"><span class="cl">  	<span class="n">K</span> <span class="o">^</span><span class="n">TMP</span><span class="p">(</span><span class="o">$</span><span class="n">zn</span><span class="p">,</span><span class="o">$</span><span class="n">j</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">LabnoList</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">///</span> <span class="err">æ–°å»ºä¸Šä¼ </span>
</span></span><span class="line"><span class="cl">    <span class="n">S</span> <span class="n">AddDate</span><span class="o">=$</span><span class="n">tr</span><span class="p">(</span><span class="o">$</span><span class="n">zd</span><span class="p">(</span><span class="o">+$</span><span class="n">h</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="s2">&#34;-&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">AddTime</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="n">f</span>  <span class="n">s</span> <span class="n">AddTime</span><span class="o">=$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPMachineUploadI</span><span class="p">(</span><span class="s2">&#34;IndexSendStatus&#34;</span><span class="p">,</span><span class="n">mi</span><span class="p">,</span><span class="s2">&#34; C&#34;</span><span class="p">,</span><span class="n">AddDate</span><span class="p">,</span><span class="n">AddTime</span><span class="p">))</span> <span class="n">q</span><span class="p">:</span><span class="n">AddTime</span><span class="o">=</span><span class="s2">&#34;&#34;</span>  <span class="n">d</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">MiUploadDR</span><span class="o">=$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPMachineUploadI</span><span class="p">(</span><span class="s2">&#34;IndexSendStatus&#34;</span><span class="p">,</span><span class="n">mi</span><span class="p">,</span><span class="s2">&#34; C&#34;</span><span class="p">,</span><span class="n">AddDate</span><span class="p">,</span><span class="n">AddTime</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="o">.//</span><span class="mi">10</span><span class="err">ç§’ä»¥å†…çš„å…ˆä¸ä¸Šä¼ ï¼Œé˜²æ­¢æ²¡æ¥æ”¶å®Œ</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="p">(</span><span class="n">AddDate</span><span class="o">=$</span><span class="n">zd</span><span class="p">(</span><span class="o">$</span><span class="n">h</span><span class="p">,</span><span class="mi">8</span><span class="p">)),((</span><span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="o">$</span><span class="n">h</span><span class="p">,</span><span class="s2">&#34;,&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">-</span><span class="n">AddTime</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">10</span><span class="p">)</span> <span class="n">q</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">Labno</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPMachineUploadD</span><span class="p">(</span><span class="n">MiUploadDR</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">Labno</span><span class="p">)</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="o">$</span><span class="n">e</span><span class="p">(</span><span class="n">Labno</span><span class="p">)</span><span class="o">=</span><span class="mi">9</span> <span class="n">d</span>   <span class="o">///</span><span class="err">æ‰‹å·¥ç™»è®°æ ‡æœ¬é»˜è®¤ä¸ä¸Šä¼ ï¼Œå¤±è´¥å¤„ç†</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">err</span><span class="o">=</span><span class="c1">##Class(MI.MachineUpload).SetSendFlag(mi,Labno,&#34;F&#34;,&#34;&#34;)</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">H</span> <span class="mi">1</span>  <span class="o">//</span><span class="err">æ¯éš”</span><span class="mi">2</span><span class="n">Så¤„ç†ä¸€ä¸ªæ ‡æœ¬</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">D</span><span class="p">:</span><span class="n">isDebug</span> <span class="n">Log</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="s2">&#34;BUILD|labno=&#34;</span><span class="n">_Labno</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">S</span> <span class="n">SIMAck</span><span class="o">=$$</span><span class="n">BUILD</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">I</span> <span class="n">SIMAck</span><span class="o">=</span><span class="mi">0</span> <span class="n">D</span>  
</span></span><span class="line"><span class="cl">    <span class="o">..</span><span class="n">s</span> <span class="n">err</span><span class="o">=</span><span class="c1">##Class(MI.MachineUpload).SetSendFlag(mi,Labno,&#34;S&#34;,&#34;&#34;)</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">E</span>  <span class="n">D</span>
</span></span><span class="line"><span class="cl">    <span class="o">..</span><span class="n">D</span><span class="p">:</span><span class="n">isDebug</span> <span class="n">Log</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="s2">&#34;BUILD|Fail:labno=&#34;</span><span class="n">_Labno</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">..//</span><span class="n">Q</span><span class="p">:</span><span class="n">tryTimes</span><span class="o">&lt;</span><span class="mi">4</span>  <span class="o">//</span><span class="err">å¤±è´¥</span><span class="mi">3</span><span class="err">æ¬¡æ‰æ›´æ–°å¤±è´¥çŠ¶æ€</span>
</span></span><span class="line"><span class="cl">    <span class="o">..</span><span class="n">s</span> <span class="n">err</span><span class="o">=</span><span class="c1">##Class(MI.MachineUpload).SetSendFlag(mi,Labno,&#34;F&#34;,&#34;&#34;)</span>
</span></span><span class="line"><span class="cl">    <span class="n">q</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl"><span class="n">BUILD</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="n">S</span> <span class="n">suffix</span><span class="o">=</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="n">RetAck</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">epis</span><span class="o">=</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="n">num</span><span class="o">=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">	<span class="n">S</span> <span class="p">(</span><span class="n">SName</span><span class="p">,</span><span class="n">GName</span><span class="p">,</span><span class="n">diag</span><span class="p">,</span><span class="n">SpecimenDR</span><span class="p">,</span><span class="n">SpecimenCode</span><span class="p">,</span><span class="n">debtor</span><span class="p">,</span><span class="n">SpeciesDR</span><span class="p">,</span><span class="n">Species</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">S</span> <span class="p">(</span><span class="n">DOB</span><span class="p">,</span><span class="n">LocationDR</span><span class="p">,</span><span class="n">WardDR</span><span class="p">,</span><span class="n">docDR</span><span class="p">,</span><span class="n">docCode</span><span class="p">,</span><span class="n">docDesc</span><span class="p">,</span><span class="n">CollDate</span><span class="p">,</span><span class="n">CollTime</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">VisitNumberDR</span><span class="o">=$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberI</span><span class="p">(</span><span class="s2">&#34;IndexVisitNumber&#34;</span><span class="p">,</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span><span class="n">_Labno</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="s1">&#39;$l(VisitNumberDR) q</span>
</span></span><span class="line"><span class="cl"> 	<span class="n">s</span> <span class="n">VisitNumberData</span> <span class="o">=</span> <span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberD</span><span class="p">(</span><span class="n">VisitNumberDR</span><span class="p">))</span>
</span></span><span class="line"><span class="cl"> 	<span class="o">///</span> <span class="mi">05</span><span class="err">ä¾¿åŸ¹å…»ç»„</span> <span class="mi">16</span><span class="err">ç»“æ ¸åŸ¹å…»</span> <span class="mi">15</span><span class="err">æ·‹èŒåŸ¹å…»ç»„</span> <span class="mi">06</span><span class="err">è¡€åŸ¹å…»</span> <span class="mi">07</span><span class="err">ä¸€èˆ¬ç»†èŒ</span> <span class="mi">08</span><span class="err">ä¸€èˆ¬ç»†èŒ</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">SName</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">VisitNumberData</span><span class="p">,</span><span class="mi">13</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">GName</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">VisitNumberData</span><span class="p">,</span><span class="mi">13</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">S</span> <span class="n">diag</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">VisitNumberData</span><span class="p">,</span><span class="mi">28</span><span class="p">)</span> <span class="p">;;;</span> <span class="err">è¯Šæ–­</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">SpecimenDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">VisitNumberData</span><span class="p">,</span><span class="mi">56</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">SpecimenCode</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTSpecimenD</span><span class="p">(</span><span class="n">SpecimenDR</span><span class="p">)),</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">debtor</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">VisitNumberData</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span> <span class="p">;</span><span class="err">ç™»è®°å·</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">hospital</span><span class="o">=</span><span class="s2">&#34;ZGYDYY&#34;</span>    <span class="o">///</span><span class="err">ä¸­å›½åŒ»å¤§ä¸€é™¢</span>
</span></span><span class="line"><span class="cl"> 	<span class="n">s</span> <span class="n">SpeciesDR</span> <span class="o">=</span> <span class="o">$</span><span class="n">lg</span><span class="p">(</span><span class="n">VisitNumberData</span><span class="p">,</span><span class="mi">15</span><span class="p">)</span> <span class="p">;</span><span class="err">æ€§åˆ«</span>
</span></span><span class="line"><span class="cl"> 	<span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">SpeciesDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">Species</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTSpeciesD</span><span class="p">(</span><span class="n">SpeciesDR</span><span class="p">),</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="o">$</span><span class="n">lg</span><span class="p">(</span><span class="n">VisitNumberData</span><span class="p">,</span><span class="mi">16</span><span class="p">))</span> <span class="n">s</span> <span class="n">DOB</span><span class="o">=$</span><span class="n">tr</span><span class="p">(</span><span class="o">$</span><span class="n">zd</span><span class="p">(</span><span class="o">$</span><span class="n">zdh</span><span class="p">(</span><span class="o">$</span><span class="n">lg</span><span class="p">(</span><span class="n">VisitNumberData</span><span class="p">,</span><span class="mi">16</span><span class="p">),</span><span class="mi">8</span><span class="p">),</span><span class="mi">3</span><span class="p">),</span><span class="s2">&#34;-&#34;</span><span class="p">,</span><span class="s2">&#34;/&#34;</span><span class="p">)</span> <span class="p">;</span><span class="err">å‡ºç”Ÿæ—¥æœŸ</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="p">(</span><span class="n">LocationCode</span><span class="p">,</span><span class="n">LocationDesc</span><span class="p">,</span><span class="n">WardCode</span><span class="p">,</span><span class="n">WardDesc</span><span class="p">,</span><span class="n">WardCodeOLD</span><span class="p">,</span><span class="n">LocationCodeOLD</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">LocationDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">VisitNumberData</span><span class="p">,</span><span class="mi">22</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">LocationDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">LocationCode</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTLocationD</span><span class="p">(</span><span class="n">LocationDR</span><span class="p">),</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">LocationDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">LocationDesc</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTLocationD</span><span class="p">(</span><span class="n">LocationDR</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">WardDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">VisitNumberData</span><span class="p">,</span><span class="mi">26</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">WardDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">WardCode</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTWardD</span><span class="p">(</span><span class="n">WardDR</span><span class="p">),</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">WardDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">WardDesc</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTWardD</span><span class="p">(</span><span class="n">WardDR</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="n">WardDesc</span><span class="p">[</span><span class="s2">&#34;-&#34;</span> <span class="n">s</span> <span class="n">WardDesc</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="n">WardDesc</span><span class="p">,</span><span class="s2">&#34;-&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">docDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">VisitNumberData</span><span class="p">,</span><span class="mi">23</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">docDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">docCode</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTDoctorD</span><span class="p">(</span><span class="n">docDR</span><span class="p">),</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">docDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">docDesc</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTDoctorD</span><span class="p">(</span><span class="n">docDR</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">CollDate</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">VisitNumberData</span><span class="p">,</span><span class="mi">51</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">CollDate</span><span class="p">)</span> <span class="n">s</span> <span class="n">CollDate</span><span class="o">=$</span><span class="n">tr</span><span class="p">(</span><span class="o">$</span><span class="n">zd</span><span class="p">(</span><span class="o">$</span><span class="n">zdh</span><span class="p">(</span><span class="n">CollDate</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span><span class="mi">3</span><span class="p">),</span><span class="s2">&#34;-&#34;</span><span class="p">,</span><span class="s2">&#34;/&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">CollTime</span><span class="o">=$</span><span class="n">zt</span><span class="p">(</span><span class="o">$</span><span class="n">lg</span><span class="p">(</span><span class="n">VisitNumberData</span><span class="p">,</span><span class="mi">52</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">WorkGroupMachDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineParameterD</span><span class="p">(</span><span class="n">mi</span><span class="p">),</span><span class="mi">6</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> 	<span class="o">//</span><span class="err">å¤šæ¡åŒ»å˜±ä¿¡æ¯åˆå¹¶</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">TSName</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"> 	<span class="n">s</span> <span class="n">TestSetDR</span> <span class="o">=</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"> 	<span class="k">for</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="n">s</span> <span class="n">TestSetDR</span> <span class="o">=</span> <span class="o">$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberTestSetI</span><span class="p">(</span><span class="s2">&#34;IndexMaster&#34;</span><span class="p">,</span><span class="n">VisitNumberDR</span><span class="p">,</span><span class="n">TestSetDR</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">		<span class="n">q</span><span class="p">:</span><span class="n">TestSetDR</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">		<span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">TSName</span><span class="p">)</span> <span class="n">s</span> <span class="n">TSName</span><span class="o">=</span><span class="n">TSName_</span><span class="s2">&#34;+&#34;</span><span class="n">_</span><span class="o">$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTTestSetD</span><span class="p">(</span><span class="n">TestSetDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		<span class="n">e</span>  <span class="n">s</span> <span class="n">TSName</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTTestSetD</span><span class="p">(</span><span class="n">TestSetDR</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> 	<span class="p">}</span>
</span></span><span class="line"><span class="cl">	<span class="n">d</span> <span class="n">ScanOne</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">Labno</span><span class="p">)</span> <span class="p">;</span><span class="err">åˆ›å»ºä¸Šä¼ åŒ–éªŒé¡¹ç›®åˆ—è¡¨</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="s1">&#39;$D(^TMP(&#34;MIFTESTCODE&#34;,$j,mi,Labno)) q 1</span>
</span></span><span class="line"><span class="cl">	<span class="n">S</span> <span class="n">tcx</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">S</span> <span class="n">chl</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="n">F</span>  <span class="n">S</span> <span class="n">chl</span><span class="o">=$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">TMP</span><span class="p">(</span><span class="s2">&#34;MIFTESTCODE&#34;</span><span class="p">,</span><span class="o">$</span><span class="n">j</span><span class="p">,</span><span class="n">mi</span><span class="p">,</span><span class="n">Labno</span><span class="p">,</span><span class="n">chl</span><span class="p">))</span> <span class="n">Q</span><span class="p">:</span><span class="n">chl</span><span class="o">=</span><span class="s2">&#34;&#34;</span>  <span class="n">D</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">S</span> <span class="n">tcx</span><span class="o">=</span><span class="n">tcx_</span><span class="s2">&#34;^^^&#34;</span><span class="n">_chl_</span><span class="s2">&#34;</span><span class="se">\&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">S</span> <span class="n">date</span><span class="o">=$</span><span class="n">tr</span><span class="p">(</span><span class="o">$</span><span class="n">zd</span><span class="p">(</span><span class="o">+$</span><span class="n">h</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="s2">&#34;-&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">S</span> <span class="n">time</span><span class="o">=$</span><span class="n">tr</span><span class="p">(</span><span class="o">$</span><span class="n">zt</span><span class="p">(</span><span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="o">$</span><span class="n">h</span><span class="p">,</span><span class="s2">&#34;,&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">)),</span><span class="s2">&#34;:&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">S</span> <span class="n">temepis</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">OrderNo</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="n">f</span>  <span class="n">s</span> <span class="n">OrderNo</span><span class="o">=$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberReportI</span><span class="p">(</span><span class="s2">&#34;IndexReportID&#34;</span><span class="p">,</span><span class="n">VisitNumberDR</span><span class="p">,</span><span class="n">WorkGroupMachDR</span><span class="p">,</span><span class="n">OrderNo</span><span class="p">))</span> <span class="n">q</span><span class="p">:</span><span class="n">OrderNo</span><span class="o">=</span><span class="s2">&#34;&#34;</span>  <span class="n">d</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">ReportDR</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="n">f</span>  <span class="n">s</span> <span class="n">ReportDR</span><span class="o">=$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberReportI</span><span class="p">(</span><span class="s2">&#34;IndexReportID&#34;</span><span class="p">,</span><span class="n">VisitNumberDR</span><span class="p">,</span><span class="n">WorkGroupMachDR</span><span class="p">,</span><span class="n">OrderNo</span><span class="p">,</span><span class="n">ReportDR</span><span class="p">))</span> <span class="n">q</span><span class="p">:</span><span class="n">ReportDR</span><span class="o">=</span><span class="s2">&#34;&#34;</span>  <span class="n">d</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">epis</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberReportD</span><span class="p">(</span><span class="n">ReportDR</span><span class="p">),</span><span class="mi">8</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">..//</span> <span class="err">ç™»è®°å·</span> <span class="err">æ¡ç å·</span> <span class="err">å§“å</span> <span class="err">æ€§åˆ«</span><span class="p">(</span><span class="n">M</span><span class="p">,</span><span class="n">F</span><span class="p">)</span> <span class="err">å‡ºç”Ÿæ—¥æœŸ</span><span class="p">(</span><span class="mi">1992</span><span class="o">/</span><span class="mi">05</span><span class="o">/</span><span class="mi">13</span><span class="p">)</span> <span class="err">æ€§åˆ«</span> <span class="err">ç—…åŒº</span><span class="n">ID</span> <span class="err">ç§‘å®¤</span><span class="n">ID</span> <span class="err">åŒ»é™¢ä»£ç </span> <span class="err">åŒ»ç”Ÿä»£ç </span> <span class="err">åŒ»ç”Ÿå§“å</span> <span class="err">é‡‡é›†æ—¥æœŸ</span><span class="p">(</span><span class="mi">1992</span><span class="o">-</span><span class="mi">05</span><span class="o">-</span><span class="mi">13</span><span class="p">)</span> <span class="err">é‡‡é›†æ—¶é—´</span><span class="p">(</span><span class="mi">08</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">)</span> <span class="err">æµæ°´å·</span> <span class="err">æ ‡æœ¬ç±»å‹</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="nb">str</span><span class="o">=</span><span class="s2">&#34;mtmpr|pi&#34;</span><span class="n">_debtor_</span><span class="s2">&#34;|pn&#34;</span><span class="n">_Labno_</span><span class="s2">&#34;|qc&#34;</span><span class="n">_</span><span class="o">$</span><span class="n">zcvt</span><span class="p">(</span><span class="n">SName</span><span class="p">,</span><span class="s2">&#34;O&#34;</span><span class="p">,</span><span class="s2">&#34;UTF8&#34;</span><span class="p">)</span><span class="n">_</span><span class="s2">&#34;|pb&#34;</span><span class="n">_DOB_</span><span class="s2">&#34;|ps&#34;</span><span class="n">_Species_</span><span class="s2">&#34;|px&#34;</span><span class="n">_LocationCode_</span><span class="s2">&#34;|p2&#34;</span><span class="n">_</span><span class="o">$</span><span class="n">zcvt</span><span class="p">(</span><span class="n">WardDesc</span><span class="p">,</span><span class="s2">&#34;O&#34;</span><span class="p">,</span><span class="s2">&#34;UTF8&#34;</span><span class="p">)</span><span class="n">_</span><span class="s2">&#34;|qi&#34;</span><span class="n">_hospital_</span><span class="s2">&#34;|pl&#34;</span><span class="n">_WardCodeOLD_</span><span class="s2">&#34;|pp&#34;</span><span class="n">_docCode_</span><span class="s2">&#34;|p5&#34;</span><span class="n">_</span><span class="o">$</span><span class="n">zcvt</span><span class="p">(</span><span class="n">docDesc</span><span class="p">,</span><span class="s2">&#34;O&#34;</span><span class="p">,</span><span class="s2">&#34;UTF8&#34;</span><span class="p">)</span><span class="n">_</span><span class="s2">&#34;|si|s1&#34;</span><span class="n">_CollDate_</span><span class="s2">&#34;|s2&#34;</span><span class="n">_CollTime_</span><span class="s2">&#34;|ci&#34;</span><span class="n">_epis_</span><span class="s2">&#34;|ct&#34;</span><span class="n">_SpecimenCode_</span><span class="s2">&#34;|zz|&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">RetAck</span><span class="o">=$$</span><span class="n">SendStr</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl">	<span class="n">K</span> <span class="o">^</span><span class="n">TMIF</span><span class="p">(</span><span class="s2">&#34;MIFTESTCODE&#34;</span><span class="p">,</span><span class="o">$</span><span class="n">j</span><span class="p">,</span><span class="n">mi</span><span class="p">,</span><span class="n">Labno</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">Q</span> <span class="n">RetAck</span>
</span></span><span class="line"><span class="cl">	 
</span></span><span class="line"><span class="cl"><span class="n">SendStr</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">w</span> <span class="n">enq</span><span class="p">,</span><span class="o">*-</span><span class="mi">3</span> <span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="s2">&#34;ENQ&#34;</span><span class="p">,</span><span class="s2">&#34;H--&gt;M&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">f</span> <span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="mi">10</span> <span class="n">r</span> <span class="o">*</span><span class="n">R</span><span class="p">:</span><span class="mi">1</span> <span class="n">i</span> <span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="o">=</span><span class="n">ack</span><span class="o">!</span><span class="p">(</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="o">=</span><span class="n">enq</span><span class="p">)</span> <span class="n">q</span>
</span></span><span class="line"><span class="cl">  <span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="o">$</span><span class="n">s</span><span class="p">(</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="o">=</span><span class="n">ack</span><span class="p">:</span><span class="s2">&#34;ACK&#34;</span><span class="p">,</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="o">=</span><span class="n">enq</span><span class="p">:</span><span class="s2">&#34;ENQ&#34;</span><span class="p">,</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="o">=</span><span class="n">nak</span><span class="p">:</span><span class="s2">&#34;NAK&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">:</span><span class="n">R</span><span class="p">),</span><span class="s2">&#34;H&lt;--M&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">i</span> <span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="o">=</span><span class="n">enq</span> <span class="n">q</span>
</span></span><span class="line"><span class="cl">  <span class="n">i</span> <span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="s1">&#39;=ack w eot,*-3 d trace^MI.MIF000(mi,&#34;EOT&#34;,&#34;H--&gt;M&#34;) q </span>
</span></span><span class="line"><span class="cl">  <span class="n">d</span> <span class="n">SEND</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl">  <span class="n">w</span> <span class="n">etx</span><span class="p">,</span><span class="n">eot</span><span class="p">,</span><span class="o">*-</span><span class="mi">3</span> <span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="s2">&#34;ETX-EOT&#34;</span><span class="p">,</span><span class="s2">&#34;H--&gt;M&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">q</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="n">SEND</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>  <span class="p">;</span> <span class="n">send</span> <span class="n">string</span> <span class="n">to</span> <span class="n">instrument</span>
</span></span><span class="line"><span class="cl">  <span class="o">//</span><span class="n">s</span> <span class="nb">str</span><span class="o">=</span><span class="n">MachStr_cr_etx</span><span class="p">,</span><span class="n">chsum</span><span class="o">=$$</span><span class="n">CHSUM</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">s</span> <span class="n">MachStr</span><span class="o">=</span><span class="n">rs_str_cr_lf_gs</span>
</span></span><span class="line"><span class="cl">  <span class="n">s</span> <span class="n">chsum</span><span class="o">=$$</span><span class="n">CHSUM</span><span class="p">(</span><span class="n">MachStr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">//</span><span class="n">w</span> <span class="n">stx</span><span class="p">,</span><span class="n">rs</span><span class="p">,</span><span class="nb">str</span><span class="p">,</span><span class="n">gs</span><span class="p">,</span><span class="n">chsum</span><span class="p">,</span><span class="n">cr</span><span class="p">,</span><span class="n">lf</span><span class="p">,</span><span class="o">*-</span><span class="mi">3</span> <span class="n">d</span> <span class="n">trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">str_chsum</span><span class="p">,</span><span class="s2">&#34;H--&gt;M&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">w</span> <span class="n">stx_MachStr</span><span class="p">,</span><span class="n">chsum</span><span class="p">,</span><span class="o">*-</span><span class="mi">3</span> <span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">stx_MachStr_chsum</span><span class="p">,</span><span class="s2">&#34;H--&gt;M&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">f</span> <span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="mi">6</span> <span class="n">r</span> <span class="o">*</span><span class="n">R</span><span class="p">:</span><span class="mi">1</span> <span class="n">i</span> <span class="p">(</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="o">=</span><span class="n">ack</span><span class="p">)</span><span class="o">!</span><span class="p">(</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="o">=</span><span class="n">eot</span><span class="p">)</span> <span class="n">q</span>
</span></span><span class="line"><span class="cl">  <span class="n">i</span> <span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="o">=</span><span class="n">ack</span> <span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="s2">&#34;ACK&#34;</span><span class="p">,</span><span class="s2">&#34;H&lt;--M&#34;</span><span class="p">)</span> <span class="n">q</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">  <span class="n">i</span> <span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="n">R</span><span class="p">)</span><span class="o">=</span><span class="n">eot</span> <span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="s2">&#34;EOT&#34;</span><span class="p">,</span><span class="s2">&#34;H&lt;--M&#34;</span><span class="p">)</span> <span class="n">q</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl">  <span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">R</span><span class="p">,</span><span class="s2">&#34;H&lt;--M&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">q</span> <span class="mi">1</span> 
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl"><span class="n">Log</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">info</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">N</span> <span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">info</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">S</span> <span class="n">mi</span><span class="o">=$</span><span class="n">G</span><span class="p">(</span><span class="n">mi</span><span class="p">),</span><span class="n">info</span><span class="o">=$</span><span class="n">G</span><span class="p">(</span><span class="n">info</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">Q</span><span class="p">:</span><span class="s1">&#39;$L(mi) 1</span>
</span></span><span class="line"><span class="cl">	<span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">info</span><span class="p">,</span><span class="s2">&#34;ä¸Šä¼ ä¿¡æ¯:&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">S</span> <span class="n">curDate</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="o">$</span><span class="n">H</span><span class="p">,</span><span class="s2">&#34;,&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">curTime</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="o">$</span><span class="n">H</span><span class="p">,</span><span class="s2">&#34;,&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">//</span><span class="n">S</span> <span class="o">^</span><span class="n">TMPSIMENS</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">curDate</span><span class="p">,</span><span class="n">curTime</span><span class="p">)</span><span class="o">=</span><span class="n">info</span>
</span></span><span class="line"><span class="cl">	<span class="n">Q</span> <span class="mi">0</span> 
</span></span><span class="line"><span class="cl">	
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="ç‰¹æ®ŠåŠŸèƒ½">ç‰¹æ®ŠåŠŸèƒ½
</h2><h3 id="æ‰¹é‡ä¿å­˜é€šé“å·">æ‰¹é‡ä¿å­˜é€šé“å·
</h3><blockquote>
<p>ç”±äºå¾®ç”Ÿç‰©ç»†èŒå’ŒæŠ—ç”Ÿç´ é€šé“å·è¾ƒå¤šï¼Œç¼–å†™æ­¤æ–¹æ³•æ‰¹é‡å¯¼å…¥</p>
<p>æ ¹æ®å‚å•†æä¾›çš„é€šé“å·æ•°æ®åˆ¶ä½œcsvæ–‡ä»¶ï¼Œç¬¬ä¸€åˆ—ä¸ºé€šé“å·ï¼Œç¬¬äºŒåˆ—ä¸ºç»†èŒ/æŠ—ç”Ÿç´ åç§°ï¼Œç¬¬ä¸‰åˆ—ä¸ºç»†èŒ/æŠ—ç”Ÿç´ è‹±æ–‡åç§°ï¼Œåˆ¶ä½œå¥½åå°†æ–‡ä»¶å¯¼å…¥åˆ°xftp</p>
<p>/dthealth/app/dthis/imedicallis/imedicallis/tmp/File</p>
<p>å¼€å¤´å››ä¸ªå‚æ•°æ ¹æ®å®é™…ä½¿ç”¨æ—¶æ‰‹åŠ¨ä¿®æ”¹ï¼ŒlogNameå‚æ•°ä¸ºæ–‡ä»¶å¯¼å…¥è·¯å¾„ï¼Œç¤ºä¾‹ä¸ºxftpè·¯å¾„</p>
<p>æœ‰å¤šç§åŒ¹é…æ–¹å¼ï¼Œåç§°åŒ¹é…ï¼Œè‹±æ–‡åç§°åŒ¹é…ï¼Œé€šé“å·åŒ¹é…whonetç ï¼Œå…·ä½“å‚è€ƒåŒ¹é…å³å¯</p>
<p>IsSaveå‚æ•°ï¼Œå¯ä»¥å…ˆè¿›è¡ŒæŸ¥çœ‹ï¼ŒæŸ¥çœ‹æŸ¥è¯¢æ•°å’ŒåŒ¹é…æ•°ï¼Œç¡®è®¤åå†è¿›è¡Œä¿å­˜ï¼Œé¿å…å‡ºé”™</p>
<p>##Class(OTH.SYSParameter).MIUPPER()æ–¹æ³•ä¸ºè½¬æ¢å¤§å†™ï¼Œå°†é€šé“å·çš„å°å†™è½¬æ¢ä¸ºå¤§å†™ï¼Œå¯æ ¹æ®å…·ä½“æƒ…å†µåˆ¤æ–­æ˜¯å¦è½¬æ¢</p></blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span><span class="lnt">192
</span><span class="lnt">193
</span><span class="lnt">194
</span><span class="lnt">195
</span><span class="lnt">196
</span><span class="lnt">197
</span><span class="lnt">198
</span><span class="lnt">199
</span><span class="lnt">200
</span><span class="lnt">201
</span><span class="lnt">202
</span><span class="lnt">203
</span><span class="lnt">204
</span><span class="lnt">205
</span><span class="lnt">206
</span><span class="lnt">207
</span><span class="lnt">208
</span><span class="lnt">209
</span><span class="lnt">210
</span><span class="lnt">211
</span><span class="lnt">212
</span><span class="lnt">213
</span><span class="lnt">214
</span><span class="lnt">215
</span><span class="lnt">216
</span><span class="lnt">217
</span><span class="lnt">218
</span><span class="lnt">219
</span><span class="lnt">220
</span><span class="lnt">221
</span><span class="lnt">222
</span><span class="lnt">223
</span><span class="lnt">224
</span><span class="lnt">225
</span><span class="lnt">226
</span><span class="lnt">227
</span><span class="lnt">228
</span><span class="lnt">229
</span><span class="lnt">230
</span><span class="lnt">231
</span><span class="lnt">232
</span><span class="lnt">233
</span><span class="lnt">234
</span><span class="lnt">235
</span><span class="lnt">236
</span><span class="lnt">237
</span><span class="lnt">238
</span><span class="lnt">239
</span><span class="lnt">240
</span><span class="lnt">241
</span><span class="lnt">242
</span><span class="lnt">243
</span><span class="lnt">244
</span><span class="lnt">245
</span><span class="lnt">246
</span><span class="lnt">247
</span><span class="lnt">248
</span><span class="lnt">249
</span><span class="lnt">250
</span><span class="lnt">251
</span><span class="lnt">252
</span><span class="lnt">253
</span><span class="lnt">254
</span><span class="lnt">255
</span><span class="lnt">256
</span><span class="lnt">257
</span><span class="lnt">258
</span><span class="lnt">259
</span><span class="lnt">260
</span><span class="lnt">261
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="n">Class</span> <span class="n">MI</span><span class="o">.</span><span class="n">TEST</span><span class="o">.</span><span class="n">SaveAnt</span> <span class="n">Extends</span> <span class="o">%</span><span class="n">RegisteredObject</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">d</span> <span class="c1">##class(MI.TEST.SaveAnt).Read()</span>
</span></span><span class="line"><span class="cl"><span class="n">ClassMethod</span> <span class="n">Read</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">machine</span><span class="o">=</span><span class="s2">&#34;13&#34;</span>			<span class="o">//</span> <span class="err">ä»ªå™¨</span><span class="n">DR</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">SaveType</span><span class="o">=</span><span class="s2">&#34;2&#34;</span>			<span class="o">//</span> <span class="mf">1.</span><span class="err">ç»†èŒï¼Œ</span><span class="mf">2.</span><span class="err">æŠ—ç”Ÿç´ </span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">IsSave</span><span class="o">=</span><span class="s2">&#34;0&#34;</span>			<span class="o">//</span> <span class="mf">0.</span><span class="err">æŸ¥çœ‹ï¼Œ</span><span class="mf">1.</span><span class="err">ä¿å­˜</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">matchingType</span><span class="o">=</span><span class="s2">&#34;1^1^1&#34;</span>	<span class="o">//</span> <span class="err">åŒ¹é…æ–¹å¼</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="err">åç§°</span><span class="p">,</span><span class="err">è‹±æ–‡åç§°</span><span class="p">,</span><span class="n">whonetç </span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="n">SaveType</span><span class="o">=</span><span class="mi">1</span> <span class="n">s</span> <span class="n">logName</span><span class="o">=</span><span class="s2">&#34;/dthealth/app/dthis/imedicallis/imedicallis/tmp/File/MYLAç»†èŒ.csv&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="n">SaveType</span><span class="o">=</span><span class="mi">2</span> <span class="n">s</span> <span class="n">logName</span><span class="o">=</span><span class="s2">&#34;/dthealth/app/dthis/imedicallis/imedicallis/tmp/File/MYLAæŠ—ç”Ÿç´ .csv&#34;</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="s1">&#39;$d(^dbo.BTMIMachineParameterD(machine)) q</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">machineName</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineParameterD</span><span class="p">(</span><span class="n">machine</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="n">SaveType</span><span class="o">=</span><span class="mi">1</span> <span class="n">s</span> <span class="n">SaveTypeName</span><span class="o">=</span><span class="s2">&#34;ç»†èŒ&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="k">else</span>  <span class="k">if</span> <span class="n">SaveType</span><span class="o">=</span><span class="mi">2</span> <span class="n">s</span> <span class="n">SaveTypeName</span><span class="o">=</span><span class="s2">&#34;æŠ—ç”Ÿç´ &#34;</span>
</span></span><span class="line"><span class="cl">	<span class="k">else</span>  <span class="n">s</span> <span class="n">SaveTypeName</span><span class="o">=</span><span class="s2">&#34;ä¿å­˜æ–¹å¼é”™è¯¯ã€‚&#34;</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">w</span> <span class="s2">&#34;ä¿å­˜ä»ªå™¨ä¸º:&#34;</span><span class="n">_machineName</span><span class="p">,</span><span class="o">!</span>
</span></span><span class="line"><span class="cl">	<span class="n">w</span> <span class="s2">&#34;ä¿å­˜æ–¹å¼ä¸º:&#34;</span><span class="n">_SaveTypeName</span><span class="p">,</span><span class="o">!</span>
</span></span><span class="line"><span class="cl">	<span class="n">w</span> <span class="s2">&#34;è¯»å–è·¯å¾„ä¸º:&#34;</span><span class="n">_logName</span><span class="p">,</span><span class="o">!</span>
</span></span><span class="line"><span class="cl">	<span class="n">r</span> <span class="s2">&#34;æ˜¯å¦ç»§ç»­(Y/N)&#34;</span><span class="p">,</span><span class="n">GoTo</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="c1">##Class(OTH.SYSParameter).MIUPPER(GoTo)&#39;=&#34;Y&#34; q</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">file</span><span class="o">=</span><span class="c1">##class(%File).%New(logName)</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">status</span><span class="o">=</span><span class="n">file</span><span class="o">.</span><span class="n">Open</span><span class="p">(</span><span class="s2">&#34;RU&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="n">status</span><span class="s1">&#39;=1 d file.Close() w status q &#34;&#34;</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">set</span> <span class="n">text</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">Read</span><span class="p">(,</span> <span class="o">.</span><span class="n">sc</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">S</span> <span class="ne">Input</span><span class="o">=</span><span class="c1">##Class(%GlobalBinaryStream).%New()</span>
</span></span><span class="line"><span class="cl">	<span class="n">D</span> <span class="ne">Input</span><span class="o">.</span><span class="n">Write</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="n">SaveType</span><span class="o">=</span><span class="mi">1</span> <span class="n">d</span> <span class="o">..</span><span class="n">SaveOrganism</span><span class="p">(</span><span class="ne">Input</span><span class="p">,</span><span class="n">machine</span><span class="p">,</span><span class="n">IsSave</span><span class="p">,</span><span class="n">matchingType</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="n">SaveType</span><span class="o">=</span><span class="mi">2</span> <span class="n">d</span> <span class="o">..</span><span class="n">SaveAntiBug</span><span class="p">(</span><span class="ne">Input</span><span class="p">,</span><span class="n">machine</span><span class="p">,</span><span class="n">IsSave</span><span class="p">,</span><span class="n">matchingType</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">d</span> <span class="n">file</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="n">q</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ClassMethod</span> <span class="n">SaveOrganism</span><span class="p">(</span><span class="ne">Input</span><span class="p">,</span> <span class="n">machine</span><span class="p">,</span> <span class="n">IsSave</span><span class="p">,</span> <span class="n">matchingType</span><span class="p">)</span> <span class="n">As</span> <span class="o">%</span><span class="ne">String</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">AllStr</span><span class="o">=</span><span class="ne">Input</span><span class="o">.</span><span class="n">Read</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">matchingType</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">matchingType</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="s1">&#39;$l(matchingType) s matchingType=&#34;1^^&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">num</span><span class="o">=</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">linenum</span><span class="o">=</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">savenum</span><span class="o">=</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">AllStr</span><span class="p">,</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">Str</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="n">AllStr</span><span class="p">,</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span><span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">linenum</span><span class="o">=</span><span class="n">linenum</span><span class="o">+</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">d</span> <span class="n">Save</span>
</span></span><span class="line"><span class="cl">	<span class="n">w</span> <span class="s2">&#34;å…±è·å–ç»†èŒæ•°:&#34;</span><span class="n">_linenum</span><span class="p">,</span><span class="o">!</span>
</span></span><span class="line"><span class="cl">	<span class="n">w</span> <span class="s2">&#34;å…±åŒ¹é…ç»†èŒæ•°:&#34;</span><span class="n">_num</span><span class="p">,</span><span class="o">!</span>
</span></span><span class="line"><span class="cl">	<span class="n">w</span> <span class="s2">&#34;å…±ä¿å­˜ç»†èŒæ•°:&#34;</span><span class="n">_savenum</span><span class="p">,</span><span class="o">!</span>
</span></span><span class="line"><span class="cl">	<span class="n">q</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl"><span class="n">Save</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">Organism</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="n">Str</span><span class="p">,</span><span class="s2">&#34;,&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>		<span class="o">//</span><span class="err">é€šé“å·</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">bugname</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="n">Str</span><span class="p">,</span><span class="s2">&#34;,&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>		<span class="o">//</span><span class="err">åç§°</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">Engbugname</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="n">Str</span><span class="p">,</span><span class="s2">&#34;,&#34;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>	<span class="o">//</span><span class="err">æ‹‰ä¸æ–‡</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">zw</span> <span class="o">$</span><span class="n">lb</span><span class="p">(</span><span class="n">Organism</span><span class="p">,</span><span class="n">bugname</span><span class="p">,</span><span class="n">Engbugname</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">ret</span><span class="o">=</span><span class="s2">&#34;0&#34;</span> 
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">quitFlag</span><span class="o">=</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="o">//</span> <span class="n">dbo</span><span class="o">.</span><span class="n">BTAntibiotics</span>            <span class="n">Index</span> <span class="n">IndexCode</span> <span class="n">On</span> <span class="n">Code</span>
</span></span><span class="line"><span class="cl">	<span class="o">//</span> <span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineMicroAntiBio</span>  <span class="n">Index</span> <span class="n">IndexMaster</span> <span class="n">On</span> <span class="p">(</span><span class="n">MachineParameterDR</span><span class="p">,</span> <span class="n">AntibioticsDR</span><span class="p">,</span> <span class="n">MachineAntiBiotic</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">//</span> <span class="n">dbo</span><span class="o">.</span><span class="n">BTOrganism</span>               <span class="n">Index</span> <span class="n">IndexCode</span> <span class="n">On</span> <span class="n">Code</span> 
</span></span><span class="line"><span class="cl">	<span class="o">//</span> <span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineMicroBugs</span>     <span class="n">Index</span> <span class="n">IndexMaster</span> <span class="n">On</span> <span class="p">(</span><span class="n">MachineParameterDR</span><span class="p">,</span> <span class="n">OrganismDR</span><span class="p">,</span> <span class="n">MachineBug</span><span class="p">)</span>  
</span></span><span class="line"><span class="cl">	<span class="n">S</span> <span class="n">Code</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="n">F</span>  <span class="n">S</span> <span class="n">Code</span><span class="o">=$</span><span class="n">O</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTOrganismI</span><span class="p">(</span><span class="s2">&#34;IndexCode&#34;</span><span class="p">,</span><span class="n">Code</span><span class="p">))</span> <span class="n">Q</span><span class="p">:((</span><span class="n">Code</span><span class="o">=</span><span class="s2">&#34;&#34;</span><span class="p">)</span><span class="o">||</span><span class="p">(</span><span class="n">quitFlag</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>  <span class="n">D</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">S</span> <span class="n">OrganismDR</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="n">F</span>  <span class="n">S</span> <span class="n">OrganismDR</span><span class="o">=$</span><span class="n">O</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTOrganismI</span><span class="p">(</span><span class="s2">&#34;IndexCode&#34;</span><span class="p">,</span><span class="n">Code</span><span class="p">,</span><span class="n">OrganismDR</span><span class="p">))</span> <span class="n">Q</span><span class="p">:((</span><span class="n">OrganismDR</span><span class="o">=</span><span class="s2">&#34;&#34;</span><span class="p">)</span><span class="o">||</span><span class="p">(</span><span class="n">quitFlag</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>  <span class="n">D</span> 
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">sysbugname</span><span class="o">=$</span><span class="n">LG</span><span class="p">(</span><span class="o">$</span><span class="n">G</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTOrganismD</span><span class="p">(</span><span class="n">OrganismDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">sysEngbugname</span><span class="o">=$</span><span class="n">LG</span><span class="p">(</span><span class="o">$</span><span class="n">G</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTOrganismD</span><span class="p">(</span><span class="n">OrganismDR</span><span class="p">)),</span><span class="mi">4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">sysOrganism</span><span class="o">=$</span><span class="n">LG</span><span class="p">(</span><span class="o">$</span><span class="n">G</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTOrganismD</span><span class="p">(</span><span class="n">OrganismDR</span><span class="p">)),</span><span class="mi">6</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">SaveFlag</span><span class="o">=</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">I</span> <span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="n">matchingType</span><span class="p">,</span><span class="s2">&#34;^&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">sysbugname</span><span class="o">=</span><span class="n">bugname</span> <span class="n">s</span> <span class="n">SaveFlag</span><span class="o">=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="n">matchingType</span><span class="p">,</span><span class="s2">&#34;^&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">Engbugname</span><span class="p">),(</span><span class="c1">##Class(OTH.SYSParameter).MIUPPER(sysEngbugname)=##Class(OTH.SYSParameter).MIUPPER(Engbugname)) s SaveFlag=1</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="n">matchingType</span><span class="p">,</span><span class="s2">&#34;^&#34;</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="c1">##Class(OTH.SYSParameter).MIUPPER(sysOrganism)=##Class(OTH.SYSParameter).MIUPPER(Organism)) s SaveFlag=1</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="n">SaveFlag</span><span class="s1">&#39;=1 q</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="p">;</span><span class="n">s</span> <span class="n">AntiBug</span><span class="o">=</span><span class="c1">##Class(OTH.SYSParameter).MIUPPER(AntiBug)</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="o">$</span><span class="n">d</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineMicroBugsI</span><span class="p">(</span><span class="s2">&#34;IndexMaster&#34;</span><span class="p">,</span><span class="n">machine</span><span class="p">,</span><span class="n">OrganismDR</span><span class="p">))</span> <span class="n">q</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">obj</span><span class="o">=</span><span class="c1">##Class(dbo.BTMIMachineMicroBugs).%New()</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">obj</span><span class="o">.</span><span class="n">OrganismDR</span><span class="o">=</span><span class="n">OrganismDR</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">obj</span><span class="o">.</span><span class="n">MachineBug</span><span class="o">=</span><span class="n">Organism</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">S</span> <span class="n">obj</span><span class="o">.</span><span class="n">MachineParameterDR</span><span class="o">=</span><span class="n">machine</span>  		<span class="o">///</span><span class="mi">35</span><span class="err">ä¸ºä»ªå™¨çš„ä¸»é”®</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="n">IsSave</span><span class="o">=</span><span class="mi">1</span> <span class="n">s</span> <span class="n">ret</span><span class="o">=</span><span class="n">obj</span><span class="o">.%</span><span class="n">Save</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">num</span><span class="o">=</span><span class="n">num</span><span class="o">+</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="n">ret</span><span class="o">=</span><span class="mi">1</span> <span class="n">s</span> <span class="n">savenum</span><span class="o">=</span><span class="n">savenum</span><span class="o">+</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">quitFlag</span><span class="o">=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">	<span class="n">q</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ClassMethod</span> <span class="n">SaveAntiBug</span><span class="p">(</span><span class="ne">Input</span><span class="p">,</span> <span class="n">machine</span><span class="p">,</span> <span class="n">IsSave</span><span class="p">,</span> <span class="n">matchingType</span><span class="p">)</span> <span class="n">As</span> <span class="o">%</span><span class="ne">String</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">AllStr</span><span class="o">=</span><span class="ne">Input</span><span class="o">.</span><span class="n">Read</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">matchingType</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">matchingType</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="s1">&#39;$l(matchingType) s matchingType=&#34;1^^&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">num</span><span class="o">=</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">linenum</span><span class="o">=</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">savenum</span><span class="o">=</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">AllStr</span><span class="p">,</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">Str</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="n">AllStr</span><span class="p">,</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span><span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">linenum</span><span class="o">=</span><span class="n">linenum</span><span class="o">+</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">d</span> <span class="n">Save</span>
</span></span><span class="line"><span class="cl">	<span class="n">w</span> <span class="s2">&#34;å…±è·å–æŠ—ç”Ÿç´ æ•°:&#34;</span><span class="n">_linenum</span><span class="p">,</span><span class="o">!</span>
</span></span><span class="line"><span class="cl">	<span class="n">w</span> <span class="s2">&#34;å…±åŒ¹é…æŠ—ç”Ÿç´ æ•°:&#34;</span><span class="n">_num</span><span class="p">,</span><span class="o">!</span>
</span></span><span class="line"><span class="cl">	<span class="n">w</span> <span class="s2">&#34;å…±ä¿å­˜æŠ—ç”Ÿç´ æ•°:&#34;</span><span class="n">_savenum</span><span class="p">,</span><span class="o">!</span>
</span></span><span class="line"><span class="cl">	<span class="n">q</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl"><span class="n">Save</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">AntiBug</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="n">Str</span><span class="p">,</span><span class="s2">&#34;,&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>		<span class="o">//</span><span class="err">é€šé“å·</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">bugname</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="n">Str</span><span class="p">,</span><span class="s2">&#34;,&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>		<span class="o">//</span><span class="err">åç§°</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">Engbugname</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="n">Str</span><span class="p">,</span><span class="s2">&#34;,&#34;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>	<span class="o">//</span><span class="err">æ‹‰ä¸æ–‡</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">zw</span> <span class="o">$</span><span class="n">lb</span><span class="p">(</span><span class="c1">##Class(OTH.SYSParameter).MIUPPER(AntiBug),bugname,Engbugname)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">ret</span><span class="o">=</span><span class="s2">&#34;0&#34;</span> 
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">quitFlag</span><span class="o">=</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="o">//</span> <span class="n">dbo</span><span class="o">.</span><span class="n">BTAntibiotics</span>            <span class="n">Index</span> <span class="n">IndexCode</span> <span class="n">On</span> <span class="n">Code</span>
</span></span><span class="line"><span class="cl">	<span class="o">//</span> <span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineMicroAntiBio</span>  <span class="n">Index</span> <span class="n">IndexMaster</span> <span class="n">On</span> <span class="p">(</span><span class="n">MachineParameterDR</span><span class="p">,</span> <span class="n">AntibioticsDR</span><span class="p">,</span> <span class="n">MachineAntiBiotic</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">//</span> <span class="n">dbo</span><span class="o">.</span><span class="n">BTOrganism</span>               <span class="n">Index</span> <span class="n">IndexCode</span> <span class="n">On</span> <span class="n">Code</span> 
</span></span><span class="line"><span class="cl">	<span class="o">//</span> <span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineMicroBugs</span>     <span class="n">Index</span> <span class="n">IndexMaster</span> <span class="n">On</span> <span class="p">(</span><span class="n">MachineParameterDR</span><span class="p">,</span> <span class="n">OrganismDR</span><span class="p">,</span> <span class="n">MachineBug</span><span class="p">)</span>  
</span></span><span class="line"><span class="cl">	<span class="n">S</span> <span class="n">Code</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="n">F</span>  <span class="n">S</span> <span class="n">Code</span><span class="o">=$</span><span class="n">O</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTAntibioticsI</span><span class="p">(</span><span class="s2">&#34;IndexCode&#34;</span><span class="p">,</span><span class="n">Code</span><span class="p">))</span> <span class="n">Q</span><span class="p">:((</span><span class="n">Code</span><span class="o">=</span><span class="s2">&#34;&#34;</span><span class="p">)</span><span class="o">||</span><span class="p">(</span><span class="n">quitFlag</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>  <span class="n">D</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">S</span> <span class="n">AntibioticsDR</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="n">F</span>  <span class="n">S</span> <span class="n">AntibioticsDR</span><span class="o">=$</span><span class="n">O</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTAntibioticsI</span><span class="p">(</span><span class="s2">&#34;IndexCode&#34;</span><span class="p">,</span><span class="n">Code</span><span class="p">,</span><span class="n">AntibioticsDR</span><span class="p">))</span> <span class="n">Q</span><span class="p">:((</span><span class="n">AntibioticsDR</span><span class="o">=</span><span class="s2">&#34;&#34;</span><span class="p">)</span><span class="o">||</span><span class="p">(</span><span class="n">quitFlag</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>  <span class="n">D</span> 
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">sysbugname</span><span class="o">=$</span><span class="n">LG</span><span class="p">(</span><span class="o">$</span><span class="n">G</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTAntibioticsD</span><span class="p">(</span><span class="n">AntibioticsDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">sysEngbugname</span><span class="o">=$</span><span class="n">LG</span><span class="p">(</span><span class="o">$</span><span class="n">G</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTAntibioticsD</span><span class="p">(</span><span class="n">AntibioticsDR</span><span class="p">)),</span><span class="mi">4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">sysAntiBug</span><span class="o">=$</span><span class="n">LG</span><span class="p">(</span><span class="o">$</span><span class="n">G</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTAntibioticsD</span><span class="p">(</span><span class="n">AntibioticsDR</span><span class="p">)),</span><span class="mi">7</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">SaveFlag</span><span class="o">=</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">I</span> <span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="n">matchingType</span><span class="p">,</span><span class="s2">&#34;^&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">sysbugname</span><span class="o">=</span><span class="n">bugname</span> <span class="n">s</span> <span class="n">SaveFlag</span><span class="o">=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="n">matchingType</span><span class="p">,</span><span class="s2">&#34;^&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">Engbugname</span><span class="p">),(</span><span class="c1">##Class(OTH.SYSParameter).MIUPPER(sysEngbugname)=##Class(OTH.SYSParameter).MIUPPER(Engbugname)) s SaveFlag=1</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="n">matchingType</span><span class="p">,</span><span class="s2">&#34;^&#34;</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="c1">##Class(OTH.SYSParameter).MIUPPER(sysAntiBug)=##Class(OTH.SYSParameter).MIUPPER(AntiBug)) s SaveFlag=1</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="n">SaveFlag</span><span class="s1">&#39;=1 q</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="p">;</span><span class="n">s</span> <span class="n">AntiBug</span><span class="o">=</span><span class="c1">##Class(OTH.SYSParameter).MIUPPER(AntiBug)</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="o">$</span><span class="n">d</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineMicroAntiBioI</span><span class="p">(</span><span class="s2">&#34;IndexMaster&#34;</span><span class="p">,</span><span class="n">machine</span><span class="p">,</span><span class="n">AntibioticsDR</span><span class="p">))</span> <span class="n">q</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">obj</span><span class="o">=</span><span class="c1">##Class(dbo.BTMIMachineMicroAntiBio).%New()</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">obj</span><span class="o">.</span><span class="n">AntibioticsDR</span><span class="o">=</span><span class="n">AntibioticsDR</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">obj</span><span class="o">.</span><span class="n">MachineAntiBiotic</span><span class="o">=</span><span class="c1">##Class(OTH.SYSParameter).MIUPPER(AntiBug)</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">S</span> <span class="n">obj</span><span class="o">.</span><span class="n">MachineParameterDR</span><span class="o">=</span><span class="n">machine</span>  
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="n">IsSave</span><span class="o">=</span><span class="mi">1</span> <span class="n">s</span> <span class="n">ret</span><span class="o">=</span><span class="n">obj</span><span class="o">.%</span><span class="n">Save</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">num</span><span class="o">=</span><span class="n">num</span><span class="o">+</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="n">ret</span><span class="o">=</span><span class="mi">1</span> <span class="n">s</span> <span class="n">savenum</span><span class="o">=</span><span class="n">savenum</span><span class="o">+</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">quitFlag</span><span class="o">=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">	<span class="n">q</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">d</span> <span class="c1">##class(MI.TEST.SaveAnt).SaveChannel()</span>
</span></span><span class="line"><span class="cl"><span class="n">ClassMethod</span> <span class="n">SaveChannel</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">machine</span><span class="o">=</span><span class="s2">&#34;56&#34;</span>			<span class="o">//</span> <span class="err">ä»ªå™¨</span><span class="n">DR</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">SaveType</span><span class="o">=</span><span class="s2">&#34;1&#34;</span>			<span class="o">//</span> <span class="mf">1.</span><span class="err">ç»†èŒï¼Œ</span><span class="mf">2.</span><span class="err">æŠ—ç”Ÿç´ </span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">IsSave</span><span class="o">=</span><span class="s2">&#34;0&#34;</span>			<span class="o">//</span> <span class="mf">0.</span><span class="err">æŸ¥çœ‹ï¼Œ</span><span class="mf">1.</span><span class="err">ä¿å­˜</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">matchingType</span><span class="o">=</span><span class="s2">&#34;1^1^1&#34;</span>	<span class="o">//</span> <span class="err">åŒ¹é…æ–¹å¼</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span><span class="err">åç§°</span><span class="p">,</span><span class="err">è‹±æ–‡åç§°</span><span class="p">,</span><span class="n">whonetç </span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="n">SaveType</span><span class="o">=</span><span class="mi">1</span> <span class="n">s</span> <span class="n">logName</span><span class="o">=</span><span class="s2">&#34;/dthealth/app/dthis/imedicallis/imedicallis/tmp/File/DL96Aç»†èŒ.csv&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="n">SaveType</span><span class="o">=</span><span class="mi">2</span> <span class="n">s</span> <span class="n">logName</span><span class="o">=</span><span class="s2">&#34;/dthealth/app/dthis/imedicallis/imedicallis/tmp/File/DL96AæŠ—ç”Ÿç´ .csv&#34;</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="s1">&#39;$d(^dbo.BTMIMachineParameterD(machine)) q</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">machineName</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineParameterD</span><span class="p">(</span><span class="n">machine</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="n">SaveType</span><span class="o">=</span><span class="mi">1</span> <span class="n">s</span> <span class="n">SaveTypeName</span><span class="o">=</span><span class="s2">&#34;ç»†èŒ&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="k">if</span> <span class="n">SaveType</span><span class="o">=</span><span class="mi">2</span> <span class="n">s</span> <span class="n">SaveTypeName</span><span class="o">=</span><span class="s2">&#34;æŠ—ç”Ÿç´ &#34;</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">w</span> <span class="s2">&#34;ä¿å­˜ä»ªå™¨ä¸º:&#34;</span><span class="n">_machineName</span><span class="p">,</span><span class="o">!</span>
</span></span><span class="line"><span class="cl">	<span class="n">w</span> <span class="s2">&#34;ä¿å­˜æ–¹å¼ä¸º:&#34;</span><span class="n">_SaveTypeName</span><span class="p">,</span><span class="o">!</span>
</span></span><span class="line"><span class="cl">	<span class="n">w</span> <span class="s2">&#34;è¯»å–è·¯å¾„ä¸º:&#34;</span><span class="n">_logName</span><span class="p">,</span><span class="o">!</span>
</span></span><span class="line"><span class="cl">	<span class="n">r</span> <span class="s2">&#34;æ˜¯å¦ç»§ç»­(Y/N)&#34;</span><span class="p">,</span><span class="n">GoTo</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="c1">##Class(OTH.SYSParameter).MIUPPER(GoTo)&#39;=&#34;Y&#34; q</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">file</span><span class="o">=</span><span class="c1">##class(%File).%New(logName)</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">status</span><span class="o">=</span><span class="n">file</span><span class="o">.</span><span class="n">Open</span><span class="p">(</span><span class="s2">&#34;RU&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="n">status</span><span class="s1">&#39;=1 d file.Close() w status q &#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">set</span> <span class="n">AllStr</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">Read</span><span class="p">(,</span> <span class="o">.</span><span class="n">sc</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="s1">&#39;$l(matchingType) s matchingType=&#34;1^^&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">num</span><span class="o">=</span><span class="mi">0</span>				<span class="o">//</span> <span class="err">åŒ¹é…æ•°</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">linenum</span><span class="o">=</span><span class="mi">0</span>			<span class="o">//</span> <span class="err">è·å–æ•°</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">savenum</span><span class="o">=</span><span class="mi">0</span>			<span class="o">//</span> <span class="err">ä¿å­˜æ•°</span>
</span></span><span class="line"><span class="cl">	<span class="k">for</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">AllStr</span><span class="p">,</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">Str</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="n">AllStr</span><span class="p">,</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">10</span><span class="p">),</span><span class="n">i</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="k">if</span> <span class="n">SaveType</span><span class="o">=</span><span class="mi">1</span> <span class="n">d</span> <span class="n">SaveOrganism</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="k">if</span> <span class="n">SaveType</span><span class="o">=</span><span class="mi">2</span> <span class="n">d</span> <span class="n">SaveAntiBug</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">linenum</span><span class="o">=</span><span class="n">linenum</span><span class="o">+</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">w</span> <span class="s2">&#34;å…±è·å–&#34;</span><span class="n">_SaveTypeName_</span><span class="s2">&#34;æ•°:&#34;</span><span class="n">_linenum</span><span class="p">,</span><span class="o">!</span>
</span></span><span class="line"><span class="cl">	<span class="n">w</span> <span class="s2">&#34;å…±åŒ¹é…&#34;</span><span class="n">_SaveTypeName_</span><span class="s2">&#34;æ•°:&#34;</span><span class="n">_num</span><span class="p">,</span><span class="o">!</span>
</span></span><span class="line"><span class="cl">	<span class="n">w</span> <span class="s2">&#34;å…±ä¿å­˜&#34;</span><span class="n">_SaveTypeName_</span><span class="s2">&#34;æ•°:&#34;</span><span class="n">_savenum</span><span class="p">,</span><span class="o">!</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">d</span> <span class="n">file</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="n">q</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl"><span class="n">SaveOrganism</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">Organism</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="n">Str</span><span class="p">,</span><span class="s2">&#34;,&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>		<span class="o">//</span><span class="err">é€šé“å·</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">bugname</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="n">Str</span><span class="p">,</span><span class="s2">&#34;,&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>		<span class="o">//</span><span class="err">åç§°</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">Engbugname</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="n">Str</span><span class="p">,</span><span class="s2">&#34;,&#34;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>	<span class="o">//</span><span class="err">æ‹‰ä¸æ–‡</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">ret</span><span class="o">=</span><span class="s2">&#34;0&#34;</span> 
</span></span><span class="line"><span class="cl">	<span class="o">//</span> <span class="n">dbo</span><span class="o">.</span><span class="n">BTAntibiotics</span>            <span class="n">Index</span> <span class="n">IndexCode</span> <span class="n">On</span> <span class="n">Code</span>
</span></span><span class="line"><span class="cl">	<span class="o">//</span> <span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineMicroAntiBio</span>  <span class="n">Index</span> <span class="n">IndexMaster</span> <span class="n">On</span> <span class="p">(</span><span class="n">MachineParameterDR</span><span class="p">,</span> <span class="n">AntibioticsDR</span><span class="p">,</span> <span class="n">MachineAntiBiotic</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">//</span> <span class="n">dbo</span><span class="o">.</span><span class="n">BTOrganism</span>               <span class="n">Index</span> <span class="n">IndexCode</span> <span class="n">On</span> <span class="n">Code</span> 
</span></span><span class="line"><span class="cl">	<span class="o">//</span> <span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineMicroBugs</span>     <span class="n">Index</span> <span class="n">IndexMaster</span> <span class="n">On</span> <span class="p">(</span><span class="n">MachineParameterDR</span><span class="p">,</span> <span class="n">OrganismDR</span><span class="p">,</span> <span class="n">MachineBug</span><span class="p">)</span>  
</span></span><span class="line"><span class="cl">	<span class="n">S</span> <span class="n">Code</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="n">F</span>  <span class="n">S</span> <span class="n">Code</span><span class="o">=$</span><span class="n">O</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTOrganismI</span><span class="p">(</span><span class="s2">&#34;IndexCode&#34;</span><span class="p">,</span><span class="n">Code</span><span class="p">))</span> <span class="n">Q</span><span class="p">:</span><span class="n">Code</span><span class="o">=</span><span class="s2">&#34;&#34;</span>  <span class="n">D</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">S</span> <span class="n">OrganismDR</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="n">F</span>  <span class="n">S</span> <span class="n">OrganismDR</span><span class="o">=$</span><span class="n">O</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTOrganismI</span><span class="p">(</span><span class="s2">&#34;IndexCode&#34;</span><span class="p">,</span><span class="n">Code</span><span class="p">,</span><span class="n">OrganismDR</span><span class="p">))</span> <span class="n">Q</span><span class="p">:</span><span class="n">OrganismDR</span><span class="o">=</span><span class="s2">&#34;&#34;</span>  <span class="n">D</span> 
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">sysbugname</span><span class="o">=$</span><span class="n">LG</span><span class="p">(</span><span class="o">$</span><span class="n">G</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTOrganismD</span><span class="p">(</span><span class="n">OrganismDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">sysEngbugname</span><span class="o">=$</span><span class="n">LG</span><span class="p">(</span><span class="o">$</span><span class="n">G</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTOrganismD</span><span class="p">(</span><span class="n">OrganismDR</span><span class="p">)),</span><span class="mi">4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">sysOrganism</span><span class="o">=$</span><span class="n">LG</span><span class="p">(</span><span class="o">$</span><span class="n">G</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTOrganismD</span><span class="p">(</span><span class="n">OrganismDR</span><span class="p">)),</span><span class="mi">6</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">SaveFlag</span><span class="o">=</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">I</span> <span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="n">matchingType</span><span class="p">,</span><span class="s2">&#34;^&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">sysbugname</span><span class="o">=</span><span class="n">bugname</span> <span class="n">s</span> <span class="n">SaveFlag</span><span class="o">=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="n">matchingType</span><span class="p">,</span><span class="s2">&#34;^&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">Engbugname</span><span class="p">),(</span><span class="c1">##Class(OTH.SYSParameter).MIUPPER(sysEngbugname)=##Class(OTH.SYSParameter).MIUPPER(Engbugname)) s SaveFlag=1</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="n">matchingType</span><span class="p">,</span><span class="s2">&#34;^&#34;</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="c1">##Class(OTH.SYSParameter).MIUPPER(sysOrganism)=##Class(OTH.SYSParameter).MIUPPER(Organism)) s SaveFlag=1</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="n">SaveFlag</span><span class="s1">&#39;=1 q</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="p">;</span><span class="n">s</span> <span class="n">AntiBug</span><span class="o">=</span><span class="c1">##Class(OTH.SYSParameter).MIUPPER(AntiBug)</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="o">$</span><span class="n">d</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineMicroBugsI</span><span class="p">(</span><span class="s2">&#34;IndexMaster&#34;</span><span class="p">,</span><span class="n">machine</span><span class="p">,</span><span class="n">OrganismDR</span><span class="p">))</span> <span class="n">q</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">obj</span><span class="o">=</span><span class="c1">##Class(dbo.BTMIMachineMicroBugs).%New()</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">obj</span><span class="o">.</span><span class="n">OrganismDR</span><span class="o">=</span><span class="n">OrganismDR</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">obj</span><span class="o">.</span><span class="n">MachineBug</span><span class="o">=</span><span class="n">Organism</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">S</span> <span class="n">obj</span><span class="o">.</span><span class="n">MachineParameterDR</span><span class="o">=</span><span class="n">machine</span>  		<span class="o">///</span><span class="mi">35</span><span class="err">ä¸ºä»ªå™¨çš„ä¸»é”®</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="n">IsSave</span><span class="o">=</span><span class="mi">1</span> <span class="n">s</span> <span class="n">ret</span><span class="o">=</span><span class="n">obj</span><span class="o">.%</span><span class="n">Save</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">num</span><span class="o">=</span><span class="n">num</span><span class="o">+</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="n">ret</span><span class="o">=</span><span class="mi">1</span> <span class="n">s</span> <span class="n">savenum</span><span class="o">=</span><span class="n">savenum</span><span class="o">+</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">zw</span> <span class="o">$</span><span class="n">lb</span><span class="p">(</span><span class="n">Organism</span><span class="p">,</span><span class="n">bugname</span><span class="p">,</span><span class="n">Engbugname</span><span class="p">,</span><span class="n">ret</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">q</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl"><span class="n">SaveAntiBug</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">AntiBug</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="n">Str</span><span class="p">,</span><span class="s2">&#34;,&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>		<span class="o">//</span><span class="err">é€šé“å·</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">bugname</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="n">Str</span><span class="p">,</span><span class="s2">&#34;,&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>		<span class="o">//</span><span class="err">åç§°</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">Engbugname</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="n">Str</span><span class="p">,</span><span class="s2">&#34;,&#34;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>	<span class="o">//</span><span class="err">æ‹‰ä¸æ–‡</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">ret</span><span class="o">=</span><span class="s2">&#34;0&#34;</span> 
</span></span><span class="line"><span class="cl">	<span class="o">//</span> <span class="n">dbo</span><span class="o">.</span><span class="n">BTAntibiotics</span>            <span class="n">Index</span> <span class="n">IndexCode</span> <span class="n">On</span> <span class="n">Code</span>
</span></span><span class="line"><span class="cl">	<span class="o">//</span> <span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineMicroAntiBio</span>  <span class="n">Index</span> <span class="n">IndexMaster</span> <span class="n">On</span> <span class="p">(</span><span class="n">MachineParameterDR</span><span class="p">,</span> <span class="n">AntibioticsDR</span><span class="p">,</span> <span class="n">MachineAntiBiotic</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">//</span> <span class="n">dbo</span><span class="o">.</span><span class="n">BTOrganism</span>               <span class="n">Index</span> <span class="n">IndexCode</span> <span class="n">On</span> <span class="n">Code</span> 
</span></span><span class="line"><span class="cl">	<span class="o">//</span> <span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineMicroBugs</span>     <span class="n">Index</span> <span class="n">IndexMaster</span> <span class="n">On</span> <span class="p">(</span><span class="n">MachineParameterDR</span><span class="p">,</span> <span class="n">OrganismDR</span><span class="p">,</span> <span class="n">MachineBug</span><span class="p">)</span>  
</span></span><span class="line"><span class="cl">	<span class="n">S</span> <span class="n">Code</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="n">F</span>  <span class="n">S</span> <span class="n">Code</span><span class="o">=$</span><span class="n">O</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTAntibioticsI</span><span class="p">(</span><span class="s2">&#34;IndexCode&#34;</span><span class="p">,</span><span class="n">Code</span><span class="p">))</span> <span class="n">Q</span><span class="p">:</span><span class="n">Code</span><span class="o">=</span><span class="s2">&#34;&#34;</span>  <span class="n">D</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">S</span> <span class="n">AntibioticsDR</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="n">F</span>  <span class="n">S</span> <span class="n">AntibioticsDR</span><span class="o">=$</span><span class="n">O</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTAntibioticsI</span><span class="p">(</span><span class="s2">&#34;IndexCode&#34;</span><span class="p">,</span><span class="n">Code</span><span class="p">,</span><span class="n">AntibioticsDR</span><span class="p">))</span> <span class="n">Q</span><span class="p">:</span><span class="n">AntibioticsDR</span><span class="o">=</span><span class="s2">&#34;&#34;</span>  <span class="n">D</span> 
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">sysbugname</span><span class="o">=$</span><span class="n">LG</span><span class="p">(</span><span class="o">$</span><span class="n">G</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTAntibioticsD</span><span class="p">(</span><span class="n">AntibioticsDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">sysEngbugname</span><span class="o">=$</span><span class="n">LG</span><span class="p">(</span><span class="o">$</span><span class="n">G</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTAntibioticsD</span><span class="p">(</span><span class="n">AntibioticsDR</span><span class="p">)),</span><span class="mi">4</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">sysAntiBug</span><span class="o">=$</span><span class="n">LG</span><span class="p">(</span><span class="o">$</span><span class="n">G</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTAntibioticsD</span><span class="p">(</span><span class="n">AntibioticsDR</span><span class="p">)),</span><span class="mi">7</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">SaveFlag</span><span class="o">=</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">I</span> <span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="n">matchingType</span><span class="p">,</span><span class="s2">&#34;^&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">sysbugname</span><span class="o">=</span><span class="n">bugname</span> <span class="n">s</span> <span class="n">SaveFlag</span><span class="o">=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="n">matchingType</span><span class="p">,</span><span class="s2">&#34;^&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">Engbugname</span><span class="p">),(</span><span class="c1">##Class(OTH.SYSParameter).MIUPPER(sysEngbugname)=##Class(OTH.SYSParameter).MIUPPER(Engbugname)) s SaveFlag=1</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="n">matchingType</span><span class="p">,</span><span class="s2">&#34;^&#34;</span><span class="p">,</span><span class="mi">3</span><span class="p">),(</span><span class="c1">##Class(OTH.SYSParameter).MIUPPER(sysAntiBug)=##Class(OTH.SYSParameter).MIUPPER(AntiBug)) s SaveFlag=1</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="n">SaveFlag</span><span class="s1">&#39;=1 q</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="p">;</span><span class="n">s</span> <span class="n">AntiBug</span><span class="o">=</span><span class="c1">##Class(OTH.SYSParameter).MIUPPER(AntiBug)</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="o">$</span><span class="n">d</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineMicroAntiBioI</span><span class="p">(</span><span class="s2">&#34;IndexMaster&#34;</span><span class="p">,</span><span class="n">machine</span><span class="p">,</span><span class="n">AntibioticsDR</span><span class="p">))</span> <span class="n">q</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">obj</span><span class="o">=</span><span class="c1">##Class(dbo.BTMIMachineMicroAntiBio).%New()</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">obj</span><span class="o">.</span><span class="n">AntibioticsDR</span><span class="o">=</span><span class="n">AntibioticsDR</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">obj</span><span class="o">.</span><span class="n">MachineAntiBiotic</span><span class="o">=</span><span class="n">AntiBug</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">S</span> <span class="n">obj</span><span class="o">.</span><span class="n">MachineParameterDR</span><span class="o">=</span><span class="n">machine</span>  
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="n">IsSave</span><span class="o">=</span><span class="mi">1</span> <span class="n">s</span> <span class="n">ret</span><span class="o">=</span><span class="n">obj</span><span class="o">.%</span><span class="n">Save</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">num</span><span class="o">=</span><span class="n">num</span><span class="o">+</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="n">ret</span><span class="o">=</span><span class="mi">1</span> <span class="n">s</span> <span class="n">savenum</span><span class="o">=</span><span class="n">savenum</span><span class="o">+</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">zw</span> <span class="o">$</span><span class="n">lb</span><span class="p">(</span><span class="n">AntiBug</span><span class="p">,</span><span class="n">bugname</span><span class="p">,</span><span class="n">Engbugname</span><span class="p">,</span><span class="n">ret</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">	<span class="n">q</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>å¾®ç”Ÿç‰©é€šé“å·</p>
<p><a class="link" href="assets/VITEK2%20%209.04%20%e4%bb%a3%e7%a0%81%e8%a1%a81-20250822182655-xm3o5st.xls" >VITEK2  9.04 ä»£ç è¡¨1.xls</a></p>
<p>æ•´ç†å¥½çš„å¾®ç”Ÿç‰©ç»†èŒå’ŒæŠ—ç”Ÿç´ é€šé“å·</p>
<p><a class="link" href="assets/MYLA%e7%bb%86%e8%8f%8c-20250822182717-enydt6o.csv" >MYLAç»†èŒ.csv</a></p>
<p><a class="link" href="assets/MYLA%e6%8a%97%e7%94%9f%e7%b4%a0-20250822182721-34weset.csv" >MYLAæŠ—ç”Ÿç´ .csv</a></p>
<h2 id="é™„å½•">é™„å½•
</h2><h3 id="mylaåŒå‘æ¥å£">MYLAåŒå‘æ¥å£
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">  1
</span><span class="lnt">  2
</span><span class="lnt">  3
</span><span class="lnt">  4
</span><span class="lnt">  5
</span><span class="lnt">  6
</span><span class="lnt">  7
</span><span class="lnt">  8
</span><span class="lnt">  9
</span><span class="lnt"> 10
</span><span class="lnt"> 11
</span><span class="lnt"> 12
</span><span class="lnt"> 13
</span><span class="lnt"> 14
</span><span class="lnt"> 15
</span><span class="lnt"> 16
</span><span class="lnt"> 17
</span><span class="lnt"> 18
</span><span class="lnt"> 19
</span><span class="lnt"> 20
</span><span class="lnt"> 21
</span><span class="lnt"> 22
</span><span class="lnt"> 23
</span><span class="lnt"> 24
</span><span class="lnt"> 25
</span><span class="lnt"> 26
</span><span class="lnt"> 27
</span><span class="lnt"> 28
</span><span class="lnt"> 29
</span><span class="lnt"> 30
</span><span class="lnt"> 31
</span><span class="lnt"> 32
</span><span class="lnt"> 33
</span><span class="lnt"> 34
</span><span class="lnt"> 35
</span><span class="lnt"> 36
</span><span class="lnt"> 37
</span><span class="lnt"> 38
</span><span class="lnt"> 39
</span><span class="lnt"> 40
</span><span class="lnt"> 41
</span><span class="lnt"> 42
</span><span class="lnt"> 43
</span><span class="lnt"> 44
</span><span class="lnt"> 45
</span><span class="lnt"> 46
</span><span class="lnt"> 47
</span><span class="lnt"> 48
</span><span class="lnt"> 49
</span><span class="lnt"> 50
</span><span class="lnt"> 51
</span><span class="lnt"> 52
</span><span class="lnt"> 53
</span><span class="lnt"> 54
</span><span class="lnt"> 55
</span><span class="lnt"> 56
</span><span class="lnt"> 57
</span><span class="lnt"> 58
</span><span class="lnt"> 59
</span><span class="lnt"> 60
</span><span class="lnt"> 61
</span><span class="lnt"> 62
</span><span class="lnt"> 63
</span><span class="lnt"> 64
</span><span class="lnt"> 65
</span><span class="lnt"> 66
</span><span class="lnt"> 67
</span><span class="lnt"> 68
</span><span class="lnt"> 69
</span><span class="lnt"> 70
</span><span class="lnt"> 71
</span><span class="lnt"> 72
</span><span class="lnt"> 73
</span><span class="lnt"> 74
</span><span class="lnt"> 75
</span><span class="lnt"> 76
</span><span class="lnt"> 77
</span><span class="lnt"> 78
</span><span class="lnt"> 79
</span><span class="lnt"> 80
</span><span class="lnt"> 81
</span><span class="lnt"> 82
</span><span class="lnt"> 83
</span><span class="lnt"> 84
</span><span class="lnt"> 85
</span><span class="lnt"> 86
</span><span class="lnt"> 87
</span><span class="lnt"> 88
</span><span class="lnt"> 89
</span><span class="lnt"> 90
</span><span class="lnt"> 91
</span><span class="lnt"> 92
</span><span class="lnt"> 93
</span><span class="lnt"> 94
</span><span class="lnt"> 95
</span><span class="lnt"> 96
</span><span class="lnt"> 97
</span><span class="lnt"> 98
</span><span class="lnt"> 99
</span><span class="lnt">100
</span><span class="lnt">101
</span><span class="lnt">102
</span><span class="lnt">103
</span><span class="lnt">104
</span><span class="lnt">105
</span><span class="lnt">106
</span><span class="lnt">107
</span><span class="lnt">108
</span><span class="lnt">109
</span><span class="lnt">110
</span><span class="lnt">111
</span><span class="lnt">112
</span><span class="lnt">113
</span><span class="lnt">114
</span><span class="lnt">115
</span><span class="lnt">116
</span><span class="lnt">117
</span><span class="lnt">118
</span><span class="lnt">119
</span><span class="lnt">120
</span><span class="lnt">121
</span><span class="lnt">122
</span><span class="lnt">123
</span><span class="lnt">124
</span><span class="lnt">125
</span><span class="lnt">126
</span><span class="lnt">127
</span><span class="lnt">128
</span><span class="lnt">129
</span><span class="lnt">130
</span><span class="lnt">131
</span><span class="lnt">132
</span><span class="lnt">133
</span><span class="lnt">134
</span><span class="lnt">135
</span><span class="lnt">136
</span><span class="lnt">137
</span><span class="lnt">138
</span><span class="lnt">139
</span><span class="lnt">140
</span><span class="lnt">141
</span><span class="lnt">142
</span><span class="lnt">143
</span><span class="lnt">144
</span><span class="lnt">145
</span><span class="lnt">146
</span><span class="lnt">147
</span><span class="lnt">148
</span><span class="lnt">149
</span><span class="lnt">150
</span><span class="lnt">151
</span><span class="lnt">152
</span><span class="lnt">153
</span><span class="lnt">154
</span><span class="lnt">155
</span><span class="lnt">156
</span><span class="lnt">157
</span><span class="lnt">158
</span><span class="lnt">159
</span><span class="lnt">160
</span><span class="lnt">161
</span><span class="lnt">162
</span><span class="lnt">163
</span><span class="lnt">164
</span><span class="lnt">165
</span><span class="lnt">166
</span><span class="lnt">167
</span><span class="lnt">168
</span><span class="lnt">169
</span><span class="lnt">170
</span><span class="lnt">171
</span><span class="lnt">172
</span><span class="lnt">173
</span><span class="lnt">174
</span><span class="lnt">175
</span><span class="lnt">176
</span><span class="lnt">177
</span><span class="lnt">178
</span><span class="lnt">179
</span><span class="lnt">180
</span><span class="lnt">181
</span><span class="lnt">182
</span><span class="lnt">183
</span><span class="lnt">184
</span><span class="lnt">185
</span><span class="lnt">186
</span><span class="lnt">187
</span><span class="lnt">188
</span><span class="lnt">189
</span><span class="lnt">190
</span><span class="lnt">191
</span><span class="lnt">192
</span><span class="lnt">193
</span><span class="lnt">194
</span><span class="lnt">195
</span><span class="lnt">196
</span><span class="lnt">197
</span><span class="lnt">198
</span><span class="lnt">199
</span><span class="lnt">200
</span><span class="lnt">201
</span><span class="lnt">202
</span><span class="lnt">203
</span><span class="lnt">204
</span><span class="lnt">205
</span><span class="lnt">206
</span><span class="lnt">207
</span><span class="lnt">208
</span><span class="lnt">209
</span><span class="lnt">210
</span><span class="lnt">211
</span><span class="lnt">212
</span><span class="lnt">213
</span><span class="lnt">214
</span><span class="lnt">215
</span><span class="lnt">216
</span><span class="lnt">217
</span><span class="lnt">218
</span><span class="lnt">219
</span><span class="lnt">220
</span><span class="lnt">221
</span><span class="lnt">222
</span><span class="lnt">223
</span><span class="lnt">224
</span><span class="lnt">225
</span><span class="lnt">226
</span><span class="lnt">227
</span><span class="lnt">228
</span><span class="lnt">229
</span><span class="lnt">230
</span><span class="lnt">231
</span><span class="lnt">232
</span><span class="lnt">233
</span><span class="lnt">234
</span><span class="lnt">235
</span><span class="lnt">236
</span><span class="lnt">237
</span><span class="lnt">238
</span><span class="lnt">239
</span><span class="lnt">240
</span><span class="lnt">241
</span><span class="lnt">242
</span><span class="lnt">243
</span><span class="lnt">244
</span><span class="lnt">245
</span><span class="lnt">246
</span><span class="lnt">247
</span><span class="lnt">248
</span><span class="lnt">249
</span><span class="lnt">250
</span><span class="lnt">251
</span><span class="lnt">252
</span><span class="lnt">253
</span><span class="lnt">254
</span><span class="lnt">255
</span><span class="lnt">256
</span><span class="lnt">257
</span><span class="lnt">258
</span><span class="lnt">259
</span><span class="lnt">260
</span><span class="lnt">261
</span><span class="lnt">262
</span><span class="lnt">263
</span><span class="lnt">264
</span><span class="lnt">265
</span><span class="lnt">266
</span><span class="lnt">267
</span><span class="lnt">268
</span><span class="lnt">269
</span><span class="lnt">270
</span><span class="lnt">271
</span><span class="lnt">272
</span><span class="lnt">273
</span><span class="lnt">274
</span><span class="lnt">275
</span><span class="lnt">276
</span><span class="lnt">277
</span><span class="lnt">278
</span><span class="lnt">279
</span><span class="lnt">280
</span><span class="lnt">281
</span><span class="lnt">282
</span><span class="lnt">283
</span><span class="lnt">284
</span><span class="lnt">285
</span><span class="lnt">286
</span><span class="lnt">287
</span><span class="lnt">288
</span><span class="lnt">289
</span><span class="lnt">290
</span><span class="lnt">291
</span><span class="lnt">292
</span><span class="lnt">293
</span><span class="lnt">294
</span><span class="lnt">295
</span><span class="lnt">296
</span><span class="lnt">297
</span><span class="lnt">298
</span><span class="lnt">299
</span><span class="lnt">300
</span><span class="lnt">301
</span><span class="lnt">302
</span><span class="lnt">303
</span><span class="lnt">304
</span><span class="lnt">305
</span><span class="lnt">306
</span><span class="lnt">307
</span><span class="lnt">308
</span><span class="lnt">309
</span><span class="lnt">310
</span><span class="lnt">311
</span><span class="lnt">312
</span><span class="lnt">313
</span><span class="lnt">314
</span><span class="lnt">315
</span><span class="lnt">316
</span><span class="lnt">317
</span><span class="lnt">318
</span><span class="lnt">319
</span><span class="lnt">320
</span><span class="lnt">321
</span><span class="lnt">322
</span><span class="lnt">323
</span><span class="lnt">324
</span><span class="lnt">325
</span><span class="lnt">326
</span><span class="lnt">327
</span><span class="lnt">328
</span><span class="lnt">329
</span><span class="lnt">330
</span><span class="lnt">331
</span><span class="lnt">332
</span><span class="lnt">333
</span><span class="lnt">334
</span><span class="lnt">335
</span><span class="lnt">336
</span><span class="lnt">337
</span><span class="lnt">338
</span><span class="lnt">339
</span><span class="lnt">340
</span><span class="lnt">341
</span><span class="lnt">342
</span><span class="lnt">343
</span><span class="lnt">344
</span><span class="lnt">345
</span><span class="lnt">346
</span><span class="lnt">347
</span><span class="lnt">348
</span><span class="lnt">349
</span><span class="lnt">350
</span><span class="lnt">351
</span><span class="lnt">352
</span><span class="lnt">353
</span><span class="lnt">354
</span><span class="lnt">355
</span><span class="lnt">356
</span><span class="lnt">357
</span><span class="lnt">358
</span><span class="lnt">359
</span><span class="lnt">360
</span><span class="lnt">361
</span><span class="lnt">362
</span><span class="lnt">363
</span><span class="lnt">364
</span><span class="lnt">365
</span><span class="lnt">366
</span><span class="lnt">367
</span><span class="lnt">368
</span><span class="lnt">369
</span><span class="lnt">370
</span><span class="lnt">371
</span><span class="lnt">372
</span><span class="lnt">373
</span><span class="lnt">374
</span><span class="lnt">375
</span><span class="lnt">376
</span><span class="lnt">377
</span><span class="lnt">378
</span><span class="lnt">379
</span><span class="lnt">380
</span><span class="lnt">381
</span><span class="lnt">382
</span><span class="lnt">383
</span><span class="lnt">384
</span><span class="lnt">385
</span><span class="lnt">386
</span><span class="lnt">387
</span><span class="lnt">388
</span><span class="lnt">389
</span><span class="lnt">390
</span><span class="lnt">391
</span><span class="lnt">392
</span><span class="lnt">393
</span><span class="lnt">394
</span><span class="lnt">395
</span><span class="lnt">396
</span><span class="lnt">397
</span><span class="lnt">398
</span><span class="lnt">399
</span><span class="lnt">400
</span><span class="lnt">401
</span><span class="lnt">402
</span><span class="lnt">403
</span><span class="lnt">404
</span><span class="lnt">405
</span><span class="lnt">406
</span><span class="lnt">407
</span><span class="lnt">408
</span><span class="lnt">409
</span><span class="lnt">410
</span><span class="lnt">411
</span><span class="lnt">412
</span><span class="lnt">413
</span><span class="lnt">414
</span><span class="lnt">415
</span><span class="lnt">416
</span><span class="lnt">417
</span><span class="lnt">418
</span><span class="lnt">419
</span><span class="lnt">420
</span><span class="lnt">421
</span><span class="lnt">422
</span><span class="lnt">423
</span><span class="lnt">424
</span><span class="lnt">425
</span><span class="lnt">426
</span><span class="lnt">427
</span><span class="lnt">428
</span><span class="lnt">429
</span><span class="lnt">430
</span><span class="lnt">431
</span><span class="lnt">432
</span><span class="lnt">433
</span><span class="lnt">434
</span><span class="lnt">435
</span><span class="lnt">436
</span><span class="lnt">437
</span><span class="lnt">438
</span><span class="lnt">439
</span><span class="lnt">440
</span><span class="lnt">441
</span><span class="lnt">442
</span><span class="lnt">443
</span><span class="lnt">444
</span><span class="lnt">445
</span><span class="lnt">446
</span><span class="lnt">447
</span><span class="lnt">448
</span><span class="lnt">449
</span><span class="lnt">450
</span><span class="lnt">451
</span><span class="lnt">452
</span><span class="lnt">453
</span><span class="lnt">454
</span><span class="lnt">455
</span><span class="lnt">456
</span><span class="lnt">457
</span><span class="lnt">458
</span><span class="lnt">459
</span><span class="lnt">460
</span><span class="lnt">461
</span><span class="lnt">462
</span><span class="lnt">463
</span><span class="lnt">464
</span><span class="lnt">465
</span><span class="lnt">466
</span><span class="lnt">467
</span><span class="lnt">468
</span><span class="lnt">469
</span><span class="lnt">470
</span><span class="lnt">471
</span><span class="lnt">472
</span><span class="lnt">473
</span><span class="lnt">474
</span><span class="lnt">475
</span><span class="lnt">476
</span><span class="lnt">477
</span><span class="lnt">478
</span><span class="lnt">479
</span><span class="lnt">480
</span><span class="lnt">481
</span><span class="lnt">482
</span><span class="lnt">483
</span><span class="lnt">484
</span><span class="lnt">485
</span><span class="lnt">486
</span><span class="lnt">487
</span><span class="lnt">488
</span><span class="lnt">489
</span><span class="lnt">490
</span><span class="lnt">491
</span><span class="lnt">492
</span><span class="lnt">493
</span><span class="lnt">494
</span><span class="lnt">495
</span><span class="lnt">496
</span><span class="lnt">497
</span><span class="lnt">498
</span><span class="lnt">499
</span><span class="lnt">500
</span><span class="lnt">501
</span><span class="lnt">502
</span><span class="lnt">503
</span><span class="lnt">504
</span><span class="lnt">505
</span><span class="lnt">506
</span><span class="lnt">507
</span><span class="lnt">508
</span><span class="lnt">509
</span><span class="lnt">510
</span><span class="lnt">511
</span><span class="lnt">512
</span><span class="lnt">513
</span><span class="lnt">514
</span><span class="lnt">515
</span><span class="lnt">516
</span><span class="lnt">517
</span><span class="lnt">518
</span><span class="lnt">519
</span><span class="lnt">520
</span><span class="lnt">521
</span><span class="lnt">522
</span><span class="lnt">523
</span><span class="lnt">524
</span><span class="lnt">525
</span><span class="lnt">526
</span><span class="lnt">527
</span><span class="lnt">528
</span><span class="lnt">529
</span><span class="lnt">530
</span><span class="lnt">531
</span><span class="lnt">532
</span><span class="lnt">533
</span><span class="lnt">534
</span><span class="lnt">535
</span><span class="lnt">536
</span><span class="lnt">537
</span><span class="lnt">538
</span><span class="lnt">539
</span><span class="lnt">540
</span><span class="lnt">541
</span><span class="lnt">542
</span><span class="lnt">543
</span><span class="lnt">544
</span><span class="lnt">545
</span><span class="lnt">546
</span><span class="lnt">547
</span><span class="lnt">548
</span><span class="lnt">549
</span><span class="lnt">550
</span><span class="lnt">551
</span><span class="lnt">552
</span><span class="lnt">553
</span><span class="lnt">554
</span><span class="lnt">555
</span><span class="lnt">556
</span><span class="lnt">557
</span><span class="lnt">558
</span><span class="lnt">559
</span><span class="lnt">560
</span><span class="lnt">561
</span><span class="lnt">562
</span><span class="lnt">563
</span><span class="lnt">564
</span><span class="lnt">565
</span><span class="lnt">566
</span><span class="lnt">567
</span><span class="lnt">568
</span><span class="lnt">569
</span><span class="lnt">570
</span><span class="lnt">571
</span><span class="lnt">572
</span><span class="lnt">573
</span><span class="lnt">574
</span><span class="lnt">575
</span><span class="lnt">576
</span><span class="lnt">577
</span><span class="lnt">578
</span><span class="lnt">579
</span><span class="lnt">580
</span><span class="lnt">581
</span><span class="lnt">582
</span><span class="lnt">583
</span><span class="lnt">584
</span><span class="lnt">585
</span><span class="lnt">586
</span><span class="lnt">587
</span><span class="lnt">588
</span><span class="lnt">589
</span><span class="lnt">590
</span><span class="lnt">591
</span><span class="lnt">592
</span><span class="lnt">593
</span><span class="lnt">594
</span><span class="lnt">595
</span><span class="lnt">596
</span><span class="lnt">597
</span><span class="lnt">598
</span><span class="lnt">599
</span><span class="lnt">600
</span><span class="lnt">601
</span><span class="lnt">602
</span><span class="lnt">603
</span><span class="lnt">604
</span><span class="lnt">605
</span><span class="lnt">606
</span><span class="lnt">607
</span><span class="lnt">608
</span><span class="lnt">609
</span><span class="lnt">610
</span><span class="lnt">611
</span><span class="lnt">612
</span><span class="lnt">613
</span><span class="lnt">614
</span><span class="lnt">615
</span><span class="lnt">616
</span><span class="lnt">617
</span><span class="lnt">618
</span><span class="lnt">619
</span><span class="lnt">620
</span><span class="lnt">621
</span><span class="lnt">622
</span><span class="lnt">623
</span><span class="lnt">624
</span><span class="lnt">625
</span><span class="lnt">626
</span><span class="lnt">627
</span><span class="lnt">628
</span><span class="lnt">629
</span><span class="lnt">630
</span><span class="lnt">631
</span><span class="lnt">632
</span><span class="lnt">633
</span><span class="lnt">634
</span><span class="lnt">635
</span><span class="lnt">636
</span><span class="lnt">637
</span><span class="lnt">638
</span><span class="lnt">639
</span><span class="lnt">640
</span><span class="lnt">641
</span><span class="lnt">642
</span><span class="lnt">643
</span><span class="lnt">644
</span><span class="lnt">645
</span><span class="lnt">646
</span><span class="lnt">647
</span><span class="lnt">648
</span><span class="lnt">649
</span><span class="lnt">650
</span><span class="lnt">651
</span><span class="lnt">652
</span><span class="lnt">653
</span><span class="lnt">654
</span><span class="lnt">655
</span><span class="lnt">656
</span><span class="lnt">657
</span><span class="lnt">658
</span><span class="lnt">659
</span><span class="lnt">660
</span><span class="lnt">661
</span><span class="lnt">662
</span><span class="lnt">663
</span><span class="lnt">664
</span><span class="lnt">665
</span><span class="lnt">666
</span><span class="lnt">667
</span><span class="lnt">668
</span><span class="lnt">669
</span><span class="lnt">670
</span><span class="lnt">671
</span><span class="lnt">672
</span><span class="lnt">673
</span><span class="lnt">674
</span><span class="lnt">675
</span><span class="lnt">676
</span><span class="lnt">677
</span><span class="lnt">678
</span><span class="lnt">679
</span><span class="lnt">680
</span><span class="lnt">681
</span><span class="lnt">682
</span><span class="lnt">683
</span><span class="lnt">684
</span><span class="lnt">685
</span><span class="lnt">686
</span><span class="lnt">687
</span><span class="lnt">688
</span><span class="lnt">689
</span><span class="lnt">690
</span><span class="lnt">691
</span><span class="lnt">692
</span><span class="lnt">693
</span><span class="lnt">694
</span><span class="lnt">695
</span><span class="lnt">696
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-gdscript3" data-lang="gdscript3"><span class="line"><span class="cl"><span class="o">///</span> <span class="p">[{</span><span class="s2">&#34;MachID&#34;</span><span class="p">:</span><span class="s2">&#34;#RowID&#34;</span><span class="p">,</span><span class="s2">&#34;Type&#34;</span><span class="p">:</span><span class="s2">&#34;Drect&#34;</span><span class="p">,</span><span class="s2">&#34;UpTime&#34;</span><span class="p">:</span><span class="s2">&#34;3000&#34;</span><span class="p">,</span><span class="s2">&#34;Address&#34;</span><span class="p">:</span><span class="s2">&#34;Z:</span><span class="se">\\</span><span class="s2">upload</span><span class="se">\\</span><span class="s2">&#34;</span><span class="p">,</span><span class="s2">&#34;UpCDF&#34;</span><span class="p">:</span><span class="s2">&#34;1&#34;</span><span class="p">,</span><span class="s2">&#34;UpREF&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="s2">&#34;DealProcess&#34;</span><span class="p">:</span><span class="s2">&#34;MI.MIFMYLA&#34;</span><span class="p">,</span><span class="s2">&#34;Para&#34;</span><span class="p">:</span><span class="s2">&#34;.xml&#34;</span><span class="p">,</span><span class="s2">&#34;PreDealClass&#34;</span><span class="p">:</span><span class="s2">&#34;PreDeal.DealDemoMALL,PreDeal&#34;</span><span class="p">,</span><span class="s2">&#34;UPPreDealClass&#34;</span><span class="p">:</span><span class="s2">&#34;PreDeal.DealDemoM,PreDeal&#34;</span><span class="p">,</span><span class="s2">&#34;UpPara&#34;</span><span class="p">:</span><span class="s2">&#34;Z:</span><span class="se">\\</span><span class="s2">download</span><span class="se">\\</span><span class="s2">&#34;</span><span class="p">}]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="p">[{</span><span class="s2">&#34;MachID&#34;</span><span class="p">:</span><span class="s2">&#34;#RowID&#34;</span><span class="p">,</span><span class="s2">&#34;Type&#34;</span><span class="p">:</span><span class="s2">&#34;Drect&#34;</span><span class="p">,</span><span class="s2">&#34;UpTime&#34;</span><span class="p">:</span><span class="s2">&#34;3000&#34;</span><span class="p">,</span><span class="s2">&#34;Address&#34;</span><span class="p">:</span><span class="s2">&#34;</span><span class="se">\\\\</span><span class="s2">172.19.10.88</span><span class="se">\\</span><span class="s2">lis</span><span class="se">\\</span><span class="s2">upload</span><span class="se">\\</span><span class="s2">&#34;</span><span class="p">,</span><span class="s2">&#34;UpCDF&#34;</span><span class="p">:</span><span class="s2">&#34;1&#34;</span><span class="p">,</span><span class="s2">&#34;UpREF&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="s2">&#34;DealProcess&#34;</span><span class="p">:</span><span class="s2">&#34;MI.MIFMYLA&#34;</span><span class="p">,</span><span class="s2">&#34;Para&#34;</span><span class="p">:</span><span class="s2">&#34;.xml&#34;</span><span class="p">,</span><span class="s2">&#34;PreDealClass&#34;</span><span class="p">:</span><span class="s2">&#34;PreDeal.DealDemoMALL,PreDeal&#34;</span><span class="p">,</span><span class="s2">&#34;UPPreDealClass&#34;</span><span class="p">:</span><span class="s2">&#34;PreDeal.DealDemoM,PreDeal&#34;</span><span class="p">,</span><span class="s2">&#34;UpPara&#34;</span><span class="p">:</span><span class="s2">&#34;</span><span class="se">\\\\</span><span class="s2">172.19.10.88</span><span class="se">\\</span><span class="s2">lis</span><span class="se">\\</span><span class="s2">download</span><span class="se">\\</span><span class="s2">&#34;</span><span class="p">,</span><span class="s2">&#34;OtherPara&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="s2">&#34;ExcelSheetIndex&#34;</span><span class="p">:</span><span class="s2">&#34;0&#34;</span><span class="p">,</span><span class="s2">&#34;MaxCommitLength&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="s2">&#34;BakPath&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="s2">&#34;PathRegex&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="s2">&#34;IsCombineLines&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="s2">&#34;ReadFileModel&#34;</span><span class="p">:</span><span class="s2">&#34;0&#34;</span><span class="p">,</span><span class="s2">&#34;ReadFileLeavelModel&#34;</span><span class="p">:</span><span class="s2">&#34;0&#34;</span><span class="p">,</span><span class="s2">&#34;ManualTrans&#34;</span><span class="p">:</span><span class="s2">&#34;0&#34;</span><span class="p">,</span><span class="s2">&#34;WaringDealNum&#34;</span><span class="p">:</span><span class="s2">&#34;500000&#34;</span><span class="p">,</span><span class="s2">&#34;NotSaveLog&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="s2">&#34;DemoImageClass&#34;</span><span class="p">:</span><span class="s2">&#34;1&#34;</span><span class="p">,</span><span class="s2">&#34;StableTime&#34;</span><span class="p">:</span><span class="s2">&#34;8&#34;</span><span class="p">,</span><span class="s2">&#34;SleepTime&#34;</span><span class="p">:</span><span class="s2">&#34;2000&#34;</span><span class="p">,</span><span class="s2">&#34;Encoding&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="s2">&#34;WriteEncoding&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="s2">&#34;ImgPixelFormat&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="s2">&#34;ImgZipWidthHeight&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">}]</span>
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="p">[{</span><span class="s2">&#34;MachID&#34;</span><span class="p">:</span><span class="s2">&#34;#RowID&#34;</span><span class="p">,</span><span class="s2">&#34;Type&#34;</span><span class="p">:</span><span class="s2">&#34;Drect&#34;</span><span class="p">,</span><span class="s2">&#34;UpTime&#34;</span><span class="p">:</span><span class="s2">&#34;3000&#34;</span><span class="p">,</span><span class="s2">&#34;Address&#34;</span><span class="p">:</span><span class="s2">&#34;z:</span><span class="se">\\</span><span class="s2">upload</span><span class="se">\\</span><span class="s2">&#34;</span><span class="p">,</span><span class="s2">&#34;UpCDF&#34;</span><span class="p">:</span><span class="s2">&#34;1&#34;</span><span class="p">,</span><span class="s2">&#34;UpREF&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="s2">&#34;DealProcess&#34;</span><span class="p">:</span><span class="s2">&#34;MI.MIFMYLA&#34;</span><span class="p">,</span><span class="s2">&#34;Para&#34;</span><span class="p">:</span><span class="s2">&#34;.xml&#34;</span><span class="p">,</span><span class="s2">&#34;PreDealClass&#34;</span><span class="p">:</span><span class="s2">&#34;PreDeal.DealDemoMALL,PreDeal&#34;</span><span class="p">,</span><span class="s2">&#34;UPPreDealClass&#34;</span><span class="p">:</span><span class="s2">&#34;PreDeal.DealDemoM,PreDeal&#34;</span><span class="p">,</span><span class="s2">&#34;UpPara&#34;</span><span class="p">:</span><span class="s2">&#34;z:</span><span class="se">\\</span><span class="s2">download</span><span class="se">\\</span><span class="s2">&#34;</span><span class="p">,</span><span class="s2">&#34;OtherPara&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="s2">&#34;CopyFile&#34;</span><span class="p">:</span><span class="s2">&#34;y:</span><span class="se">\\</span><span class="s2">bak</span><span class="se">\\</span><span class="s2">&#34;</span><span class="p">,</span><span class="s2">&#34;ExcelSheetIndex&#34;</span><span class="p">:</span><span class="s2">&#34;0&#34;</span><span class="p">,</span><span class="s2">&#34;MaxCommitLength&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="s2">&#34;BakPath&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="s2">&#34;PathRegex&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="s2">&#34;IsCombineLines&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="s2">&#34;ReadFileModel&#34;</span><span class="p">:</span><span class="s2">&#34;0&#34;</span><span class="p">,</span><span class="s2">&#34;ReadFileLeavelModel&#34;</span><span class="p">:</span><span class="s2">&#34;0&#34;</span><span class="p">,</span><span class="s2">&#34;ManualTrans&#34;</span><span class="p">:</span><span class="s2">&#34;0&#34;</span><span class="p">,</span><span class="s2">&#34;WaringDealNum&#34;</span><span class="p">:</span><span class="s2">&#34;500000&#34;</span><span class="p">,</span><span class="s2">&#34;NotSaveLog&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="s2">&#34;DemoImageClass&#34;</span><span class="p">:</span><span class="s2">&#34;1&#34;</span><span class="p">,</span><span class="s2">&#34;StableTime&#34;</span><span class="p">:</span><span class="s2">&#34;8&#34;</span><span class="p">,</span><span class="s2">&#34;SleepTime&#34;</span><span class="p">:</span><span class="s2">&#34;2000&#34;</span><span class="p">,</span><span class="s2">&#34;Encoding&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="s2">&#34;WriteEncoding&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="s2">&#34;ImgPixelFormat&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="s2">&#34;ImgZipWidthHeight&#34;</span><span class="p">:</span><span class="s2">&#34;&#34;</span><span class="p">}]</span>
</span></span><span class="line"><span class="cl"><span class="n">Class</span> <span class="n">MI</span><span class="o">.</span><span class="n">MIFMYLA</span> <span class="n">Extends</span> <span class="o">%</span><span class="n">RegisteredObject</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">//</span> <span class="n">D</span> <span class="c1">##class(MI.MIFMYLA).fileMTHD(&#34;35&#34;,&#34;&lt;?xmlversion=&#34;1.0&#34;encoding=&#34;UTF-8&#34;standalone=&#34;yes&#34;?&gt;,&lt;aiMessage&gt;,&lt;header&gt;,&lt;version&gt;1394-97&lt;/version&gt;,&lt;dateTime&gt;20191101154833&lt;/dateTime&gt;,&lt;instrumentName&gt;aaa&lt;/instrumentName&gt;,&lt;serialNumber&gt;COM10_1&lt;/serialNumber&gt;,&lt;/header&gt;,&lt;requestResult&gt;,&lt;patientInformation&gt;,&lt;patientIdentifier&gt;!oRPHaN!&lt;/patientIdentifier&gt;,&lt;patientVisitNumber&gt;!oRPHaN!&lt;/patientVisitNumber&gt;,&lt;sex&gt;U&lt;/sex&gt;,&lt;/patientInformation&gt;,&lt;testOrder&gt;,&lt;specimen&gt;,&lt;specimenIdentifier&gt;31121560&lt;/specimenIdentifier&gt;,&lt;/specimen&gt;,&lt;isolateRelativeIdentifier&gt;28864&lt;/isolateRelativeIdentifier&gt;,&lt;test&gt;,&lt;universalIdentifier&gt;,&lt;testGroupCode&gt;BC&lt;/testGroupCode&gt;,&lt;testIdentifier&gt;BC_BA_NA&lt;/testIdentifier&gt;,&lt;/universalIdentifier&gt;,&lt;expectedDuration&gt;6.5&lt;/expectedDuration&gt;,&lt;instrumentSectionId&gt;1A35&lt;/instrumentSectionId&gt;,&lt;instrumentName&gt;aaa&lt;/instrumentName&gt;,&lt;instrumentType&gt;bta&lt;/instrumentType&gt;,&lt;instrumentSerialNumber&gt;COM10_1&lt;/instrumentSerialNumber&gt;,&lt;result&gt;,&lt;value&gt;,&lt;bloodCulture&gt;,&lt;dateResultDetermined&gt;20191101154833&lt;/dateResultDetermined&gt;,&lt;timeToDetectionInHours&gt;102.6&lt;/timeToDetectionInHours&gt;,&lt;result&gt;Pos&lt;/result&gt;,&lt;/bloodCulture&gt;,&lt;/value&gt;,&lt;resultStatus&gt;P&lt;/resultStatus&gt;,&lt;startDateTime&gt;20191028091512&lt;/startDateTime&gt;,&lt;bmxResultData&gt;,&lt;disposable&gt;,&lt;disposableIdentifier&gt;SNT0KVZG&lt;/disposableIdentifier&gt;,&lt;reference&gt;BSN&lt;/reference&gt;,&lt;disposableType&gt;BOTTLE&lt;/disposableType&gt;,&lt;disposableStartDateTime&gt;20191028091512&lt;/disposableStartDateTime&gt;,&lt;/disposable&gt;,&lt;/bmxResultData&gt;,&lt;/result&gt;,&lt;/test&gt;,&lt;/testOrder&gt;,&lt;/requestResult&gt;,&lt;/aiMessage&gt;,	1&#34;,&#34;1&#34;)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">//</span> <span class="n">w</span> <span class="c1">##class(MI.MIFMYLA).fileMTHD(&#34;35&#34;,&#34;&lt;?xmlversion=1.0encoding=UTF-8standalone=yes?&gt;,&lt;aiMessage&gt;,&lt;header&gt;,&lt;version&gt;1394-97&lt;/version&gt;,&lt;dateTime&gt;20191101155458&lt;/dateTime&gt;,&lt;instrumentName&gt;FMLAIT&lt;/instrumentName&gt;,&lt;serialNumber&gt;00000A4E0814&lt;/serialNumber&gt;,&lt;/header&gt;,&lt;requestResult&gt;,&lt;patientInformation&gt;,&lt;patientIdentifier&gt;!oRPHaN!&lt;/patientIdentifier&gt;,&lt;patientVisitNumber&gt;!oRPHaN!&lt;/patientVisitNumber&gt;,&lt;sex&gt;U&lt;/sex&gt;,&lt;/patientInformation&gt;,&lt;testOrder&gt;,&lt;specimen&gt;,&lt;specimenIdentifier&gt;4810&lt;/specimenIdentifier&gt;,&lt;/specimen&gt;,&lt;isolateNumber&gt;1&lt;/isolateNumber&gt;,&lt;isolateRelativeIdentifier&gt;825674&lt;/isolateRelativeIdentifier&gt;,&lt;test&gt;,&lt;universalIdentifier&gt;,&lt;testGroupCode&gt;SU&lt;/testGroupCode&gt;,&lt;testIdentifier&gt;AST-GN16&lt;/testIdentifier&gt;,&lt;testName&gt;AST-GN16&lt;/testName&gt;,&lt;/universalIdentifier&gt;,&lt;instrumentName&gt;FMLAIT&lt;/instrumentName&gt;,&lt;instrumentType&gt;V2S&lt;/instrumentType&gt;,&lt;instrumentSerialNumber&gt;00000A4E0814&lt;/instrumentSerialNumber&gt;,&lt;result&gt;,&lt;value&gt;,&lt;identification&gt;,&lt;significantTaxon&gt;,&lt;code&gt;ECO&lt;/code&gt;,&lt;name&gt;Escherichiacoli&lt;/name&gt;,&lt;/significantTaxon&gt;,&lt;/identification&gt;,&lt;ast&gt;,&lt;antibiotic&gt;,&lt;code&gt;ESB&lt;/code&gt;,&lt;name&gt;ESBL&lt;/name&gt;,&lt;highMic&gt;,&lt;micValue&gt;Pos&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;Pos&lt;/category&gt;,&lt;nonExpertCategory&gt;Pos&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;AM&lt;/code&gt;,&lt;name&gt;Ampicillin&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;gt;=&lt;/micSign&gt;,&lt;micValue&gt;32.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;R&lt;/category&gt;,&lt;nonExpertCategory&gt;R&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;AMC&lt;/code&gt;,&lt;name&gt;Amoxicillin/ClavulanicAcid&lt;/name&gt;,&lt;highMic&gt;,&lt;micValue&gt;8.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;TZP&lt;/code&gt;,&lt;name&gt;Piperacillin/Tazobactam&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;lt;=&lt;/micSign&gt;,&lt;micValue&gt;4.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;CZ06&lt;/code&gt;,&lt;name&gt;Cefazolin(Urine)&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;gt;=&lt;/micSign&gt;,&lt;micValue&gt;64.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;R&lt;/category&gt;,&lt;nonExpertCategory&gt;R&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;CZ03&lt;/code&gt;,&lt;name&gt;Cefazolin(NonUrine)&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;gt;=&lt;/micSign&gt;,&lt;micValue&gt;64.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;R&lt;/category&gt;,&lt;nonExpertCategory&gt;R&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;FOX&lt;/code&gt;,&lt;name&gt;Cefoxitin&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;lt;=&lt;/micSign&gt;,&lt;micValue&gt;4.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;CRO&lt;/code&gt;,&lt;name&gt;Ceftriaxone&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;gt;=&lt;/micSign&gt;,&lt;micValue&gt;64.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;R&lt;/category&gt;,&lt;nonExpertCategory&gt;R&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;FEP&lt;/code&gt;,&lt;name&gt;Cefepime&lt;/name&gt;,&lt;highMic&gt;,&lt;micValue&gt;2.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;ATM&lt;/code&gt;,&lt;name&gt;Aztreonam&lt;/name&gt;,&lt;highMic&gt;,&lt;micValue&gt;4.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;ETP&lt;/code&gt;,&lt;name&gt;Ertapenem&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;lt;=&lt;/micSign&gt;,&lt;micValue&gt;0.5&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;IPM&lt;/code&gt;,&lt;name&gt;Imipenem&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;lt;=&lt;/micSign&gt;,&lt;micValue&gt;1.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;AN&lt;/code&gt;,&lt;name&gt;Amikacin&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;lt;=&lt;/micSign&gt;,&lt;micValue&gt;2.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;GM&lt;/code&gt;,&lt;name&gt;Gentamicin&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;lt;=&lt;/micSign&gt;,&lt;micValue&gt;1.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;TM&lt;/code&gt;,&lt;name&gt;Tobramycin&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;lt;=&lt;/micSign&gt;,&lt;micValue&gt;1.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;CIP&lt;/code&gt;,&lt;name&gt;Ciprofloxacin&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;lt;=&lt;/micSign&gt;,&lt;micValue&gt;0.25&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;LEV&lt;/code&gt;,&lt;name&gt;Levofloxacin&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;lt;=&lt;/micSign&gt;,&lt;micValue&gt;0.25&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;TGC&lt;/code&gt;,&lt;name&gt;Tigecycline&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;lt;=&lt;/micSign&gt;,&lt;micValue&gt;0.5&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;FT&lt;/code&gt;,&lt;name&gt;Nitrofurantoin&lt;/name&gt;,&lt;highMic&gt;,&lt;micValue&gt;32.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;SXT&lt;/code&gt;,&lt;name&gt;Trimethoprim/Sulfamethoxazole&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;gt;=&lt;/micSign&gt;,&lt;micValue&gt;320.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;R&lt;/category&gt;,&lt;nonExpertCategory&gt;R&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;/ast&gt;,&lt;expertFinding&gt;,&lt;expertConfidence&gt;Consistentexpertise&lt;/expertConfidence&gt;,&lt;resistanceMechanism&gt;,&lt;drugFamily&gt;QUINOLONES&lt;/drugFamily&gt;,&lt;phenotype&gt;WILD&lt;/phenotype&gt;,&lt;/resistanceMechanism&gt;,&lt;resistanceMechanism&gt;,&lt;drugFamily&gt;TETRACYCLINES&lt;/drugFamily&gt;,&lt;phenotype&gt;RESISTANT&lt;/phenotype&gt;,&lt;phenotype&gt;WILD&lt;/phenotype&gt;,&lt;/resistanceMechanism&gt;,&lt;resistanceMechanism&gt;,&lt;drugFamily&gt;BETA-LACTAMS&lt;/drugFamily&gt;,&lt;phenotype&gt;ESBL(CTX-MLIKE)&lt;/phenotype&gt;,&lt;phenotype&gt;EXTENDEDSPECTRUMBETA-LACTAMASE&lt;/phenotype&gt;,&lt;/resistanceMechanism&gt;,&lt;resistanceMechanism&gt;,&lt;drugFamily&gt;FURANES&lt;/drugFamily&gt;,&lt;phenotype&gt;RESISTANT&lt;/phenotype&gt;,&lt;phenotype&gt;WILD&lt;/phenotype&gt;,&lt;/resistanceMechanism&gt;,&lt;resistanceMechanism&gt;,&lt;drugFamily&gt;AMINOGLYCOSIDES&lt;/drugFamily&gt;,&lt;phenotype&gt;WILD&lt;/phenotype&gt;,&lt;/resistanceMechanism&gt;,&lt;resistanceMechanism&gt;,&lt;drugFamily&gt;TRIMETHOPRIM/SULFONAMIDES&lt;/drugFamily&gt;,&lt;phenotype&gt;RESISTANT&lt;/phenotype&gt;,&lt;/resistanceMechanism&gt;,&lt;/expertFinding&gt;,&lt;/value&gt;,&lt;resultStatus&gt;F&lt;/resultStatus&gt;,&lt;startDateTime&gt;20191031162456&lt;/startDateTime&gt;,&lt;resultDateTime&gt;20191031232556&lt;/resultDateTime&gt;,&lt;bmxResultData&gt;,&lt;disposable&gt;,&lt;disposableIdentifier&gt;1130970103102646&lt;/disposableIdentifier&gt;,&lt;reference&gt;AST-GN16&lt;/reference&gt;,&lt;disposableType&gt;VITEK2-AST-CARD&lt;/disposableType&gt;,&lt;lotNumber&gt;1130970103&lt;/lotNumber&gt;,&lt;expirationDate&gt;20200723&lt;/expirationDate&gt;,&lt;disposableStartDateTime&gt;20191031162456&lt;/disposableStartDateTime&gt;,&lt;disposableFinalDateTime&gt;20191031232556&lt;/disposableFinalDateTime&gt;,&lt;disposableSetupTechnologist&gt;1&lt;/disposableSetupTechnologist&gt;,&lt;disposableSetupTechnologistText&gt;1&lt;/disposableSetupTechnologistText&gt;,&lt;/disposable&gt;,&lt;/bmxResultData&gt;,&lt;/result&gt;,&lt;/test&gt;,&lt;/testOrder&gt;,&lt;/requestResult&gt;,&lt;/aiMessage&gt;&#34;)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">w</span> <span class="c1">##class(MI.MIFMYLA).fileMTHD(&#34;21&#34;,&#34;&lt;?xmlversion=1.0encoding=UTF-8standalone=no?&gt;,&lt;aiMessage&gt;,&lt;header&gt;,&lt;version&gt;1394-97&lt;/version&gt;,&lt;dateTime&gt;20240720151337&lt;/dateTime&gt;,&lt;instrumentName&gt;FMLAIT&lt;/instrumentName&gt;,&lt;serialNumber&gt;00001B1AFF02&lt;/serialNumber&gt;,&lt;/header&gt;,&lt;requestResult&gt;,&lt;patientInformation&gt;,&lt;patientIdentifier&gt;!oRPHaN!&lt;/patientIdentifier&gt;,&lt;patientVisitNumber&gt;!oRPHaN!&lt;/patientVisitNumber&gt;,&lt;sex&gt;U&lt;/sex&gt;,&lt;/patientInformation&gt;,&lt;testOrder&gt;,&lt;specimen&gt;,&lt;specimenIdentifier&gt;A20231180&lt;/specimenIdentifier&gt;,&lt;/specimen&gt;,&lt;isolateNumber&gt;1&lt;/isolateNumber&gt;,&lt;isolateRelativeIdentifier&gt;503137&lt;/isolateRelativeIdentifier&gt;,&lt;test&gt;,&lt;universalIdentifier&gt;,&lt;testGroupCode&gt;SU&lt;/testGroupCode&gt;,&lt;testIdentifier&gt;AST-N335&lt;/testIdentifier&gt;,&lt;testName&gt;AST-N335&lt;/testName&gt;,&lt;/universalIdentifier&gt;,&lt;instrumentName&gt;FMLAIT&lt;/instrumentName&gt;,&lt;instrumentType&gt;V2S&lt;/instrumentType&gt;,&lt;instrumentSerialNumber&gt;00001B1AFF02&lt;/instrumentSerialNumber&gt;,&lt;result&gt;,&lt;value&gt;,&lt;identification&gt;,&lt;significantTaxon&gt;,&lt;code&gt;PPA&lt;/code&gt;,&lt;name&gt;Pseudomonasaeruginosa&lt;/name&gt;,&lt;/significantTaxon&gt;,&lt;/identification&gt;,&lt;ast&gt;,&lt;antibiotic&gt;,&lt;code&gt;TCC&lt;/code&gt;,&lt;name&gt;Ticarcillin/ClavulanicAcid&lt;/name&gt;,&lt;suppressedDrug&gt;false&lt;/suppressedDrug&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;gt;=&lt;/micSign&gt;,&lt;micValue&gt;128.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;R&lt;/category&gt;,&lt;nonExpertCategory&gt;R&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;CAZ&lt;/code&gt;,&lt;name&gt;Ceftazidime&lt;/name&gt;,&lt;suppressedDrug&gt;false&lt;/suppressedDrug&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;gt;=&lt;/micSign&gt;,&lt;micValue&gt;64.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;R&lt;/category&gt;,&lt;nonExpertCategory&gt;R&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;SFP&lt;/code&gt;,&lt;name&gt;Cefoperazone/Sulbactam&lt;/name&gt;,&lt;suppressedDrug&gt;false&lt;/suppressedDrug&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;gt;=&lt;/micSign&gt;,&lt;micValue&gt;64.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;R&lt;/category&gt;,&lt;nonExpertCategory&gt;R&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;FEP&lt;/code&gt;,&lt;name&gt;Cefepime&lt;/name&gt;,&lt;suppressedDrug&gt;false&lt;/suppressedDrug&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;gt;=&lt;/micSign&gt;,&lt;micValue&gt;32.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;R&lt;/category&gt;,&lt;nonExpertCategory&gt;R&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;IPM&lt;/code&gt;,&lt;name&gt;Imipenem&lt;/name&gt;,&lt;suppressedDrug&gt;false&lt;/suppressedDrug&gt;,&lt;highMic&gt;,&lt;micValue&gt;2.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;MEM&lt;/code&gt;,&lt;name&gt;Meropenem&lt;/name&gt;,&lt;suppressedDrug&gt;false&lt;/suppressedDrug&gt;,&lt;highMic&gt;,&lt;micValue&gt;4.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;I&lt;/category&gt;,&lt;nonExpertCategory&gt;I&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;TM&lt;/code&gt;,&lt;name&gt;Tobramycin&lt;/name&gt;,&lt;suppressedDrug&gt;false&lt;/suppressedDrug&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;lt;=&lt;/micSign&gt;,&lt;micValue&gt;1.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;CIP&lt;/code&gt;,&lt;name&gt;Ciprofloxacin&lt;/name&gt;,&lt;suppressedDrug&gt;false&lt;/suppressedDrug&gt;,&lt;highMic&gt;,&lt;micValue&gt;0.5&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;LEV&lt;/code&gt;,&lt;name&gt;Levofloxacin&lt;/name&gt;,&lt;suppressedDrug&gt;false&lt;/suppressedDrug&gt;,&lt;highMic&gt;,&lt;micValue&gt;2.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;I&lt;/category&gt;,&lt;nonExpertCategory&gt;I&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;/ast&gt;,&lt;expertFinding&gt;,&lt;expertConfidence&gt;Consistentexpertise&lt;/expertConfidence&gt;,&lt;resistanceMechanism&gt;,&lt;drugFamily&gt;POLYPEPTIDES&lt;/drugFamily&gt;,&lt;phenotype&gt;WILD&lt;/phenotype&gt;,&lt;/resistanceMechanism&gt;,&lt;resistanceMechanism&gt;,&lt;drugFamily&gt;QUINOLONES&lt;/drugFamily&gt;,&lt;phenotype&gt;WILD&lt;/phenotype&gt;,&lt;/resistanceMechanism&gt;,&lt;resistanceMechanism&gt;,&lt;drugFamily&gt;AMINOGLYCOSIDES&lt;/drugFamily&gt;,&lt;phenotype&gt;RESISTANT(GENNET)&lt;/phenotype&gt;,&lt;phenotype&gt;WILD&lt;/phenotype&gt;,&lt;phenotype&gt;RESISTANT(GEN)&lt;/phenotype&gt;,&lt;/resistanceMechanism&gt;,&lt;resistanceMechanism&gt;,&lt;drugFamily&gt;BETA-LACTAMS&lt;/drugFamily&gt;,&lt;phenotype&gt;HIGHLEVELCEPHALOSPORINASE&lt;/phenotype&gt;,&lt;phenotype&gt;ESBL(CLAVULANATEINHIBITED)&lt;/phenotype&gt;,&lt;/resistanceMechanism&gt;,&lt;/expertFinding&gt;,&lt;/value&gt;,&lt;resultStatus&gt;F&lt;/resultStatus&gt;,&lt;startDateTime&gt;20240718190618&lt;/startDateTime&gt;,&lt;resultDateTime&gt;20240719064418&lt;/resultDateTime&gt;,&lt;userComment&gt;,&lt;comment&gt;,&lt;source&gt;L&lt;/source&gt;,&lt;code&gt;18&lt;/code&gt;,&lt;text&gt;å¤šé‡è€è¯èŒCR-PAï¼šè€ç¢³é’éœ‰çƒ¯ç±»çš„é“œç»¿å‡å•èƒèŒ&lt;/text&gt;,&lt;type&gt;G&lt;/type&gt;,&lt;/comment&gt;,&lt;/userComment&gt;,&lt;bmxResultData&gt;,&lt;disposable&gt;,&lt;disposableIdentifier&gt;7752721403268693&lt;/disposableIdentifier&gt;,&lt;reference&gt;AST-N335&lt;/reference&gt;,&lt;disposableType&gt;VITEK2-AST-CARD&lt;/disposableType&gt;,&lt;lotNumber&gt;7752721403&lt;/lotNumber&gt;,&lt;expirationDate&gt;20250509&lt;/expirationDate&gt;,&lt;disposableStartDateTime&gt;20240718190618&lt;/disposableStartDateTime&gt;,&lt;disposableFinalDateTime&gt;20240719064418&lt;/disposableFinalDateTime&gt;,&lt;disposableSetupTechnologist&gt;WSWWSW&lt;/disposableSetupTechnologist&gt;,&lt;disposableSetupTechnologistText&gt;wswwsw&lt;/disposableSetupTechnologistText&gt;,&lt;/disposable&gt;,&lt;/bmxResultData&gt;,&lt;/result&gt;,&lt;/test&gt;,&lt;/testOrder&gt;,&lt;/requestResult&gt;,&lt;/aiMessage&gt;,&#34;)</span>
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">w</span> <span class="c1">##class(MI.MIFMYLA).fileMTHD(&#34;35&#34;,&#34;&lt;?xmlversion=1.0encoding=UTF-8standalone=no?&gt;,&lt;aiMessage&gt;,&lt;header&gt;,&lt;version&gt;1394-97&lt;/version&gt;,&lt;dateTime&gt;20240614155621&lt;/dateTime&gt;,&lt;instrumentName&gt;VITEKMSACQ01&lt;/instrumentName&gt;,&lt;serialNumber&gt;52358&lt;/serialNumber&gt;,&lt;/header&gt;,&lt;requestResult&gt;,&lt;patientInformation&gt;,&lt;patientIdentifier&gt;!oRPHaN!&lt;/patientIdentifier&gt;,&lt;patientVisitNumber&gt;!oRPHaN!&lt;/patientVisitNumber&gt;,&lt;sex&gt;U&lt;/sex&gt;,&lt;/patientInformation&gt;,&lt;testOrder&gt;,&lt;specimen&gt;,&lt;specimenIdentifier&gt;102&lt;/specimenIdentifier&gt;,&lt;/specimen&gt;,&lt;isolateNumber&gt;1&lt;/isolateNumber&gt;,&lt;test&gt;,&lt;universalIdentifier&gt;,&lt;testGroupCode&gt;ID&lt;/testGroupCode&gt;,&lt;testIdentifier&gt;MALDI-TOF&lt;/testIdentifier&gt;,&lt;testName&gt;MALDI-TOFtest&lt;/testName&gt;,&lt;/universalIdentifier&gt;,&lt;positionOnDisposable&gt;I2&lt;/positionOnDisposable&gt;,&lt;instrumentCharge&gt;10497&lt;/instrumentCharge&gt;,&lt;instrumentName&gt;VITEKMSACQ01&lt;/instrumentName&gt;,&lt;instrumentType&gt;MSID&lt;/instrumentType&gt;,&lt;instrumentSerialNumber&gt;52358&lt;/instrumentSerialNumber&gt;,&lt;result&gt;,&lt;value&gt;,&lt;identification&gt;,&lt;identificationConfidenceCode&gt;ID_GOOD&lt;/identificationConfidenceCode&gt;,&lt;identificationConfidence&gt;Goodidentification&lt;/identificationConfidence&gt;,&lt;probability&gt;99.9&lt;/probability&gt;,&lt;significantTaxon&gt;,&lt;code&gt;PPA&lt;/code&gt;,&lt;name&gt;Pseudomonasaeruginosa&lt;/name&gt;,&lt;/significantTaxon&gt;,&lt;/identification&gt;,&lt;/value&gt;,&lt;resultStatus&gt;F&lt;/resultStatus&gt;,&lt;resultDateTime&gt;20240614155621&lt;/resultDateTime&gt;,&lt;bmxResultData&gt;,&lt;disposable&gt;,&lt;disposableIdentifier&gt;1647&lt;/disposableIdentifier&gt;,&lt;reference&gt;240614002&lt;/reference&gt;,&lt;disposableType&gt;AXIMA_SLIDE_REF&lt;/disposableType&gt;,&lt;disposableSetupTechnologist&gt;wsw&lt;/disposableSetupTechnologist&gt;,&lt;/disposable&gt;,&lt;disposable&gt;,&lt;disposableIdentifier&gt;1_1&lt;/disposableIdentifier&gt;,&lt;reference&gt;VITEKMS-CHCA&lt;/reference&gt;,&lt;disposableType&gt;MATRIX&lt;/disposableType&gt;,&lt;lotNumber&gt;1&lt;/lotNumber&gt;,&lt;disposableFinalDateTime&gt;20240614091531&lt;/disposableFinalDateTime&gt;,&lt;disposableSetupTechnologist&gt;WSW&lt;/disposableSetupTechnologist&gt;,&lt;disposableSetupTechnologistText&gt;wsw&lt;/disposableSetupTechnologistText&gt;,&lt;/disposable&gt;,&lt;extraResultData&gt;1636&lt;/extraResultData&gt;,&lt;/bmxResultData&gt;,&lt;/result&gt;,&lt;/test&gt;,&lt;/testOrder&gt;,&lt;/requestResult&gt;,&lt;/aiMessage&gt;,&#34;)</span>
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">w</span> <span class="c1">##class(MI.MIFMYLA).fileMTHD(&#34;12&#34;,&#34;&lt;?xmlversion=1.0encoding=UTF-8standalone=no?&gt;[13][10]&lt;aiMessage&gt;[13][10]&lt;header&gt;[13][10]&lt;version&gt;1394-97&lt;/version&gt;[13][10]&lt;dateTime&gt;20250411093737&lt;/dateTime&gt;[13][10]&lt;instrumentName&gt;BTA-1Name&lt;/instrumentName&gt;[13][10]&lt;serialNumber&gt;COM10_1&lt;/serialNumber&gt;[13][10]&lt;/header&gt;[13][10]&lt;requestResult&gt;[13][10]&lt;patientInformation&gt;[13][10]&lt;patientIdentifier&gt;!oRPHaN!&lt;/patientIdentifier&gt;[13][10]&lt;patientVisitNumber&gt;!oRPHaN!&lt;/patientVisitNumber&gt;[13][10]&lt;sex&gt;U&lt;/sex&gt;[13][10]&lt;/patientInformation&gt;[13][10]&lt;testOrder&gt;[13][10]&lt;specimen&gt;[13][10]&lt;specimenIdentifier&gt;8000000384&lt;/specimenIdentifier&gt;[13][10]&lt;/specimen&gt;[13][10]&lt;isolateRelativeIdentifier&gt;14754&lt;/isolateRelativeIdentifier&gt;[13][10]&lt;test&gt;[13][10]&lt;universalIdentifier&gt;[13][10]&lt;testGroupCode&gt;BC&lt;/testGroupCode&gt;[13][10]&lt;testIdentifier&gt;BC_BA_NA&lt;/testIdentifier&gt;[13][10]&lt;/universalIdentifier&gt;[13][10]&lt;expectedDuration&gt;5&lt;/expectedDuration&gt;[13][10]&lt;instrumentSectionId&gt;1C9&lt;/instrumentSectionId&gt;[13][10]&lt;instrumentName&gt;BTA-1Name&lt;/instrumentName&gt;[13][10]&lt;instrumentType&gt;bta&lt;/instrumentType&gt;[13][10]&lt;instrumentSerialNumber&gt;COM10_1&lt;/instrumentSerialNumber&gt;[13][10]&lt;result&gt;[13][10]&lt;value&gt;[13][10]&lt;bloodCulture&gt;[13][10]&lt;dateResultDetermined&gt;20250411093736&lt;/dateResultDetermined&gt;[13][10]&lt;timeToDetectionInHours&gt;410.8&lt;/timeToDetectionInHours&gt;[13][10]&lt;result&gt;Unk&lt;/result&gt;[13][10]&lt;/bloodCulture&gt;[13][10]&lt;/value&gt;[13][10]&lt;resultStatus&gt;I&lt;/resultStatus&gt;[13][10]&lt;startDateTime&gt;20250325064807&lt;/startDateTime&gt;[13][10]&lt;bmxResultData&gt;[13][10]&lt;disposable&gt;[13][10]&lt;disposableIdentifier&gt;SPY1T2SK&lt;/disposableIdentifier&gt;[13][10]&lt;reference&gt;BPF&lt;/reference&gt;[13][10]&lt;disposableType&gt;BOTTLE&lt;/disposableType&gt;[13][10]&lt;disposableStartDateTime&gt;20250325064807&lt;/disposableStartDateTime&gt;[13][10]&lt;/disposable&gt;[13][10]&lt;/bmxResultData&gt;[13][10]&lt;/result&gt;[13][10]&lt;/test&gt;[13][10]&lt;/testOrder&gt;[13][10]&lt;/requestResult&gt;[13][10]&lt;/aiMessage&gt;[13][10]&#34;)</span>
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">j</span> <span class="c1">##class(MI.MIFMYLA).fileMTHD(&#34;12&#34;,&#34;&lt;?xmlversion=1.0encoding=UTF-8standalone=no?&gt;,&lt;aiMessage&gt;,&lt;header&gt;,&lt;version&gt;1394-97&lt;/version&gt;,&lt;dateTime&gt;20250411100757&lt;/dateTime&gt;,&lt;instrumentName&gt;BTA-1Name&lt;/instrumentName&gt;,&lt;serialNumber&gt;COM10_1&lt;/serialNumber&gt;,&lt;/header&gt;,&lt;requestResult&gt;,&lt;patientInformation&gt;,&lt;patientIdentifier&gt;!oRPHaN!&lt;/patientIdentifier&gt;,&lt;patientVisitNumber&gt;!oRPHaN!&lt;/patientVisitNumber&gt;,&lt;sex&gt;U&lt;/sex&gt;,&lt;/patientInformation&gt;,&lt;testOrder&gt;,&lt;specimen&gt;,&lt;specimenIdentifier&gt;8000001309&lt;/specimenIdentifier&gt;,&lt;/specimen&gt;,&lt;isolateRelativeIdentifier&gt;14858&lt;/isolateRelativeIdentifier&gt;,&lt;test&gt;,&lt;universalIdentifier&gt;,&lt;testGroupCode&gt;BC&lt;/testGroupCode&gt;,&lt;testIdentifier&gt;BC_BA_NA&lt;/testIdentifier&gt;,&lt;/universalIdentifier&gt;,&lt;expectedDuration&gt;5&lt;/expectedDuration&gt;,&lt;instrumentSectionId&gt;1C8&lt;/instrumentSectionId&gt;,&lt;instrumentName&gt;BTA-1Name&lt;/instrumentName&gt;,&lt;instrumentType&gt;bta&lt;/instrumentType&gt;,&lt;instrumentSerialNumber&gt;COM10_1&lt;/instrumentSerialNumber&gt;,&lt;result&gt;,&lt;value&gt;,&lt;bloodCulture&gt;,&lt;dateResultDetermined&gt;20250411100644&lt;/dateResultDetermined&gt;,&lt;timeToDetectionInHours&gt;0.1&lt;/timeToDetectionInHours&gt;,&lt;result&gt;Neg&lt;/result&gt;,&lt;/bloodCulture&gt;,&lt;/value&gt;,&lt;resultStatus&gt;P&lt;/resultStatus&gt;,&lt;startDateTime&gt;20250411100228&lt;/startDateTime&gt;,&lt;bmxResultData&gt;,&lt;disposable&gt;,&lt;disposableIdentifier&gt;SPY1T2SN&lt;/disposableIdentifier&gt;,&lt;reference&gt;BPF&lt;/reference&gt;,&lt;disposableType&gt;BOTTLE&lt;/disposableType&gt;,&lt;disposableStartDateTime&gt;20250411100228&lt;/disposableStartDateTime&gt;,&lt;/disposable&gt;,&lt;/bmxResultData&gt;,&lt;/result&gt;,&lt;/test&gt;,&lt;/testOrder&gt;,&lt;/requestResult&gt;,&lt;/aiMessage&gt;,&#34;)</span>
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">j</span> <span class="c1">##class(MI.MIFMYLA).fileMTHD(&#34;12&#34;,&#34;&lt;?xmlversion=1.0encoding=UTF-8standalone=no?&gt;,&lt;aiMessage&gt;,&lt;header&gt;,&lt;version&gt;1394-97&lt;/version&gt;,&lt;dateTime&gt;20250416062222&lt;/dateTime&gt;,&lt;instrumentName&gt;VITEKMSACQ01&lt;/instrumentName&gt;,&lt;serialNumber&gt;51779&lt;/serialNumber&gt;,&lt;/header&gt;,&lt;requestResult&gt;,&lt;patientInformation&gt;,&lt;patientIdentifier&gt;!oRPHaN!&lt;/patientIdentifier&gt;,&lt;patientVisitNumber&gt;!oRPHaN!&lt;/patientVisitNumber&gt;,&lt;sex&gt;U&lt;/sex&gt;,&lt;/patientInformation&gt;,&lt;testOrder&gt;,&lt;specimen&gt;,&lt;specimenIdentifier&gt;P250415005&lt;/specimenIdentifier&gt;,&lt;/specimen&gt;,&lt;isolateNumber&gt;1&lt;/isolateNumber&gt;,&lt;test&gt;,&lt;universalIdentifier&gt;,&lt;testGroupCode&gt;ID&lt;/testGroupCode&gt;,&lt;testIdentifier&gt;MALDI-TOF&lt;/testIdentifier&gt;,&lt;testName&gt;MALDI-TOFtest&lt;/testName&gt;,&lt;/universalIdentifier&gt;,&lt;positionOnDisposable&gt;D1&lt;/positionOnDisposable&gt;,&lt;instrumentCharge&gt;19879&lt;/instrumentCharge&gt;,&lt;instrumentName&gt;VITEKMSACQ01&lt;/instrumentName&gt;,&lt;instrumentType&gt;MSID&lt;/instrumentType&gt;,&lt;instrumentSerialNumber&gt;51779&lt;/instrumentSerialNumber&gt;,&lt;result&gt;,&lt;value&gt;,&lt;identification&gt;,&lt;identificationConfidenceCode&gt;ID_GOOD&lt;/identificationConfidenceCode&gt;,&lt;identificationConfidence&gt;Goodidentification&lt;/identificationConfidence&gt;,&lt;probability&gt;99.9&lt;/probability&gt;,&lt;significantTaxon&gt;,&lt;code&gt;PPH&lt;/code&gt;,&lt;name&gt;Stenotrophomonasmaltophilia&lt;/name&gt;,&lt;/significantTaxon&gt;,&lt;/identification&gt;,&lt;/value&gt;,&lt;resultStatus&gt;F&lt;/resultStatus&gt;,&lt;resultDateTime&gt;20250416053108&lt;/resultDateTime&gt;,&lt;bmxResultData&gt;,&lt;disposable&gt;,&lt;disposableIdentifier&gt;3319&lt;/disposableIdentifier&gt;,&lt;reference&gt;20250416&lt;/reference&gt;,&lt;disposableType&gt;AXIMA_SLIDE_REF&lt;/disposableType&gt;,&lt;disposableSetupTechnologist&gt;wsw&lt;/disposableSetupTechnologist&gt;,&lt;/disposable&gt;,&lt;disposable&gt;,&lt;disposableIdentifier&gt;1_1&lt;/disposableIdentifier&gt;,&lt;reference&gt;VITEKMS-CHCA&lt;/reference&gt;,&lt;disposableType&gt;MATRIX&lt;/disposableType&gt;,&lt;lotNumber&gt;1&lt;/lotNumber&gt;,&lt;disposableFinalDateTime&gt;20250416044340&lt;/disposableFinalDateTime&gt;,&lt;disposableSetupTechnologist&gt;WSW&lt;/disposableSetupTechnologist&gt;,&lt;/disposable&gt;,&lt;extraResultData&gt;3544&lt;/extraResultData&gt;,&lt;/bmxResultData&gt;,&lt;/result&gt;,&lt;/test&gt;,&lt;/testOrder&gt;,&lt;/requestResult&gt;,&lt;/aiMessage&gt;,&#34;)</span>
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">w</span> <span class="c1">##class(MI.MIFMYLA).fileMTHD(&#34;12&#34;,&#34;&lt;?xmlversion=1.0encoding=UTF-8standalone=no?&gt;,&lt;aiMessage&gt;,&lt;header&gt;,&lt;version&gt;1394-97&lt;/version&gt;,&lt;dateTime&gt;20250418051917&lt;/dateTime&gt;,&lt;instrumentName&gt;VITEKMSACQ01&lt;/instrumentName&gt;,&lt;serialNumber&gt;51779&lt;/serialNumber&gt;,&lt;/header&gt;,&lt;requestResult&gt;,&lt;patientInformation&gt;,&lt;patientIdentifier&gt;!oRPHaN!&lt;/patientIdentifier&gt;,&lt;patientVisitNumber&gt;!oRPHaN!&lt;/patientVisitNumber&gt;,&lt;sex&gt;U&lt;/sex&gt;,&lt;/patientInformation&gt;,&lt;testOrder&gt;,&lt;specimen&gt;,&lt;specimenIdentifier&gt;P250417021&lt;/specimenIdentifier&gt;,&lt;/specimen&gt;,&lt;isolateNumber&gt;1&lt;/isolateNumber&gt;,&lt;test&gt;,&lt;universalIdentifier&gt;,&lt;testGroupCode&gt;ID&lt;/testGroupCode&gt;,&lt;testIdentifier&gt;MALDI-TOF&lt;/testIdentifier&gt;,&lt;testName&gt;MALDI-TOFtest&lt;/testName&gt;,&lt;/universalIdentifier&gt;,&lt;positionOnDisposable&gt;K4&lt;/positionOnDisposable&gt;,&lt;instrumentCharge&gt;19948&lt;/instrumentCharge&gt;,&lt;instrumentName&gt;VITEKMSACQ01&lt;/instrumentName&gt;,&lt;instrumentType&gt;MSID&lt;/instrumentType&gt;,&lt;instrumentSerialNumber&gt;51779&lt;/instrumentSerialNumber&gt;,&lt;result&gt;,&lt;value&gt;,&lt;identification&gt;,&lt;identificationConfidenceCode&gt;ID_GOOD&lt;/identificationConfidenceCode&gt;,&lt;identificationConfidence&gt;Goodidentification&lt;/identificationConfidence&gt;,&lt;probability&gt;99.9&lt;/probability&gt;,&lt;significantTaxon&gt;,&lt;code&gt;ERM&lt;/code&gt;,&lt;name&gt;Serratiamarcescens&lt;/name&gt;,&lt;/significantTaxon&gt;,&lt;/identification&gt;,&lt;/value&gt;,&lt;resultStatus&gt;F&lt;/resultStatus&gt;,&lt;resultDateTime&gt;20250418051909&lt;/resultDateTime&gt;,&lt;bmxResultData&gt;,&lt;disposable&gt;,&lt;disposableIdentifier&gt;3323&lt;/disposableIdentifier&gt;,&lt;reference&gt;20250418&lt;/reference&gt;,&lt;disposableType&gt;AXIMA_SLIDE_REF&lt;/disposableType&gt;,&lt;disposableSetupTechnologist&gt;wsw&lt;/disposableSetupTechnologist&gt;,&lt;/disposable&gt;,&lt;disposable&gt;,&lt;disposableIdentifier&gt;1_1&lt;/disposableIdentifier&gt;,&lt;reference&gt;VITEKMS-CHCA&lt;/reference&gt;,&lt;disposableType&gt;MATRIX&lt;/disposableType&gt;,&lt;lotNumber&gt;1&lt;/lotNumber&gt;,&lt;disposableFinalDateTime&gt;20250418042259&lt;/disposableFinalDateTime&gt;,&lt;disposableSetupTechnologist&gt;WSW&lt;/disposableSetupTechnologist&gt;,&lt;/disposable&gt;,&lt;extraResultData&gt;3547&lt;/extraResultData&gt;,&lt;/bmxResultData&gt;,&lt;/result&gt;,&lt;/test&gt;,&lt;/testOrder&gt;,&lt;/requestResult&gt;,&lt;/aiMessage&gt;,&#34;)</span>
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">w</span> <span class="c1">##class(MI.MIFMYLA).fileMTHD(&#34;12&#34;,&#34;&lt;?xmlversion=1.0encoding=UTF-8standalone=no?&gt;,&lt;aiMessage&gt;,&lt;header&gt;,&lt;version&gt;1394-97&lt;/version&gt;,&lt;dateTime&gt;20250420051228&lt;/dateTime&gt;,&lt;instrumentName&gt;VITEKMSACQ01&lt;/instrumentName&gt;,&lt;serialNumber&gt;51779&lt;/serialNumber&gt;,&lt;/header&gt;,&lt;requestResult&gt;,&lt;patientInformation&gt;,&lt;patientIdentifier&gt;!oRPHaN!&lt;/patientIdentifier&gt;,&lt;patientVisitNumber&gt;!oRPHaN!&lt;/patientVisitNumber&gt;,&lt;sex&gt;U&lt;/sex&gt;,&lt;/patientInformation&gt;,&lt;testOrder&gt;,&lt;specimen&gt;,&lt;specimenIdentifier&gt;P250418019&lt;/specimenIdentifier&gt;,&lt;/specimen&gt;,&lt;isolateNumber&gt;1&lt;/isolateNumber&gt;,&lt;test&gt;,&lt;universalIdentifier&gt;,&lt;testGroupCode&gt;ID&lt;/testGroupCode&gt;,&lt;testIdentifier&gt;MALDI-TOF&lt;/testIdentifier&gt;,&lt;testName&gt;MALDI-TOFtest&lt;/testName&gt;,&lt;/universalIdentifier&gt;,&lt;positionOnDisposable&gt;L3&lt;/positionOnDisposable&gt;,&lt;instrumentCharge&gt;19986&lt;/instrumentCharge&gt;,&lt;instrumentName&gt;VITEKMSACQ01&lt;/instrumentName&gt;,&lt;instrumentType&gt;MSID&lt;/instrumentType&gt;,&lt;instrumentSerialNumber&gt;51779&lt;/instrumentSerialNumber&gt;,&lt;result&gt;,&lt;value&gt;,&lt;identification&gt;,&lt;identificationConfidenceCode&gt;ID_LOW_DISCRIM&lt;/identificationConfidenceCode&gt;,&lt;identificationConfidence&gt;Lowdiscrimination&lt;/identificationConfidence&gt;,&lt;/identification&gt;,&lt;/value&gt;,&lt;resultStatus&gt;F&lt;/resultStatus&gt;,&lt;resultDateTime&gt;20250420051220&lt;/resultDateTime&gt;,&lt;bmxResultData&gt;,&lt;disposable&gt;,&lt;disposableIdentifier&gt;3325&lt;/disposableIdentifier&gt;,&lt;reference&gt;20250420&lt;/reference&gt;,&lt;disposableType&gt;AXIMA_SLIDE_REF&lt;/disposableType&gt;,&lt;disposableSetupTechnologist&gt;wsw&lt;/disposableSetupTechnologist&gt;,&lt;/disposable&gt;,&lt;disposable&gt;,&lt;disposableIdentifier&gt;1_1&lt;/disposableIdentifier&gt;,&lt;reference&gt;VITEKMS-CHCA&lt;/reference&gt;,&lt;disposableType&gt;MATRIX&lt;/disposableType&gt;,&lt;lotNumber&gt;1&lt;/lotNumber&gt;,&lt;disposableFinalDateTime&gt;20250420041742&lt;/disposableFinalDateTime&gt;,&lt;disposableSetupTechnologist&gt;WSW&lt;/disposableSetupTechnologist&gt;,&lt;/disposable&gt;,&lt;extraResultData&gt;3549&lt;/extraResultData&gt;,&lt;/bmxResultData&gt;,&lt;/result&gt;,&lt;/test&gt;,&lt;/testOrder&gt;,&lt;/requestResult&gt;,&lt;/aiMessage&gt;,&#34;)</span>
</span></span><span class="line"><span class="cl"><span class="n">ClassMethod</span> <span class="n">fileMTHD</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span> <span class="n">record</span><span class="p">,</span> <span class="n">epis</span><span class="p">,</span> <span class="n">P3</span><span class="p">,</span> <span class="n">P4</span><span class="p">,</span> <span class="n">P5</span><span class="p">,</span> <span class="n">P6</span><span class="p">,</span> <span class="n">P7</span><span class="p">,</span> <span class="n">P8</span><span class="p">,</span> <span class="n">P9</span><span class="p">,</span> <span class="n">P10</span><span class="p">,</span> <span class="n">P11</span><span class="p">,</span> <span class="n">P12</span><span class="p">,</span> <span class="n">P13</span><span class="p">,</span> <span class="n">Sessions</span><span class="p">,</span> <span class="n">Output</span> <span class="n">RowCount</span> <span class="n">As</span> <span class="o">%</span><span class="ne">String</span><span class="p">)</span> <span class="n">As</span> <span class="o">%</span><span class="ne">String</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="n">s</span> <span class="n">mi</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">mi</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">s</span> <span class="n">epis</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">epis</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">i</span> <span class="s1">&#39;$d(^dbo.BTMIMachineParameterD(mi)) q</span>
</span></span><span class="line"><span class="cl">  <span class="n">i</span> <span class="s1">&#39;$l(record) q</span>
</span></span><span class="line"><span class="cl">  <span class="n">s</span> <span class="p">(</span><span class="n">epis</span><span class="p">,</span><span class="n">code</span><span class="p">,</span><span class="n">res</span><span class="p">,</span><span class="n">result</span><span class="p">,</span><span class="n">date</span><span class="p">,</span><span class="n">time</span><span class="p">,</span><span class="n">QC</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="n">s</span> <span class="p">(</span><span class="n">type</span><span class="p">,</span><span class="n">AntFlag</span><span class="p">,</span><span class="n">Ant</span><span class="p">,</span><span class="n">AntM</span><span class="p">,</span><span class="n">AntR</span><span class="p">,</span><span class="n">Bacteria</span><span class="p">,</span><span class="n">episF</span><span class="p">,</span><span class="n">recorda</span><span class="p">,</span><span class="n">recordb</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="n">s</span> <span class="p">(</span><span class="n">xBug</span><span class="p">,</span><span class="n">xBugs</span><span class="p">,</span><span class="n">AntLIST</span><span class="p">,</span><span class="n">xANT</span><span class="p">,</span><span class="n">xRES</span><span class="p">,</span><span class="n">xMIC</span><span class="p">,</span><span class="n">xMM</span><span class="p">,</span><span class="n">AntGroup</span><span class="p">,</span><span class="n">xMICF</span><span class="p">,</span><span class="n">fresult</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="n">s</span> <span class="p">(</span><span class="n">fresult</span><span class="p">,</span><span class="n">date</span><span class="p">,</span><span class="n">time</span><span class="p">,</span><span class="n">QC</span><span class="p">,</span><span class="n">AntLIST</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="n">s</span> <span class="n">type</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="s2">&#34;|&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">s</span> <span class="n">record</span><span class="o">=$</span><span class="n">TR</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="s2">&#34; &#34;&#34;&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">s</span> <span class="n">record</span><span class="o">=$</span><span class="n">replace</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="s2">&#34;[13][10]&#34;</span><span class="p">,</span><span class="s2">&#34;,&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">record</span><span class="p">,</span><span class="s2">&#34;H&lt;--M&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">s</span> <span class="n">MachType</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="s2">&#34;&lt;testGroupCode&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;&lt;/testGroupCode&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>   <span class="o">//</span><span class="n">BC</span> <span class="n">SU</span>
</span></span><span class="line"><span class="cl">  <span class="n">s</span> <span class="n">epis</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="s2">&#34;&lt;specimenIdentifier&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;&lt;/specimenIdentifier&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">i</span> <span class="n">MachType</span><span class="p">[</span><span class="s2">&#34;ID&#34;</span> <span class="n">d</span>		  <span class="o">//</span><span class="err">è´¨è°±ç»“æœ</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">s</span> <span class="p">(</span><span class="n">xbug</span><span class="p">,</span><span class="n">isolateNumber</span><span class="p">,</span><span class="n">ret</span><span class="p">,</span><span class="n">Bugsresult</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">s</span> <span class="n">code</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="s2">&#34;&lt;isolateNumber&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;&lt;/isolateNumber&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">i</span> <span class="n">record</span><span class="p">[</span><span class="s2">&#34;&lt;significantTaxon&gt;&#34;</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="nb">str</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="s2">&#34;&lt;significantTaxon&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">xbug</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="nb">str</span><span class="p">,</span><span class="s2">&#34;&lt;code&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;&lt;/code&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">i</span> <span class="n">record</span><span class="p">[</span><span class="s2">&#34;&lt;probability&gt;&#34;</span> <span class="n">d</span> 
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">percent</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="s2">&#34;&lt;probability&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;&lt;/probability&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">i</span> <span class="n">record</span><span class="p">[</span><span class="s2">&#34;&lt;isolateNumber&gt;&#34;</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">isolateNumber</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="s2">&#34;&lt;isolateNumber&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;&lt;/isolateNumber&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="p">;</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">xbug</span><span class="p">),</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">percent</span><span class="p">)</span> <span class="n">s</span> <span class="n">res</span><span class="o">=</span><span class="s2">&#34;è´¨è°±ç»“æœ:&#34;</span><span class="n">_xbug_</span><span class="s2">&#34; &#34;</span><span class="n">_percent</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="p">;</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">res</span><span class="p">)</span> <span class="n">s</span> <span class="n">result</span><span class="o">=</span><span class="s2">&#34;ZPJG&#34;</span><span class="n">_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">92</span><span class="p">)</span><span class="n">_res_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">44</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">xbug</span><span class="p">),</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">code</span><span class="p">)</span> <span class="n">s</span> <span class="n">Bugsresult</span><span class="o">=</span><span class="n">xbug_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">92</span><span class="p">)</span><span class="n">_</span><span class="s2">&#34;&#34;</span><span class="n">_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">92</span><span class="p">)</span><span class="n">_code_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">44</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="p">;</span><span class="n">s</span> <span class="n">epis</span><span class="o">=</span><span class="c1">##class(MI.Special.LabnoAndEpis).EpisToLabno(mi,epis)		//è½¬æ¢æµæ°´å·</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">s</span> <span class="n">ret</span><span class="o">=</span><span class="c1">##class(MI.Special.MakeMidReportNode).GetIDPResultDR(mi,epis,xbug,isolateNumber)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.//</span> <span class="n">mi</span><span class="p">,</span><span class="n">epis</span><span class="p">,</span><span class="n">xbug</span><span class="p">,</span><span class="n">isolateNumber</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">mi_</span><span class="s2">&#34;$$&#34;</span><span class="n">_epis_</span><span class="s2">&#34;$$&#34;</span><span class="n">_xbug_</span><span class="s2">&#34;$$&#34;</span><span class="n">_isolateNumber_</span><span class="s2">&#34;$$&#34;</span><span class="n">_ret</span><span class="p">,</span><span class="s2">&#34;ä¿å­˜è´¨è°±ç»“æœ&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="p">;</span><span class="n">d</span> <span class="n">SaveAnt</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">epis</span><span class="p">,</span><span class="n">Bugsresult</span><span class="p">,</span><span class="n">date</span><span class="p">,</span><span class="n">time</span><span class="p">,</span><span class="n">QC</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">epis_</span><span class="s2">&#34;$$&#34;</span><span class="n">_Bugsresult</span><span class="p">,</span><span class="s2">&#34;Bugsresult&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">d</span> <span class="n">Save</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span> <span class="n">epis</span><span class="p">,</span> <span class="n">Bugsresult</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">QC</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="p">;</span><span class="n">d</span> <span class="n">Save</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span> <span class="n">epis</span><span class="p">,</span> <span class="n">result</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">QC</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="n">i</span> <span class="n">MachType</span><span class="p">[</span><span class="s2">&#34;BC&#34;</span> <span class="n">d</span>		<span class="o">//</span><span class="err">è¡€åŸ¹å…»æ•°æ®</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">f</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="o">$</span><span class="n">L</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="s2">&#34;&lt;test&gt;&#34;</span><span class="p">)</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">b</span> <span class="p">;</span><span class="n">x</span> <span class="mi">201</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">record1</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="s2">&#34;&lt;test&gt;&#34;</span><span class="p">,</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">),</span><span class="s2">&#34;&lt;/test&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">record1</span><span class="p">,</span><span class="s2">&#34;record1&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">recordb</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="n">record1</span><span class="p">,</span><span class="s2">&#34;&lt;bloodCulture&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;&lt;/bloodCulture&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>  
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">Statusres</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="n">record1</span><span class="p">,</span><span class="s2">&#34;&lt;resultStatus&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;&lt;/resultStatus&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">timeCode</span><span class="o">=</span><span class="s2">&#34;Hours&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">YYXCode</span><span class="o">=</span><span class="s2">&#34;result&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">StatusCode</span><span class="o">=</span><span class="s2">&#34;Status&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">timeRes</span><span class="o">=</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="n">YYXRes</span><span class="o">=</span><span class="s2">&#34;&#34;</span><span class="p">,</span><span class="n">StatusRes</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">f</span> <span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="o">$</span><span class="n">L</span><span class="p">(</span><span class="n">recordb</span><span class="p">,</span><span class="s2">&#34;,&#34;</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">  <span class="o">...</span><span class="n">s</span> <span class="n">recordc</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="n">recordb</span><span class="p">,</span><span class="s2">&#34;,&#34;</span><span class="p">,</span><span class="n">j</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">...</span><span class="p">;</span><span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">recordc</span><span class="p">,</span><span class="s2">&#34;H&lt;--M&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">...</span><span class="n">i</span> <span class="n">recordc</span><span class="p">[</span><span class="s2">&#34;&lt;timeToDetectionInHours&gt;&#34;</span> <span class="n">d</span>  <span class="o">//</span><span class="err">è¡€åŸ¹å…»æ—¶é—´</span>
</span></span><span class="line"><span class="cl">  <span class="o">....</span><span class="n">s</span> <span class="n">timeRes</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="n">recordc</span><span class="p">,</span><span class="s2">&#34;&lt;timeToDetectionInHours&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;&lt;/timeToDetectionInHours&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">...</span><span class="n">i</span> <span class="n">recordc</span><span class="p">[</span><span class="s2">&#34;&lt;result&gt;&#34;</span> <span class="n">d</span>  
</span></span><span class="line"><span class="cl">  <span class="o">....</span><span class="n">s</span> <span class="n">YYXRes</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="n">recordc</span><span class="p">,</span><span class="s2">&#34;&lt;result&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;&lt;/result&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">....</span><span class="n">i</span> <span class="o">$</span><span class="n">L</span><span class="p">(</span><span class="n">res</span><span class="p">)</span> <span class="n">s</span> <span class="n">result</span><span class="o">=</span><span class="n">result_code_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">92</span><span class="p">)</span><span class="n">_res_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">44</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">...</span><span class="n">i</span> <span class="o">$</span><span class="n">L</span><span class="p">(</span><span class="n">Statusres</span><span class="p">)</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">  <span class="o">....</span><span class="n">s</span> <span class="n">StatusRes</span><span class="o">=</span><span class="n">Statusres</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">i</span> <span class="o">$</span><span class="n">L</span><span class="p">(</span><span class="n">timeRes</span><span class="p">)</span> <span class="n">S</span> <span class="n">timeRes</span><span class="o">=</span><span class="n">timeRes_</span><span class="s2">&#34;å°æ—¶&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">i</span> <span class="n">YYXRes</span><span class="o">=</span><span class="s2">&#34;Unk&#34;</span> <span class="n">s</span> <span class="n">YYXRes</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">i</span> <span class="n">YYXRes</span><span class="o">=</span><span class="s2">&#34;Pos&#34;</span> <span class="n">s</span> <span class="n">YYXRes</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">i</span> <span class="n">YYXRes</span><span class="o">=</span><span class="s2">&#34;Neg&#34;</span> <span class="n">s</span> <span class="n">YYXRes</span><span class="o">=</span><span class="s2">&#34;åŸ¹å…»5å¤©æ— ç»†èŒç”Ÿé•¿&#34;</span><span class="p">,</span><span class="n">timeRes</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">result</span><span class="o">=</span><span class="n">result_timeCode_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">92</span><span class="p">)</span><span class="n">_timeRes_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">44</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">result</span><span class="o">=</span><span class="n">result_YYXCode_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">92</span><span class="p">)</span><span class="n">_YYXRes_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">44</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">result</span><span class="o">=</span><span class="n">result_StatusCode_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">92</span><span class="p">)</span><span class="n">_StatusRes_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">44</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">b</span> <span class="p">;</span><span class="n">x102</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">epis_</span><span class="s2">&#34;$$&#34;</span><span class="n">_result</span><span class="p">,</span><span class="s2">&#34;result&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">d</span> <span class="n">Save</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span> <span class="n">epis</span><span class="p">,</span> <span class="n">result</span><span class="p">,</span> <span class="n">date</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">QC</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  
</span></span><span class="line"><span class="cl">  <span class="n">i</span> <span class="n">MachType</span><span class="p">[</span><span class="s2">&#34;SU&#34;</span> <span class="n">d</span>		<span class="o">//</span><span class="err">è¯æ•ç»“æœ</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">s</span> <span class="n">code</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="s2">&#34;&lt;isolateNumber&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;&lt;/isolateNumber&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">s</span> <span class="n">xBug</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="s2">&#34;&lt;identification&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;&lt;/identification&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">s</span> <span class="n">xBugs</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="n">xBug</span><span class="p">,</span><span class="s2">&#34;&lt;code&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;&lt;/code&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">s</span> <span class="n">antStr1</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="n">record</span><span class="p">,</span><span class="s2">&#34;&lt;ast&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">s</span> <span class="n">antStr1</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="n">antStr1</span><span class="p">,</span><span class="s2">&#34;&lt;/ast&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">s</span> <span class="n">antStr</span><span class="o">=$</span><span class="n">e</span><span class="p">(</span><span class="n">antStr1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="o">$</span><span class="n">L</span><span class="p">(</span><span class="n">antStr1</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">antStr</span><span class="p">,</span><span class="s2">&#34;è¯æ•ç»“æœ&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">s</span> <span class="n">Flag2</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="n">antStr</span><span class="p">,</span><span class="s2">&#34;&lt;code&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;&lt;/code&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">f</span> <span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="o">$</span><span class="n">L</span><span class="p">(</span><span class="n">antStr</span><span class="p">,</span><span class="s2">&#34;&lt;antibiotic&gt;&#34;</span><span class="p">)</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">AntGroup</span><span class="o">=</span><span class="s2">&#34;&#34;</span>  <span class="o">//</span><span class="err">æŠ—ç”Ÿç´ åˆ†ç»„</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">xMICF</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">antStr2</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="n">antStr</span><span class="p">,</span><span class="s2">&#34;&lt;antibiotic&gt;&#34;</span><span class="p">,</span><span class="n">j</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">xANT</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="n">antStr2</span><span class="p">,</span><span class="s2">&#34;&lt;code&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;&lt;/code&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">//</span><span class="err">æŠ—ç”Ÿç´ </span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">i</span> <span class="n">antStr2</span><span class="p">[</span><span class="s2">&#34;&lt;micSign&gt;&#34;</span> <span class="n">s</span> <span class="n">xMICF</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="n">antStr2</span><span class="p">,</span><span class="s2">&#34;&lt;micSign&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;&lt;/micSign&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">xMICF</span><span class="o">=$$</span><span class="n">GetSign</span><span class="p">(</span><span class="n">xMICF</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">xMIC</span><span class="o">=</span><span class="n">xMICF_</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="n">antStr2</span><span class="p">,</span><span class="s2">&#34;&lt;micValue&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;&lt;/micValue&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>    <span class="o">//</span><span class="n">MIC</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">xRES</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="n">antStr2</span><span class="p">,</span><span class="s2">&#34;&lt;category&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;&lt;/category&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">//</span><span class="err">è€è¯</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">xMM</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">i</span> <span class="o">$</span><span class="n">L</span><span class="p">(</span><span class="n">xANT</span><span class="p">)</span> <span class="n">s</span> <span class="n">AntLIST</span><span class="o">=</span><span class="n">AntLIST_xANT_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">93</span><span class="p">)</span><span class="n">_xRES_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">93</span><span class="p">)</span><span class="n">_xMIC_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">93</span><span class="p">)</span><span class="n">_xMM_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">93</span><span class="p">)</span><span class="n">_AntGroup_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">91</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">xBugs</span><span class="p">),</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">epis</span><span class="p">),</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">AntLIST</span><span class="p">)</span> <span class="n">d</span> 
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">s</span> <span class="n">fresult</span><span class="o">=</span><span class="n">xBugs_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">92</span><span class="p">)</span><span class="n">_AntLIST_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">92</span><span class="p">)</span><span class="n">_code_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">44</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">..</span><span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">fresult</span><span class="p">,</span><span class="s2">&#34;fresult&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">s</span> <span class="n">AntResult</span><span class="o">=</span><span class="n">code_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">92</span><span class="p">)</span><span class="n">_xBugs_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">44</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">epis_</span><span class="s2">&#34;$$&#34;</span><span class="n">_AntResult</span><span class="p">,</span><span class="s2">&#34;AntResult&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">d</span> <span class="n">Save</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">epis</span><span class="p">,</span><span class="n">AntResult</span><span class="p">,</span><span class="n">date</span><span class="p">,</span><span class="n">time</span><span class="p">,</span><span class="n">QC</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">d</span> <span class="n">SaveAnt</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">epis</span><span class="p">,</span><span class="n">fresult</span><span class="p">,</span><span class="n">date</span><span class="p">,</span><span class="n">time</span><span class="p">,</span><span class="n">QC</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="n">q</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="n">GetSign</span><span class="p">(</span><span class="nb">sign</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="n">i</span> <span class="nb">sign</span><span class="p">[</span><span class="s2">&#34;&amp;gt;&#34;</span> <span class="n">s</span> <span class="nb">sign</span><span class="o">=$</span><span class="n">Replace</span><span class="p">(</span><span class="nb">sign</span><span class="p">,</span><span class="s2">&#34;&amp;gt;&#34;</span><span class="p">,</span><span class="s2">&#34;&gt;&#34;</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl"> <span class="n">i</span> <span class="nb">sign</span><span class="p">[</span><span class="s2">&#34;&amp;lt;&#34;</span> <span class="n">s</span> <span class="nb">sign</span><span class="o">=$</span><span class="n">Replace</span><span class="p">(</span><span class="nb">sign</span><span class="p">,</span><span class="s2">&#34;&amp;lt;&#34;</span><span class="p">,</span><span class="s2">&#34;&lt;&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="n">q</span> <span class="nb">sign</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">w</span> <span class="c1">##class(MI.MIFBACK3D).GetEpis(&#34;72&#34;,2)</span>
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">w</span> <span class="c1">##class(MI.MIFMYLA).GetEpis(20,240720005)</span>
</span></span><span class="line"><span class="cl"><span class="n">ClassMethod</span> <span class="n">GetEpis</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span> <span class="n">epis</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="o">//</span><span class="n">Index</span> <span class="n">IndexMicNo</span> <span class="n">On</span> <span class="p">(</span><span class="n">WorkGroupMachineDR</span><span class="p">,</span> <span class="n">EpisodeNo</span><span class="p">,</span> <span class="n">TransmitDate</span><span class="p">)</span> <span class="p">[</span> <span class="n">SqlName</span> <span class="o">=</span> <span class="n">Index_MicNo</span><span class="p">,</span> <span class="n">Type</span> <span class="o">=</span> <span class="n">index</span> <span class="p">];</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">AssayNo</span><span class="o">=</span><span class="n">epis</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">WGMachineID</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineParameterD</span><span class="p">(</span><span class="n">mi</span><span class="p">),</span><span class="mi">6</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">WGMachineID1</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineParameterD</span><span class="p">(</span><span class="n">mi</span><span class="p">),</span><span class="mi">6</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="o">$</span><span class="n">D</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberReportI</span><span class="p">(</span><span class="s2">&#34;IndexMicNo&#34;</span><span class="p">,</span><span class="n">WGMachineID</span><span class="p">,</span><span class="n">epis</span><span class="p">))</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">TransmitDate</span><span class="o">=$</span><span class="n">O</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberReportI</span><span class="p">(</span><span class="s2">&#34;IndexMicNo&#34;</span><span class="p">,</span><span class="n">WGMachineID</span><span class="p">,</span><span class="n">epis</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">ReportID</span><span class="o">=$</span><span class="n">O</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberReportI</span><span class="p">(</span><span class="s2">&#34;IndexMicNo&#34;</span><span class="p">,</span><span class="n">WGMachineID</span><span class="p">,</span><span class="n">epis</span><span class="p">,</span><span class="n">TransmitDate</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">ReportData</span><span class="o">=$</span><span class="n">G</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberReportD</span><span class="p">(</span><span class="n">ReportID</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">AssayNo</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">ReportData</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>	
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="s1">&#39;$D(^dbo.RPVisitNumberReportI(&#34;IndexMicNo&#34;,WGMachineID,epis)) d</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="s1">&#39;$d(^dbo.RPVisitNumberReportI(&#34;IndexMicNo&#34;,WGMachineID1,epis)) q</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="o">$</span><span class="n">d</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberReportI</span><span class="p">(</span><span class="s2">&#34;IndexMicNo&#34;</span><span class="p">,</span><span class="n">WGMachineID1</span><span class="p">,</span><span class="n">epis</span><span class="p">))</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">TransmitDate1</span><span class="o">=$</span><span class="n">O</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberReportI</span><span class="p">(</span><span class="s2">&#34;IndexMicNo&#34;</span><span class="p">,</span><span class="n">WGMachineID1</span><span class="p">,</span><span class="n">epis</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">ReportID1</span><span class="o">=$</span><span class="n">O</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberReportI</span><span class="p">(</span><span class="s2">&#34;IndexMicNo&#34;</span><span class="p">,</span><span class="n">WGMachineID</span><span class="p">,</span><span class="n">epis</span><span class="p">,</span><span class="n">TransmitDate1</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">ReportData1</span><span class="o">=$</span><span class="n">G</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberReportD</span><span class="p">(</span><span class="n">ReportID1</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">AssayNo</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">ReportData1</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">		
</span></span><span class="line"><span class="cl">	<span class="n">q</span> <span class="n">AssayNo</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="o">/</span><span class="n">w</span> <span class="c1">##class(MI.MIFBACK3D).Test(&#34;&lt;antibiotic&gt;,&lt;code&gt;ESB&lt;/code&gt;,&lt;name&gt;ESBL&lt;/name&gt;,&lt;highMic&gt;,&lt;micValue&gt;Neg&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;Neg&lt;/category&gt;,&lt;nonExpertCategory&gt;Neg&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;AM&lt;/code&gt;,&lt;name&gt;Ampicillin&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;gt;=&lt;/micSign&gt;,&lt;micValue&gt;32.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;R&lt;/category&gt;,&lt;nonExpertCategory&gt;R&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;AMC&lt;/code&gt;,&lt;name&gt;Amoxicillin/ClavulanicAcid&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;gt;=&lt;/micSign&gt;,&lt;micValue&gt;32.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;R&lt;/category&gt;,&lt;nonExpertCategory&gt;R&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;TZP&lt;/code&gt;,&lt;name&gt;Piperacillin/Tazobactam&lt;/name&gt;,&lt;highMic&gt;,&lt;micValue&gt;16.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;CZ06&lt;/code&gt;,&lt;name&gt;Cefazolin(Urine)&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;lt;=&lt;/micSign&gt;,&lt;micValue&gt;4.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;CZ03&lt;/code&gt;,&lt;name&gt;Cefazolin(NonUrine)&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;lt;=&lt;/micSign&gt;,&lt;micValue&gt;4.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;FOX&lt;/code&gt;,&lt;name&gt;Cefoxitin&lt;/name&gt;,&lt;highMic&gt;,&lt;micValue&gt;8.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;CRO&lt;/code&gt;,&lt;name&gt;Ceftriaxone&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;lt;=&lt;/micSign&gt;,&lt;micValue&gt;1.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;FEP&lt;/code&gt;,&lt;name&gt;Cefepime&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;lt;=&lt;/micSign&gt;,&lt;micValue&gt;1.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;ATM&lt;/code&gt;,&lt;name&gt;Aztreonam&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;lt;=&lt;/micSign&gt;,&lt;micValue&gt;1.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;ETP&lt;/code&gt;,&lt;name&gt;Ertapenem&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;lt;=&lt;/micSign&gt;,&lt;micValue&gt;0.5&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;IPM&lt;/code&gt;,&lt;name&gt;Imipenem&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;lt;=&lt;/micSign&gt;,&lt;micValue&gt;1.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;AN&lt;/code&gt;,&lt;name&gt;Amikacin&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;lt;=&lt;/micSign&gt;,&lt;micValue&gt;2.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;GM&lt;/code&gt;,&lt;name&gt;Gentamicin&lt;/name&gt;,&lt;highMic&gt;,&lt;micValue&gt;8.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;I&lt;/category&gt;,&lt;nonExpertCategory&gt;I&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;TM&lt;/code&gt;,&lt;name&gt;Tobramycin&lt;/name&gt;,&lt;highMic&gt;,&lt;micValue&gt;8.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;I&lt;/category&gt;,&lt;nonExpertCategory&gt;I&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;CIP&lt;/code&gt;,&lt;name&gt;Ciprofloxacin&lt;/name&gt;,&lt;highMic&gt;,&lt;micValue&gt;1.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;R&lt;/category&gt;,&lt;nonExpertCategory&gt;R&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;LEV&lt;/code&gt;,&lt;name&gt;Levofloxacin&lt;/name&gt;,&lt;highMic&gt;,&lt;micValue&gt;1.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;I&lt;/category&gt;,&lt;nonExpertCategory&gt;I&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;TGC&lt;/code&gt;,&lt;name&gt;Tigecycline&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;lt;=&lt;/micSign&gt;,&lt;micValue&gt;0.5&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;FT&lt;/code&gt;,&lt;name&gt;Nitrofurantoin&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;lt;=&lt;/micSign&gt;,&lt;micValue&gt;16.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;S&lt;/category&gt;,&lt;nonExpertCategory&gt;S&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;,&lt;antibiotic&gt;,&lt;code&gt;SXT&lt;/code&gt;,&lt;name&gt;Trimethoprim/Sulfamethoxazole&lt;/name&gt;,&lt;highMic&gt;,&lt;micSign&gt;&amp;gt;=&lt;/micSign&gt;,&lt;micValue&gt;320.0&lt;/micValue&gt;,&lt;/highMic&gt;,&lt;category&gt;R&lt;/category&gt;,&lt;nonExpertCategory&gt;R&lt;/nonExpertCategory&gt;,&lt;/antibiotic&gt;&#34;)</span>
</span></span><span class="line"><span class="cl"><span class="n">ClassMethod</span> <span class="n">Test</span><span class="p">(</span><span class="n">antStr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="n">s</span> <span class="n">antStr</span><span class="o">=$</span><span class="n">G</span><span class="p">(</span><span class="n">antStr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="n">f</span> <span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="o">$</span><span class="n">L</span><span class="p">(</span><span class="n">antStr</span><span class="p">,</span><span class="s2">&#34;&lt;antibiotic&gt;&#34;</span><span class="p">)</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">s</span> <span class="n">AntGroup</span><span class="o">=</span><span class="s2">&#34;&#34;</span>  <span class="o">//</span><span class="err">æŠ—ç”Ÿç´ åˆ†ç»„</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">s</span> <span class="n">antStr2</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="n">antStr</span><span class="p">,</span><span class="s2">&#34;&lt;antibiotic&gt;&#34;</span><span class="p">,</span><span class="n">j</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">s</span> <span class="n">xANT</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="n">antStr2</span><span class="p">,</span><span class="s2">&#34;&lt;code&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;&lt;/code&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">//</span><span class="err">æŠ—ç”Ÿç´ </span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">s</span> <span class="n">xMICF</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">i</span> <span class="n">antStr2</span><span class="p">[</span><span class="s2">&#34;&lt;micSign&gt;&#34;</span> <span class="n">s</span> <span class="n">xMICF</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="n">antStr2</span><span class="p">,</span><span class="s2">&#34;&lt;micSign&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;&lt;/micSign&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">s</span> <span class="n">xMICF</span><span class="o">=$$</span><span class="n">GetSign</span><span class="p">(</span><span class="n">xMICF</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">s</span> <span class="n">xMIC</span><span class="o">=</span><span class="n">xMICF_</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="n">antStr2</span><span class="p">,</span><span class="s2">&#34;&lt;micValue&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;&lt;/micValue&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>    <span class="o">//</span><span class="n">MIC</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">s</span> <span class="n">xRES</span><span class="o">=$</span><span class="n">P</span><span class="p">(</span><span class="o">$</span><span class="n">P</span><span class="p">(</span><span class="n">antStr2</span><span class="p">,</span><span class="s2">&#34;&lt;category&gt;&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;&lt;/category&gt;&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span> <span class="o">//</span><span class="err">è€è¯</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">s</span> <span class="n">xMM</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="o">.</span><span class="n">b</span> <span class="p">;</span><span class="n">ch1</span>
</span></span><span class="line"><span class="cl"><span class="n">GetSign</span><span class="p">(</span><span class="nb">sign</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="n">i</span> <span class="nb">sign</span><span class="p">[</span><span class="s2">&#34;&amp;gt;&#34;</span> <span class="n">s</span> <span class="nb">sign</span><span class="o">=$</span><span class="n">tr</span><span class="p">(</span><span class="nb">sign</span><span class="p">,</span><span class="s2">&#34;&amp;gt;&#34;</span><span class="p">,</span><span class="s2">&#34;&gt;&#34;</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl"> <span class="n">i</span> <span class="nb">sign</span><span class="p">[</span><span class="s2">&#34;&amp;lt;&#34;</span> <span class="n">s</span> <span class="nb">sign</span><span class="o">=$</span><span class="n">tr</span><span class="p">(</span><span class="nb">sign</span><span class="p">,</span><span class="s2">&#34;&amp;lt;&#34;</span><span class="p">,</span><span class="s2">&#34;&lt;&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> <span class="n">q</span> <span class="nb">sign</span>
</span></span><span class="line"><span class="cl">  <span class="n">q</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">//</span> <span class="n">D</span> <span class="c1">##class(MI.MIFAUTOAVE)SaveImageMTHD(&#34;7&#34;,&#34;9999&#34;, &#34;&#34;,&#34;175&#34;)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ClassMethod</span> <span class="n">SaveImageMTHD</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span> <span class="n">epis</span><span class="p">,</span> <span class="n">ImageClass</span><span class="p">,</span> <span class="n">FileName</span><span class="p">,</span> <span class="n">P4</span><span class="p">,</span> <span class="n">P5</span><span class="p">,</span> <span class="n">P6</span><span class="p">,</span> <span class="n">P7</span><span class="p">,</span> <span class="n">P8</span><span class="p">,</span> <span class="n">P9</span><span class="p">,</span> <span class="n">P10</span><span class="p">,</span> <span class="n">P11</span><span class="p">,</span> <span class="n">P12</span><span class="p">,</span> <span class="n">P13</span><span class="p">,</span> <span class="n">Sessions</span><span class="p">,</span> <span class="n">Output</span> <span class="n">RowCount</span> <span class="n">As</span> <span class="o">%</span><span class="ne">String</span><span class="p">)</span> <span class="n">As</span> <span class="o">%</span><span class="ne">String</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">mi</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">mi</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="s1">&#39;$d(^dbo.BTMIMachineParameterD(mi)) q &#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">d</span> <span class="c1">##Class(MI.Common.MIFBase).Trace(mi,epis_&#34;:&#34;_ImageClass_&#34;:&#34;_FileName,&#34;H&lt;--M&#34;)</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="p">(</span><span class="n">ReceiveDate</span><span class="p">,</span> <span class="n">ImageOrder</span><span class="p">,</span> <span class="n">Caption</span><span class="p">,</span> <span class="n">DisplayRatio</span><span class="p">,</span> <span class="n">Height</span><span class="p">,</span> <span class="n">Width</span><span class="p">,</span> <span class="n">Sequence</span><span class="p">)</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Caption</span><span class="o">=</span><span class="n">ImageClass</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">FileName</span><span class="o">=</span><span class="n">FileName</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">ret</span><span class="o">=</span><span class="c1">##Class(MI.Common.MachineResult).SaveImage(ReceiveDate, epis, ImageClass, ImageOrder, FileName, mi, Caption, DisplayRatio, Height, Width, Sequence)</span>
</span></span><span class="line"><span class="cl">    <span class="n">q</span> <span class="n">ret</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">//</span> <span class="n">w</span> <span class="c1">##class(MI.MIFAUTOAVE).GetFtpMTHD(&#34;7&#34;)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ClassMethod</span> <span class="n">GetFtpMTHD</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="n">P2</span><span class="p">,</span> <span class="n">P3</span><span class="p">,</span> <span class="n">P4</span><span class="p">,</span> <span class="n">P5</span><span class="p">,</span> <span class="n">P6</span><span class="p">,</span> <span class="n">P7</span><span class="p">,</span> <span class="n">P8</span><span class="p">,</span> <span class="n">P9</span><span class="p">,</span> <span class="n">P10</span><span class="p">,</span> <span class="n">P11</span><span class="p">,</span> <span class="n">P12</span><span class="p">,</span> <span class="n">P13</span><span class="p">,</span> <span class="n">Sessions</span><span class="p">,</span> <span class="n">Output</span> <span class="n">RowCount</span> <span class="n">As</span> <span class="o">%</span><span class="ne">String</span><span class="p">)</span> <span class="n">As</span> <span class="o">%</span><span class="ne">String</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">mi</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">mi</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">MachID</span><span class="o">=</span><span class="n">mi</span>
</span></span><span class="line"><span class="cl">  	<span class="n">i</span> <span class="s1">&#39;$d(^dbo.BTMIMachineParameterD(MachID)) q &#34;&#34;</span>
</span></span><span class="line"><span class="cl">  	<span class="n">s</span> <span class="n">FtpData</span><span class="o">=</span><span class="c1">##class(OTH.SYSParameter).GetDataValue(&#34;LABReportImageFTP&#34;,&#34;HOS&#34;,&#34;1&#34;)</span>
</span></span><span class="line"><span class="cl">  	<span class="n">s</span> <span class="n">Ftp</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="n">FtpData</span><span class="p">,</span><span class="s2">&#34;@&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  	<span class="n">s</span> <span class="n">User</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="n">FtpData</span><span class="p">,</span><span class="s2">&#34;@&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="s2">&#34;:&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;/&#34;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  	<span class="n">s</span> <span class="n">Password</span><span class="o">=$</span><span class="n">p</span><span class="p">(</span><span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="n">FtpData</span><span class="p">,</span><span class="s2">&#34;@&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="s2">&#34;:&#34;</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">  	<span class="n">s</span> <span class="n">FilePath</span><span class="o">=</span><span class="s2">&#34;/AUTOAVE/&#34;</span><span class="n">_mi_</span><span class="s2">&#34;/&#34;</span><span class="n">_</span><span class="o">$</span><span class="n">tr</span><span class="p">(</span><span class="o">$</span><span class="n">zd</span><span class="p">(</span><span class="o">$</span><span class="n">h</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="s2">&#34;-&#34;</span><span class="p">)</span><span class="n">_</span><span class="s2">&#34;/&#34;</span>
</span></span><span class="line"><span class="cl">  	<span class="n">q</span> <span class="n">Ftp_</span><span class="s2">&#34;^&#34;</span><span class="n">_User_</span><span class="s2">&#34;^&#34;</span><span class="n">_Password_</span><span class="s2">&#34;^&#34;</span><span class="n">_FilePath</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">Creator</span><span class="err">ï¼š</span> <span class="err">æŸ¥è¯¢æ‚£è€…ä¿¡æ¯</span>
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">CreatDate</span><span class="err">ï¼š</span> <span class="mi">20140919</span>
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">Description</span><span class="p">:</span><span class="err">ï¼š</span> 
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">Table</span><span class="err">ï¼š</span> 
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="ne">Input</span><span class="err">ï¼š</span> <span class="n">mi</span><span class="err">ï¼šä»ªå™¨ä¸»é”®</span>
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">Output</span><span class="err">ï¼š</span> <span class="err">ä»ªå™¨ä¿¡æ¯</span>
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">Return</span><span class="err">ï¼š</span> <span class="err">ä»ªå™¨ä¿¡æ¯</span>
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">Others</span><span class="err">ï¼š</span> 
</span></span><span class="line"><span class="cl"><span class="n">Query</span> <span class="n">QryLabInfo</span><span class="p">(</span><span class="n">mi</span> <span class="n">As</span> <span class="o">%</span><span class="ne">String</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="n">P2</span><span class="p">,</span> <span class="n">P3</span><span class="p">,</span> <span class="n">P4</span><span class="p">,</span> <span class="n">P5</span><span class="p">,</span> <span class="n">P6</span><span class="p">,</span> <span class="n">P7</span><span class="p">,</span> <span class="n">P8</span><span class="p">,</span> <span class="n">P9</span><span class="p">,</span> <span class="n">P10</span><span class="p">,</span> <span class="n">P11</span><span class="p">,</span> <span class="n">P12</span><span class="p">,</span> <span class="n">P13</span><span class="p">,</span> <span class="n">Sessions</span><span class="p">,</span> <span class="n">Output</span> <span class="n">RowCount</span> <span class="n">As</span> <span class="o">%</span><span class="ne">String</span><span class="p">)</span> <span class="n">As</span> <span class="o">%</span><span class="n">Query</span><span class="p">(</span><span class="n">ROWSPEC</span> <span class="o">=</span> <span class="s2">&#34;labno,labnoInfo,patInfo&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">Queryçš„æ‰§è¡Œæ–¹æ³•</span>
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">d</span> <span class="c1">##class(%ResultSet).RunQuery(&#34;MI.MIFBACK3D&#34;,&#34;QryLabInfo&#34;,&#34;72&#34;,&#34;&#34;,&#34;&#34;,&#34;&#34;,&#34;&#34;,&#34;&#34;,&#34;&#34;,&#34;&#34;,&#34;&#34;,&#34;&#34;,&#34;&#34;,&#34;&#34;,&#34;&#34;,&#34;&#34;,&#34;&#34;,&#34;&#34;)</span>
</span></span><span class="line"><span class="cl"><span class="n">ClassMethod</span> <span class="n">QryLabInfoExecute</span><span class="p">(</span><span class="n">ByRef</span> <span class="n">qHandle</span> <span class="n">As</span> <span class="o">%</span><span class="n">Binary</span><span class="p">,</span> <span class="n">mi</span> <span class="n">As</span> <span class="o">%</span><span class="ne">String</span><span class="p">,</span> <span class="n">P1</span><span class="p">,</span> <span class="n">P2</span><span class="p">,</span> <span class="n">P3</span><span class="p">,</span> <span class="n">P4</span><span class="p">,</span> <span class="n">P5</span><span class="p">,</span> <span class="n">P6</span><span class="p">,</span> <span class="n">P7</span><span class="p">,</span> <span class="n">P8</span><span class="p">,</span> <span class="n">P9</span><span class="p">,</span> <span class="n">P10</span><span class="p">,</span> <span class="n">P11</span><span class="p">,</span> <span class="n">P12</span><span class="p">,</span> <span class="n">P13</span><span class="p">,</span> <span class="n">Sessions</span><span class="p">,</span> <span class="n">Output</span> <span class="n">RowCount</span> <span class="n">As</span> <span class="o">%</span><span class="ne">String</span><span class="p">)</span> <span class="n">As</span> <span class="o">%</span><span class="n">Status</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">Set</span> <span class="n">repid</span><span class="o">=$</span><span class="n">i</span><span class="p">(</span><span class="o">^</span><span class="n">CacheTemp</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">Set</span> <span class="n">ind</span><span class="o">=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">mi</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">mi</span><span class="p">),</span><span class="n">flag</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">flag</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="s1">&#39;$d(^dbo.BTMIMachineParameterD(mi)) q &#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">LabnoList</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">AddDate</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="n">f</span>  <span class="n">s</span> <span class="n">AddDate</span><span class="o">=$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPMachineUploadI</span><span class="p">(</span><span class="s2">&#34;IndexSendStatus&#34;</span><span class="p">,</span><span class="n">mi</span><span class="p">,</span><span class="s2">&#34;C&#34;</span><span class="p">,</span><span class="n">AddDate</span><span class="p">))</span> <span class="n">q</span><span class="p">:</span><span class="n">AddDate</span><span class="o">=</span><span class="s2">&#34;&#34;</span>  <span class="n">d</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">AddTime</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="n">f</span>  <span class="n">s</span> <span class="n">AddTime</span><span class="o">=$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPMachineUploadI</span><span class="p">(</span><span class="s2">&#34;IndexSendStatus&#34;</span><span class="p">,</span><span class="n">mi</span><span class="p">,</span><span class="s2">&#34;C&#34;</span><span class="p">,</span><span class="n">AddDate</span><span class="p">,</span><span class="n">AddTime</span><span class="p">))</span> <span class="n">q</span><span class="p">:</span><span class="n">AddTime</span><span class="o">=</span><span class="s2">&#34;&#34;</span>  <span class="n">d</span>
</span></span><span class="line"><span class="cl">    <span class="o">..</span><span class="n">s</span> <span class="n">MiUploadDR</span><span class="o">=$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPMachineUploadI</span><span class="p">(</span><span class="s2">&#34;IndexSendStatus&#34;</span><span class="p">,</span><span class="n">mi</span><span class="p">,</span><span class="s2">&#34;C&#34;</span><span class="p">,</span><span class="n">AddDate</span><span class="p">,</span><span class="n">AddTime</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="o">..</span><span class="n">s</span> <span class="n">labno</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPMachineUploadD</span><span class="p">(</span><span class="n">MiUploadDR</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">..</span><span class="n">s</span> <span class="n">LabnoOld</span><span class="o">=</span><span class="n">labno</span>
</span></span><span class="line"><span class="cl">    <span class="o">..</span><span class="n">i</span> <span class="s1">&#39;$l(labno) q</span>
</span></span><span class="line"><span class="cl">    <span class="o">..</span><span class="n">b</span> <span class="p">;</span><span class="n">ch1</span>
</span></span><span class="line"><span class="cl">    <span class="o">..</span><span class="n">s</span> <span class="n">labnoInfo</span><span class="o">=..</span><span class="n">GetLabnoInfo</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">labno</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">..</span><span class="n">s</span> <span class="n">labnoInfo2</span><span class="o">=..</span><span class="n">GetLabnoInfoR</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">labno</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">..</span><span class="n">s</span> <span class="n">patInfo</span><span class="o">=..</span><span class="n">GetPatInfo</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">labno</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">..</span><span class="n">s</span> <span class="n">Name</span><span class="o">=</span><span class="s2">&#34;lis_&#34;</span><span class="n">_</span><span class="o">$</span><span class="n">TR</span><span class="p">(</span><span class="o">$</span><span class="n">ZD</span><span class="p">(</span><span class="o">$</span><span class="n">H</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="s2">&#34;-&#34;</span><span class="p">)</span><span class="n">_</span><span class="s2">&#34;_&#34;</span><span class="n">_</span><span class="o">$</span><span class="n">TR</span><span class="p">(</span><span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="o">$</span><span class="n">ZDT</span><span class="p">(</span><span class="o">$</span><span class="n">H</span><span class="p">),</span><span class="s2">&#34; &#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;:&#34;</span><span class="p">)</span><span class="n">_</span><span class="s2">&#34;_1&#34;</span><span class="n">_</span><span class="s2">&#34;.xml&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">..</span><span class="n">s</span> <span class="n">Name2</span><span class="o">=</span><span class="s2">&#34;lis_&#34;</span><span class="n">_</span><span class="o">$</span><span class="n">TR</span><span class="p">(</span><span class="o">$</span><span class="n">ZD</span><span class="p">(</span><span class="o">$</span><span class="n">H</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="s2">&#34;-&#34;</span><span class="p">)</span><span class="n">_</span><span class="s2">&#34;_&#34;</span><span class="n">_</span><span class="o">$</span><span class="n">TR</span><span class="p">(</span><span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="o">$</span><span class="n">ZDT</span><span class="p">(</span><span class="o">$</span><span class="n">H</span><span class="p">),</span><span class="s2">&#34; &#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="s2">&#34;:&#34;</span><span class="p">)</span><span class="n">_</span><span class="s2">&#34;_2&#34;</span><span class="n">_</span><span class="s2">&#34;.xml&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">..</span><span class="n">s</span> <span class="n">labnoInfo1</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">..</span><span class="n">s</span> <span class="n">flabno</span><span class="o">=</span><span class="n">labno_</span><span class="s2">&#34;^&#34;</span><span class="n">_labno_</span><span class="s2">&#34;_&#34;</span><span class="n">_</span><span class="o">$</span><span class="n">tr</span><span class="p">(</span><span class="o">$</span><span class="n">zdt</span><span class="p">(</span><span class="o">$</span><span class="n">h</span><span class="p">),</span><span class="s2">&#34; -/:&#34;</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">)</span><span class="n">_</span><span class="s2">&#34;.hpr&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">..</span><span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">labno_</span><span class="s2">&#34;$$&#34;</span><span class="n">_Name_</span><span class="s2">&#34;$$&#34;</span><span class="n">_labnoInfo</span><span class="p">,</span><span class="s2">&#34;ä¸Šä¼ ä¿¡æ¯&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">..</span><span class="n">s</span> <span class="n">Data</span><span class="o">=</span><span class="c1">##class(MI.Common.MIFBase).DemoMOutFileInfo(Name,labnoInfo,labno,&#34;&#34;,&#34;$Encoding.UTF8&#34;)</span>
</span></span><span class="line"><span class="cl">    <span class="o">..</span><span class="n">d</span> <span class="n">OutputRow</span>
</span></span><span class="line"><span class="cl">    <span class="o">..</span><span class="n">d</span> <span class="n">Trace</span><span class="o">^</span><span class="n">MI</span><span class="o">.</span><span class="n">MIF000</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span><span class="n">LabnoOld_</span><span class="s2">&#34;$$&#34;</span><span class="n">_Name2_</span><span class="s2">&#34;$$&#34;</span><span class="n">_labnoInfo2</span><span class="p">,</span><span class="s2">&#34;ä¸Šä¼ ä¿¡æ¯2&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">..</span><span class="n">s</span> <span class="n">Data</span><span class="o">=</span><span class="c1">##class(MI.Common.MIFBase).DemoMOutFileInfo(Name2,labnoInfo2,LabnoOld,&#34;&#34;,&#34;$Encoding.UTF8&#34;)</span>
</span></span><span class="line"><span class="cl">    <span class="o">..</span><span class="n">d</span> <span class="n">OutputRow</span>
</span></span><span class="line"><span class="cl">    <span class="n">Set</span> <span class="n">qHandle</span><span class="o">=$</span><span class="n">lb</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">repid</span><span class="p">,</span><span class="mi">0</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">Quit</span> <span class="o">$$$</span><span class="n">OK</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl"><span class="n">OutputRow</span>
</span></span><span class="line"><span class="cl">    <span class="p">;</span><span class="n">Set</span> <span class="n">Data</span><span class="o">=$</span><span class="n">lb</span><span class="p">(</span><span class="n">flabno</span><span class="p">,</span><span class="n">labnoInfo</span><span class="p">,</span><span class="n">patInfo</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">Set</span> <span class="n">ColFields</span><span class="o">=</span><span class="s2">&#34;labno,labnoInfo,patInfo&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">Set</span> <span class="o">^</span><span class="n">CacheTemp</span><span class="p">(</span><span class="n">repid</span><span class="p">,</span><span class="n">ind</span><span class="p">)</span><span class="o">=</span><span class="c1">##Class(LIS.Util.Common).TransListNull(Data,ColFields)</span>
</span></span><span class="line"><span class="cl">    <span class="n">Set</span> <span class="n">ind</span><span class="o">=</span><span class="n">ind</span><span class="o">+</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="n">quit</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ClassMethod</span> <span class="n">QryLabInfoClose</span><span class="p">(</span><span class="n">ByRef</span> <span class="n">qHandle</span> <span class="n">As</span> <span class="o">%</span><span class="n">Binary</span><span class="p">)</span> <span class="n">As</span> <span class="o">%</span><span class="n">Status</span> <span class="p">[</span> <span class="n">PlaceAfter</span> <span class="o">=</span> <span class="n">QryLabInfoExecute</span> <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Set</span> <span class="n">repid</span><span class="o">=$</span><span class="n">LIST</span><span class="p">(</span><span class="n">qHandle</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">Kill</span> <span class="o">^</span><span class="n">CacheTemp</span><span class="p">(</span><span class="n">repid</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">Quit</span> <span class="o">$$$</span><span class="n">OK</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ClassMethod</span> <span class="n">QryLabInfoFetch</span><span class="p">(</span><span class="n">ByRef</span> <span class="n">qHandle</span> <span class="n">As</span> <span class="o">%</span><span class="n">Binary</span><span class="p">,</span> <span class="n">ByRef</span> <span class="n">Row</span> <span class="n">As</span> <span class="o">%</span><span class="n">List</span><span class="p">,</span> <span class="n">ByRef</span> <span class="n">AtEnd</span> <span class="n">As</span> <span class="o">%</span><span class="n">Integer</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="n">As</span> <span class="o">%</span><span class="n">Status</span> <span class="p">[</span> <span class="n">PlaceAfter</span> <span class="o">=</span> <span class="n">QryLabInfoExecute</span> <span class="p">]</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">Set</span> <span class="n">AtEnd</span><span class="o">=$</span><span class="n">LIST</span><span class="p">(</span><span class="n">qHandle</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">Set</span> <span class="n">repid</span><span class="o">=$</span><span class="n">LIST</span><span class="p">(</span><span class="n">qHandle</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">Set</span> <span class="n">ind</span><span class="o">=$</span><span class="n">LIST</span><span class="p">(</span><span class="n">qHandle</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">Set</span> <span class="n">ind</span><span class="o">=$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">CacheTemp</span><span class="p">(</span><span class="n">repid</span><span class="p">,</span><span class="n">ind</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="n">If</span> <span class="n">ind</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="p">{</span> 
</span></span><span class="line"><span class="cl">        <span class="n">Set</span> <span class="n">AtEnd</span><span class="o">=</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">        <span class="n">Set</span> <span class="n">Row</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="n">Else</span>      <span class="p">{</span> 
</span></span><span class="line"><span class="cl">        <span class="n">Set</span> <span class="n">Row</span><span class="o">=^</span><span class="n">CacheTemp</span><span class="p">(</span><span class="n">repid</span><span class="p">,</span><span class="n">ind</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="p">}</span>
</span></span><span class="line"><span class="cl">    <span class="o">//</span> <span class="n">Save</span> <span class="n">QHandle</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">qHandle</span><span class="o">=$</span><span class="n">lb</span><span class="p">(</span><span class="n">AtEnd</span><span class="p">,</span><span class="n">repid</span><span class="p">,</span><span class="n">ind</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">Quit</span> <span class="o">$$$</span><span class="n">OK</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">w</span> <span class="c1">##class(MI.MIFMYLA).GetLabnoInfoR(&#34;35&#34;,&#34;9000000189&#34;)</span>
</span></span><span class="line"><span class="cl"><span class="n">ClassMethod</span> <span class="n">GetLabnoInfoR</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span> <span class="n">labno</span><span class="p">)</span> <span class="n">As</span> <span class="o">%</span><span class="ne">String</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">mi</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">mi</span><span class="p">),</span><span class="n">labno</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">labno</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="s1">&#39;$d(^dbo.BTMIMachineParameterD(mi)) q &#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">VisitNumberDR</span> <span class="o">=</span> <span class="o">$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberI</span><span class="p">(</span><span class="s2">&#34;IndexVisitNumber&#34;</span><span class="p">,</span><span class="n">labno</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="s1">&#39;$l(VisitNumberDR) q &#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">patInfo</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">//</span><span class="err">æ ‡æœ¬ä¿¡æ¯</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">RPVisitNumberData</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberD</span><span class="p">(</span><span class="n">VisitNumberDR</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">HospitalDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">21</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">Hospital</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">HospitalDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">Hospital</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTHospitalD</span><span class="p">(</span><span class="n">HospitalDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">LocationDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">22</span><span class="p">),</span><span class="n">Location</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">LocationDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">Location</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTLocationD</span><span class="p">(</span><span class="n">LocationDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">WardDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">26</span><span class="p">),</span><span class="n">Ward</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">WardDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">Ward</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTWardD</span><span class="p">(</span><span class="n">WardDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">VisitNumberDR</span><span class="p">)</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">WardDR</span><span class="o">=</span><span class="n">LocationDR</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">Ward</span><span class="o">=</span><span class="n">Location</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">DoctorDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">23</span><span class="p">),</span><span class="n">Doctor</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">DoctorDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">Doctor</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTDoctorD</span><span class="p">(</span><span class="n">DoctorDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">ReceiveDate</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">66</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">ReceiveTime</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">67</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">ReceiveUserDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">68</span><span class="p">),</span><span class="n">ReceiveUser</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">ReceiveUserDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">ReceiveUser</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">SYSUserD</span><span class="p">(</span><span class="n">ReceiveUserDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">RegNo</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">SurName</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">13</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> 	<span class="o">.</span><span class="n">s</span> <span class="n">GivenName</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">14</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="n">SurName</span><span class="o">=</span><span class="n">GivenName</span> <span class="n">s</span> <span class="n">PatName</span><span class="o">=</span><span class="n">SurName</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">e</span>  <span class="n">s</span> <span class="n">PatName</span><span class="o">=</span><span class="n">SurName_GivenName</span>	
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">SpeciesDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span><span class="n">Species</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">SpeciesDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">Species</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTSpeciesD</span><span class="p">(</span><span class="n">SpeciesDR</span><span class="p">)),</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="p">(</span><span class="n">Species</span><span class="s1">&#39;=&#34;F&#34;),(Species&#39;</span><span class="o">=</span><span class="s2">&#34;M&#34;</span><span class="p">)</span> <span class="n">s</span> <span class="n">Species</span><span class="o">=</span><span class="s2">&#34;U&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">AdmTypeDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="n">AdmType</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">AdmTypeDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">AdmType</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTAdmissionTypeD</span><span class="p">(</span><span class="n">AdmTypeDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">BedNo</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">27</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">Age</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">18</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">AgeUnitDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">19</span><span class="p">),</span><span class="n">AgeUnit</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">birthDate</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="n">Age</span><span class="s1">&#39;=&#34;&#34; s birthDate=$zd((+$h-(Age*365)),3)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="n">birthDate</span><span class="s1">&#39;=&#34;&#34; s birthDate=$P(birthDate,&#34;-&#34;)_&#34;0101&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">AgeUnitDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">AgeUnit</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTAgeUnitD</span><span class="p">(</span><span class="n">AgeUnitDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">CollectDate</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">51</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">I</span> <span class="s1">&#39;$L(CollectDate) S CollectDate=$lg(RPVisitNumberData,66)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">CollectTime</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">52</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">I</span> <span class="s1">&#39;$L(CollectTime) S CollectTime=$lg(RPVisitNumberData,67)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">CollectDateStr</span><span class="o">=</span><span class="n">CollectDate</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">CollectTime</span><span class="p">)</span> <span class="n">s</span> <span class="n">CollectDateStr</span><span class="o">=</span><span class="n">CollectDateStr_</span><span class="o">$</span><span class="n">tr</span><span class="p">(</span><span class="o">$</span><span class="n">zt</span><span class="p">(</span><span class="n">CollectTime</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="s2">&#34;:&#34;</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">SpecimenDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">56</span><span class="p">),</span><span class="n">Specimen</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">SpecimenDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">Specimen</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTSpecimenD</span><span class="p">(</span><span class="n">SpecimenDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">Diagnose</span><span class="o">=$</span><span class="n">E</span><span class="p">(</span><span class="o">$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">28</span><span class="p">),</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">S</span> <span class="n">WorkGroupMachineDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineParameterD</span><span class="p">(</span><span class="n">mi</span><span class="p">),</span><span class="mi">6</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">S</span> <span class="n">TestSetDR</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">EpisNo</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">S</span> <span class="n">testGroupCode</span><span class="o">=</span><span class="s2">&#34;ID&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">F</span>  <span class="n">S</span> <span class="n">TestSetDR</span><span class="o">=$</span><span class="n">O</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberTestSetI</span><span class="p">(</span><span class="s2">&#34;IndexWGMachineDR&#34;</span><span class="p">,</span><span class="n">VisitNumberDR</span><span class="p">,</span><span class="n">WorkGroupMachineDR</span><span class="p">,</span><span class="n">TestSetDR</span><span class="p">))</span>  <span class="n">Q</span><span class="p">:</span><span class="n">TestSetDR</span><span class="o">=</span><span class="s2">&#34;&#34;</span>  <span class="n">D</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">CName</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTTestSetD</span><span class="p">(</span><span class="n">TestSetDR</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="n">CName</span><span class="p">[</span><span class="s2">&#34;è¡€&#34;</span><span class="p">,</span><span class="n">CName</span><span class="p">[</span><span class="s2">&#34;åŸ¹å…»&#34;</span> <span class="n">s</span> <span class="n">testGroupCode</span><span class="o">=</span><span class="s2">&#34;BC&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.//</span><span class="err">è¡€åŸ¹å…»è·å–åŸ¹å…»ç“¶å·</span>
</span></span><span class="line"><span class="cl">	<span class="o">.//</span><span class="n">i</span> <span class="n">testGroupCode</span><span class="o">=</span><span class="s2">&#34;BC&#34;</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">	<span class="o">.//</span><span class="n">s</span> <span class="n">OtherInfo</span><span class="o">=</span><span class="s2">&#34;SGJXNCLR^SFMX8QJR&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.//</span><span class="err">è·å–é‰´å®šå·</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">OrderNo</span><span class="o">=$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberReportI</span><span class="p">(</span><span class="s2">&#34;IndexReportID&#34;</span><span class="p">,</span><span class="n">VisitNumberDR</span><span class="p">,</span><span class="n">WorkGroupMachineDR</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="n">OrderNo</span><span class="s1">&#39;=&#34;&#34; d</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">ReportDR</span><span class="o">=$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberReportI</span><span class="p">(</span><span class="s2">&#34;IndexReportID&#34;</span><span class="p">,</span><span class="n">VisitNumberDR</span><span class="p">,</span><span class="n">WorkGroupMachineDR</span><span class="p">,</span><span class="n">OrderNo</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="n">ReportDR</span><span class="s1">&#39;=&#34;&#34; d</span>
</span></span><span class="line"><span class="cl">	<span class="o">...</span><span class="n">s</span> <span class="n">VisitNumberReportData</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberReportD</span><span class="p">(</span><span class="n">ReportDR</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="o">...</span><span class="n">s</span> <span class="n">EpisNo</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">VisitNumberReportData</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">...</span><span class="n">s</span> <span class="n">OtherInfo</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">VisitNumberReportData</span><span class="p">,</span><span class="mi">45</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">...</span><span class="n">s</span> <span class="o">^</span><span class="n">TMP</span><span class="p">(</span><span class="s2">&#34;ZLS&#34;</span><span class="p">,</span><span class="mi">906</span><span class="p">)</span><span class="o">=</span><span class="n">OtherInfo</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="s1">&#39;$l(EpisNo) s EpisNo=labno</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">FirstName</span><span class="o">=$</span><span class="n">E</span><span class="p">(</span><span class="n">PatName</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="p">;</span><span class="n">i</span> <span class="n">EpisNo</span><span class="s1">&#39;=&#34;&#34; s FirstName=labno</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="p">;</span><span class="n">i</span> <span class="n">EpisNo</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="n">s</span> <span class="n">EpisNo</span><span class="o">=</span><span class="n">labno</span>
</span></span><span class="line"><span class="cl">	<span class="o">.//</span><span class="err">é‰´å®šå·ä¸ºç©ºé€€å‡º</span> <span class="err">ä¸ä¸Šä¼ </span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="p">;</span><span class="n">q</span><span class="p">:</span><span class="n">EpisNo</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.//--------------------------------------</span><span class="n">WardDR</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="n">RegNo</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="n">s</span> <span class="n">RegNo</span><span class="o">=</span><span class="s2">&#34;9999999999999&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;?xml version=&#34;&#34;1.0&#34;&#34; encoding=&#34;&#34;utf-8&#34;&#34;?&gt;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;lisMessage&gt;&#34;</span>
</span></span><span class="line"><span class="cl">  	<span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;header&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;version&gt;1394-97&lt;/version&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;dateTime&gt;&#34;</span><span class="n">_</span><span class="o">$</span><span class="n">tr</span><span class="p">(</span><span class="o">$</span><span class="n">tr</span><span class="p">(</span><span class="o">$</span><span class="n">zdt</span><span class="p">(</span><span class="o">$</span><span class="n">h</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span><span class="s2">&#34; &#34;</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">),</span><span class="s2">&#34;:&#34;</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">)</span><span class="n">_</span><span class="s2">&#34;&lt;/dateTime&gt;&#34;</span>
</span></span><span class="line"><span class="cl">  	<span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;/header&gt;&#34;</span>
</span></span><span class="line"><span class="cl">  	<span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;request&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;patientInformation&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;patientIdentifier&gt;&#34;</span><span class="n">_RegNo_</span><span class="s2">&#34;&lt;/patientIdentifier&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;lastName&gt;&#34;</span><span class="n">_PatName_</span><span class="s2">&#34;&lt;/lastName&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;firstName&gt;&#34;</span><span class="n">_PatName_</span><span class="s2">&#34;&lt;/firstName&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;sex&gt;&#34;</span><span class="n">_Species_</span><span class="s2">&#34;&lt;/sex&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;birthdate&gt;&#34;</span><span class="n">_birthDate_</span><span class="s2">&#34;&lt;/birthdate&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;location&gt;&#34;</span><span class="n">_WardDR_</span><span class="s2">&#34;&lt;/location&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;locationText&gt;&#34;</span><span class="n">_Ward_</span><span class="s2">&#34;&lt;/locationText&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;hospitalService&gt;&#34;</span><span class="n">_LocationDR_</span><span class="s2">&#34;&lt;/hospitalService&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;hospitalServiceText&gt;&#34;</span><span class="n">_Location_</span><span class="s2">&#34;&lt;/hospitalServiceText&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;hospitalInstitution&gt;&#34;</span><span class="n">_HospitalDR_</span><span class="s2">&#34;&lt;/hospitalInstitution&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;hospitalInstitutionText&gt;&#34;</span><span class="n">_Hospital_</span><span class="s2">&#34;&lt;/hospitalInstitutionText&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;physicianIdentifier&gt;&#34;</span><span class="n">_DoctorDR_</span><span class="s2">&#34;&lt;/physicianIdentifier&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;physicianName&gt;&#34;</span><span class="n">_Doctor_</span><span class="s2">&#34;&lt;/physicianName&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;/patientInformation&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;testOrder&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;specimen&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;specimenIdentifier&gt;&#34;</span><span class="n">_EpisNo_</span><span class="s2">&#34;&lt;/specimenIdentifier&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;collectedDateTime&gt;&#34;</span><span class="n">_CollectDateStr_</span><span class="s2">&#34;&lt;/collectedDateTime&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;collector&gt;demo&lt;/collector&gt;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;collectorName&gt;demo&lt;/collectorName&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;specimenType&gt;&#34;</span><span class="n">_SpecimenDR_</span><span class="s2">&#34;&lt;/specimenType&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;specimenTypeText&gt;&#34;</span><span class="n">_Specimen_</span><span class="s2">&#34;&lt;/specimenTypeText&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;specimenSource&gt;&lt;/specimenSource&gt;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;specimenSourceText&gt;&lt;/specimenSourceText&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;orderingPhysician&gt;&#34;</span><span class="n">_DoctorDR_</span><span class="s2">&#34;&lt;/orderingPhysician&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;orderingPhysicianName&gt;&#34;</span><span class="n">_Doctor_</span><span class="s2">&#34;&lt;/orderingPhysicianName&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.//</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;relevantClinicalInformation&gt;&#34;</span><span class="n">_Diagnose_</span><span class="s2">&#34;&lt;/relevantClinicalInformation&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;/specimen&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;/testOrder&gt;&#34;</span>
</span></span><span class="line"><span class="cl">  	<span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;/request&gt;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;/lisMessage&gt;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">patInfo</span><span class="o">=</span><span class="n">retInfo</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">    <span class="n">q</span> <span class="n">patInfo</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">w</span> <span class="c1">##Class(MI.XN9000).GetLabnoInfo(64,9000000333)</span>
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">w</span> <span class="c1">##Class(MI.MIFMYLA).GetLabnoInfo(&#34;12&#34;,&#34;2000071205&#34;)</span>
</span></span><span class="line"><span class="cl"><span class="n">ClassMethod</span> <span class="n">GetLabnoInfo</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span> <span class="n">labno</span><span class="p">)</span> <span class="n">As</span> <span class="o">%</span><span class="ne">String</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">mi</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">mi</span><span class="p">),</span><span class="n">labno</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">labno</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="s1">&#39;$d(^dbo.BTMIMachineParameterD(mi)) q &#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">VisitNumberDR</span> <span class="o">=</span> <span class="o">$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberI</span><span class="p">(</span><span class="s2">&#34;IndexVisitNumber&#34;</span><span class="p">,</span><span class="n">labno</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="s1">&#39;$l(VisitNumberDR) q &#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">S</span> <span class="n">patInfo</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">//</span><span class="err">æ ‡æœ¬ä¿¡æ¯</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">RPVisitNumberData</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberD</span><span class="p">(</span><span class="n">VisitNumberDR</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">HospitalDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">21</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">Hospital</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">HospitalDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">Hospital</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTHospitalD</span><span class="p">(</span><span class="n">HospitalDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">LocationDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">22</span><span class="p">),</span><span class="n">Location</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">LocationDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">Location</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTLocationD</span><span class="p">(</span><span class="n">LocationDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">WardDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">26</span><span class="p">),</span><span class="n">Ward</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">WardDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">Ward</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTWardD</span><span class="p">(</span><span class="n">WardDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">VisitNumberDR</span><span class="p">)</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">WardDR</span><span class="o">=</span><span class="n">LocationDR</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">Ward</span><span class="o">=</span><span class="n">Location</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">DoctorDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">23</span><span class="p">),</span><span class="n">Doctor</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">DoctorDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">Doctor</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTDoctorD</span><span class="p">(</span><span class="n">DoctorDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">ReceiveDate</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">66</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">ReceiveTime</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">67</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">ReceiveUserDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">68</span><span class="p">),</span><span class="n">ReceiveUser</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">ReceiveUserDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">ReceiveUser</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">SYSUserD</span><span class="p">(</span><span class="n">ReceiveUserDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">RegNo</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">SurName</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">13</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"> 	<span class="o">.</span><span class="n">s</span> <span class="n">GivenName</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">14</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="n">SurName</span><span class="o">=</span><span class="n">GivenName</span> <span class="n">s</span> <span class="n">PatName</span><span class="o">=</span><span class="n">SurName</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">e</span>  <span class="n">s</span> <span class="n">PatName</span><span class="o">=</span><span class="n">SurName_GivenName</span>	
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">SpeciesDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span><span class="n">Species</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">SpeciesDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">Species</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTSpeciesD</span><span class="p">(</span><span class="n">SpeciesDR</span><span class="p">)),</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="p">(</span><span class="n">Species</span><span class="s1">&#39;=&#34;F&#34;),(Species&#39;</span><span class="o">=</span><span class="s2">&#34;M&#34;</span><span class="p">)</span> <span class="n">s</span> <span class="n">Species</span><span class="o">=</span><span class="s2">&#34;U&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">AdmTypeDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="n">AdmType</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">AdmTypeDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">AdmType</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTAdmissionTypeD</span><span class="p">(</span><span class="n">AdmTypeDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">BedNo</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">27</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">Age</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">18</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">AgeUnitDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">19</span><span class="p">),</span><span class="n">AgeUnit</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">birthDate</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="n">Age</span><span class="s1">&#39;=&#34;&#34; s birthDate=$zd((+$h-(Age*365)),3)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="n">birthDate</span><span class="s1">&#39;=&#34;&#34; s birthDate=$P(birthDate,&#34;-&#34;)_&#34;0101&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">AgeUnitDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">AgeUnit</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTAgeUnitD</span><span class="p">(</span><span class="n">AgeUnitDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">CollectDate</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">51</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">I</span> <span class="s1">&#39;$L(CollectDate) S CollectDate=$lg(RPVisitNumberData,66)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">CollectTime</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">52</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">I</span> <span class="s1">&#39;$L(CollectTime) S CollectTime=$lg(RPVisitNumberData,67)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">CollectDateStr</span><span class="o">=</span><span class="n">CollectDate</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">CollectTime</span><span class="p">)</span> <span class="n">s</span> <span class="n">CollectDateStr</span><span class="o">=</span><span class="n">CollectDateStr_</span><span class="o">$</span><span class="n">tr</span><span class="p">(</span><span class="o">$</span><span class="n">zt</span><span class="p">(</span><span class="n">CollectTime</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="s2">&#34;:&#34;</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">SpecimenDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">56</span><span class="p">),</span><span class="n">Specimen</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">SpecimenDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">Specimen</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTSpecimenD</span><span class="p">(</span><span class="n">SpecimenDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">Diagnose</span><span class="o">=$</span><span class="n">E</span><span class="p">(</span><span class="o">$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">28</span><span class="p">),</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">S</span> <span class="n">WorkGroupMachineDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineParameterD</span><span class="p">(</span><span class="n">mi</span><span class="p">),</span><span class="mi">6</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">S</span> <span class="n">TestSetDR</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">EpisNo</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">S</span> <span class="n">testGroupCode</span><span class="o">=</span><span class="s2">&#34;ID&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">F</span>  <span class="n">S</span> <span class="n">TestSetDR</span><span class="o">=$</span><span class="n">O</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberTestSetI</span><span class="p">(</span><span class="s2">&#34;IndexWGMachineDR&#34;</span><span class="p">,</span><span class="n">VisitNumberDR</span><span class="p">,</span><span class="n">WorkGroupMachineDR</span><span class="p">,</span><span class="n">TestSetDR</span><span class="p">))</span>  <span class="n">Q</span><span class="p">:</span><span class="n">TestSetDR</span><span class="o">=</span><span class="s2">&#34;&#34;</span>  <span class="n">D</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">CName</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTTestSetD</span><span class="p">(</span><span class="n">TestSetDR</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="n">CName</span><span class="p">[</span><span class="s2">&#34;è¡€&#34;</span><span class="p">,</span><span class="n">CName</span><span class="p">[</span><span class="s2">&#34;åŸ¹å…»&#34;</span> <span class="n">s</span> <span class="n">testGroupCode</span><span class="o">=</span><span class="s2">&#34;BC&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.//</span><span class="err">è¡€åŸ¹å…»è·å–åŸ¹å…»ç“¶å·</span>
</span></span><span class="line"><span class="cl">	<span class="o">.//</span><span class="n">i</span> <span class="n">testGroupCode</span><span class="o">=</span><span class="s2">&#34;BC&#34;</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">	<span class="o">.//</span><span class="n">s</span> <span class="n">OtherInfo</span><span class="o">=</span><span class="s2">&#34;SGJXNCLR^SFMX8QJR&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.//</span><span class="err">è·å–é‰´å®šå·</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">OrderNo</span><span class="o">=$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberReportI</span><span class="p">(</span><span class="s2">&#34;IndexReportID&#34;</span><span class="p">,</span><span class="n">VisitNumberDR</span><span class="p">,</span><span class="n">WorkGroupMachineDR</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="n">OrderNo</span><span class="s1">&#39;=&#34;&#34; d</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">ReportDR</span><span class="o">=$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberReportI</span><span class="p">(</span><span class="s2">&#34;IndexReportID&#34;</span><span class="p">,</span><span class="n">VisitNumberDR</span><span class="p">,</span><span class="n">WorkGroupMachineDR</span><span class="p">,</span><span class="n">OrderNo</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">i</span> <span class="n">ReportDR</span><span class="s1">&#39;=&#34;&#34; d</span>
</span></span><span class="line"><span class="cl">	<span class="o">...</span><span class="n">s</span> <span class="n">VisitNumberReportData</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberReportD</span><span class="p">(</span><span class="n">ReportDR</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">	<span class="o">...</span><span class="n">s</span> <span class="n">EpisNo</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">VisitNumberReportData</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">...</span><span class="n">s</span> <span class="n">OtherInfo</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">VisitNumberReportData</span><span class="p">,</span><span class="mi">45</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="o">...</span><span class="n">s</span> <span class="o">^</span><span class="n">TMP</span><span class="p">(</span><span class="s2">&#34;ZLS&#34;</span><span class="p">,</span><span class="mi">906</span><span class="p">)</span><span class="o">=</span><span class="n">OtherInfo</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="s1">&#39;$l(EpisNo) s EpisNo=labno</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">FirstName</span><span class="o">=</span><span class="n">PatName</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="p">;</span><span class="n">i</span> <span class="n">EpisNo</span><span class="s1">&#39;=&#34;&#34; s FirstName=labno</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="p">;</span><span class="n">i</span> <span class="n">EpisNo</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="n">s</span> <span class="n">EpisNo</span><span class="o">=</span><span class="n">labno</span>
</span></span><span class="line"><span class="cl">	<span class="o">.//</span><span class="err">é‰´å®šå·ä¸ºç©ºé€€å‡º</span> <span class="err">ä¸ä¸Šä¼ </span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="p">;</span><span class="n">q</span><span class="p">:</span><span class="n">EpisNo</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.//--------------------------------------</span><span class="n">WardDR</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="n">RegNo</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="n">s</span> <span class="n">RegNo</span><span class="o">=</span><span class="s2">&#34;9999999999999&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;?xml version=&#34;&#34;1.0&#34;&#34; encoding=&#34;&#34;utf-8&#34;&#34;?&gt;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;lisMessage&gt;&#34;</span>
</span></span><span class="line"><span class="cl">  	<span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;header&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;version&gt;1394-97&lt;/version&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;dateTime&gt;&#34;</span><span class="n">_</span><span class="o">$</span><span class="n">tr</span><span class="p">(</span><span class="o">$</span><span class="n">tr</span><span class="p">(</span><span class="o">$</span><span class="n">zdt</span><span class="p">(</span><span class="o">$</span><span class="n">h</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span><span class="s2">&#34; &#34;</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">),</span><span class="s2">&#34;:&#34;</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">)</span><span class="n">_</span><span class="s2">&#34;&lt;/dateTime&gt;&#34;</span>
</span></span><span class="line"><span class="cl">  	<span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;/header&gt;&#34;</span>
</span></span><span class="line"><span class="cl">  	<span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;request&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;patientInformation&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;patientIdentifier&gt;&#34;</span><span class="n">_RegNo_</span><span class="s2">&#34;&lt;/patientIdentifier&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;lastName&gt;&#34;</span><span class="n">_PatName_</span><span class="s2">&#34;&lt;/lastName&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;firstName&gt;&#34;</span><span class="n">_FirstName_</span><span class="s2">&#34;&lt;/firstName&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;sex&gt;&#34;</span><span class="n">_Species_</span><span class="s2">&#34;&lt;/sex&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;birthdate&gt;&#34;</span><span class="n">_birthDate_</span><span class="s2">&#34;&lt;/birthdate&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;location&gt;&#34;</span><span class="n">_WardDR_</span><span class="s2">&#34;&lt;/location&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;locationText&gt;&#34;</span><span class="n">_Ward_</span><span class="s2">&#34;&lt;/locationText&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;hospitalService&gt;&#34;</span><span class="n">_LocationDR_</span><span class="s2">&#34;&lt;/hospitalService&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;hospitalServiceText&gt;&#34;</span><span class="n">_Location_</span><span class="s2">&#34;&lt;/hospitalServiceText&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;hospitalInstitution&gt;&#34;</span><span class="n">_HospitalDR_</span><span class="s2">&#34;&lt;/hospitalInstitution&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;hospitalInstitutionText&gt;&#34;</span><span class="n">_Hospital_</span><span class="s2">&#34;&lt;/hospitalInstitutionText&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;physicianIdentifier&gt;&#34;</span><span class="n">_DoctorDR_</span><span class="s2">&#34;&lt;/physicianIdentifier&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;physicianName&gt;&#34;</span><span class="n">_Doctor_</span><span class="s2">&#34;&lt;/physicianName&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;/patientInformation&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;testOrder&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;specimen&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;specimenIdentifier&gt;&#34;</span><span class="n">_EpisNo_</span><span class="s2">&#34;&lt;/specimenIdentifier&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;collectedDateTime&gt;&#34;</span><span class="n">_CollectDateStr_</span><span class="s2">&#34;&lt;/collectedDateTime&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;collector&gt;demo&lt;/collector&gt;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;collectorName&gt;demo&lt;/collectorName&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;specimenType&gt;&#34;</span><span class="n">_SpecimenDR_</span><span class="s2">&#34;&lt;/specimenType&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;specimenTypeText&gt;&#34;</span><span class="n">_Specimen_</span><span class="s2">&#34;&lt;/specimenTypeText&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;specimenSource&gt;&lt;/specimenSource&gt;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;specimenSourceText&gt;&lt;/specimenSourceText&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;orderingPhysician&gt;&#34;</span><span class="n">_DoctorDR_</span><span class="s2">&#34;&lt;/orderingPhysician&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;orderingPhysicianName&gt;&#34;</span><span class="n">_Doctor_</span><span class="s2">&#34;&lt;/orderingPhysicianName&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.//</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;relevantClinicalInformation&gt;&#34;</span><span class="n">_Diagnose_</span><span class="s2">&#34;&lt;/relevantClinicalInformation&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;/specimen&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.//</span><span class="err">éè¡€åŸ¹å…»æ ‡æœ¬</span>    
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;test&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;universalIdentifier&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;testGroupCode&gt;&#34;</span><span class="n">_</span><span class="s2">&#34;BC&#34;</span><span class="n">_</span><span class="s2">&#34;&lt;/testGroupCode&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;/universalIdentifier&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;/test&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.//</span><span class="err">è¡€åŸ¹å…»åŠ å…¥è¡€åŸ¹å…»ç“¶</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;test&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;universalIdentifier/&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;disposableIdentifier/&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;/test&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.//</span><span class="err">è¡€åŸ¹å…»æœªç»‘è¡€åŸ¹å…»ç“¶</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;test&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;universalIdentifier/&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;disposableIdentifier/&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;/test&gt;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.//----------------------------------</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;/testOrder&gt;&#34;</span>
</span></span><span class="line"><span class="cl">  	<span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;/request&gt;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">retInfo</span><span class="o">=</span><span class="n">retInfo_</span><span class="s2">&#34;&lt;/lisMessage&gt;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">patInfo</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">s</span> <span class="n">patInfo</span><span class="o">=</span><span class="n">retInfo</span>
</span></span><span class="line"><span class="cl">   
</span></span><span class="line"><span class="cl">	
</span></span><span class="line"><span class="cl">    <span class="n">q</span> <span class="n">patInfo</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">w</span> <span class="c1">##Class(MI.XN9000).GetPatInfo(64,74057482)</span>
</span></span><span class="line"><span class="cl"><span class="n">ClassMethod</span> <span class="n">GetPatInfo</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span> <span class="n">labno</span><span class="p">)</span> <span class="n">As</span> <span class="o">%</span><span class="ne">String</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">labno</span> <span class="o">=</span> <span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="n">labno</span><span class="p">),</span><span class="n">mi</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">mi</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">labno</span><span class="p">)</span><span class="o">=</span><span class="mi">0</span> <span class="n">q</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">VisitNumberDR</span> <span class="o">=</span> <span class="o">$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberI</span><span class="p">(</span><span class="s2">&#34;IndexVisitNumber&#34;</span><span class="p">,</span><span class="s2">&#34; &#34;</span><span class="n">_labno</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="s1">&#39;$l(VisitNumberDR) q &#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">//</span><span class="err">æ ‡æœ¬ä¿¡æ¯</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">RPVisitNumberData</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberD</span><span class="p">(</span><span class="n">VisitNumberDR</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">LocationDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">22</span><span class="p">),</span><span class="n">Location</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">LocationDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">Location</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTLocationD</span><span class="p">(</span><span class="n">LocationDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">DoctorDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">23</span><span class="p">),</span><span class="n">Doctor</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">DoctorDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">Doctor</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTDoctorD</span><span class="p">(</span><span class="n">DoctorDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">ReceiveDate</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">66</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">ReceiveTime</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">67</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">ReceiveUserDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">68</span><span class="p">),</span><span class="n">ReceiveUser</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">ReceiveUserDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">ReceiveUser</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">SYSUserD</span><span class="p">(</span><span class="n">ReceiveUserDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">RegNo</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">SurName</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">13</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">GivenName</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">14</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="n">SurName</span><span class="o">=</span><span class="n">GivenName</span> <span class="n">s</span> <span class="n">PatName</span><span class="o">=</span><span class="n">SurName</span>
</span></span><span class="line"><span class="cl">    <span class="n">e</span>  <span class="n">s</span> <span class="n">PatName</span><span class="o">=</span><span class="n">SurName_GivenName</span>  
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">SpeciesDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">15</span><span class="p">),</span><span class="n">Species</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">SpeciesDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">Species</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTSpeciesD</span><span class="p">(</span><span class="n">SpeciesDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">AdmTypeDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">4</span><span class="p">),</span><span class="n">AdmType</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">AdmTypeDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">AdmType</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTAdmissionTypeD</span><span class="p">(</span><span class="n">AdmTypeDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">BedNo</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">27</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Age</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">18</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">AgeUnitDR</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">19</span><span class="p">),</span><span class="n">AgeUnit</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">AgeUnitDR</span><span class="p">)</span> <span class="n">s</span> <span class="n">AgeUnit</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTAgeUnitD</span><span class="p">(</span><span class="n">AgeUnitDR</span><span class="p">)),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">CollectDate</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">51</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">CollectTime</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">52</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Diagnose</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="n">RPVisitNumberData</span><span class="p">,</span><span class="mi">28</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Sampleda</span><span class="o">=$</span><span class="n">zd</span><span class="p">(</span><span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="o">$</span><span class="n">h</span><span class="p">,</span><span class="s2">&#34;,&#34;</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span><span class="n">_</span><span class="s2">&#34; &#34;</span><span class="n">_</span><span class="o">$</span><span class="n">zt</span><span class="p">(</span><span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="o">$</span><span class="n">h</span><span class="p">,</span><span class="s2">&#34;,&#34;</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Instrument</span> <span class="o">=</span> <span class="s2">&#34;XN&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">//</span><span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">mi</span><span class="p">)</span> <span class="n">s</span> <span class="n">Instrument</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">BTMIMachineParameterD</span><span class="p">(</span><span class="n">mi</span><span class="p">),</span><span class="mi">22</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Sampleno</span><span class="o">=</span><span class="n">labno</span>   <span class="o">//</span><span class="err">æ£€æµ‹å·</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Sampletype</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Feetype</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="p">;</span><span class="err">è´¹åˆ«</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Srcdepno</span><span class="o">=</span><span class="n">Location</span>  <span class="p">;</span><span class="err">é€æ£€ç§‘å®¤</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Srcdocno</span><span class="o">=</span><span class="n">Doctor</span>   <span class="p">;</span><span class="err">é€æ£€åŒ»ç”Ÿ</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Userno</span><span class="o">=</span><span class="n">ReceiveUser</span> <span class="p">;</span><span class="err">æ£€éªŒåŒ»ç”Ÿ</span><span class="p">(</span><span class="err">å½•å…¥è€…</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Patno</span><span class="o">=</span><span class="n">RegNo</span> <span class="p">;</span><span class="err">ç™»è®°å·</span> <span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">BarCode</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="o">$</span><span class="n">d</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberReportI</span><span class="p">(</span><span class="s2">&#34;IndexReportID&#34;</span><span class="p">,</span><span class="n">VisitNumberDR</span><span class="p">))</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">WorkGroupMachineDR</span><span class="o">=$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberReportI</span><span class="p">(</span><span class="s2">&#34;IndexReportID&#34;</span><span class="p">,</span><span class="n">VisitNumberDR</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">OrderNo</span><span class="o">=$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberReportI</span><span class="p">(</span><span class="s2">&#34;IndexReportID&#34;</span><span class="p">,</span><span class="n">VisitNumberDR</span><span class="p">,</span><span class="n">WorkGroupMachineDR</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">ReportDR</span><span class="o">=$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberReportI</span><span class="p">(</span><span class="s2">&#34;IndexReportID&#34;</span><span class="p">,</span><span class="n">VisitNumberDR</span><span class="p">,</span><span class="n">WorkGroupMachineDR</span><span class="p">,</span><span class="n">OrderNo</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">EpisodeNo</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberReportD</span><span class="p">(</span><span class="n">ReportDR</span><span class="p">)),</span><span class="mi">8</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">BarCode</span><span class="o">=</span><span class="n">EpisodeNo</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Patna</span><span class="o">=</span><span class="n">PatName</span>   <span class="p">;</span><span class="err">ç—…äººå§“å</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Sex</span><span class="o">=</span><span class="mi">1</span> <span class="p">;</span><span class="err">æ€§åˆ«</span>
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="n">Species</span><span class="o">=</span><span class="s2">&#34;ç”·&#34;</span> <span class="n">s</span> <span class="n">Sex</span><span class="o">=</span><span class="s2">&#34;1&#34;</span>     <span class="p">;</span><span class="mi">1</span><span class="p">:</span><span class="err">ç”·</span> <span class="err">ï¼Œ</span><span class="mi">2</span> <span class="err">å¥³</span>
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="n">Species</span> <span class="o">=</span><span class="s2">&#34;å¥³&#34;</span> <span class="n">s</span> <span class="n">Sex</span><span class="o">=</span><span class="s2">&#34;2&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Pattype</span><span class="o">=</span><span class="n">AdmType</span>   <span class="p">;</span><span class="err">ç—…äººç±»å‹</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Bedno</span> <span class="o">=</span> <span class="n">BedNo</span>    <span class="p">;</span><span class="err">åºŠå·</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Patage</span><span class="o">=</span><span class="n">Age</span>  <span class="p">;</span><span class="err">å¹´é¾„</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Ageunit</span><span class="o">=</span><span class="s2">&#34;&#34;</span>   <span class="p">;</span><span class="err">å¹´é¾„å•ä½</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Reqno</span><span class="o">=</span><span class="n">labno</span>  <span class="p">;</span><span class="err">ç”³è¯·å·</span> <span class="o">=</span> <span class="err">æ£€éªŒå·</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Reqda</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">ReceiveDate</span><span class="p">)</span> <span class="n">s</span> <span class="n">Reqda</span><span class="o">=$</span><span class="n">e</span><span class="p">(</span><span class="n">ReceiveDate</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="n">_</span><span class="s2">&#34;-&#34;</span><span class="n">_</span><span class="o">$</span><span class="n">e</span><span class="p">(</span><span class="n">ReceiveDate</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span><span class="n">_</span><span class="s2">&#34;-&#34;</span><span class="n">_</span><span class="o">$</span><span class="n">e</span><span class="p">(</span><span class="n">ReceiveDate</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span><span class="n">_</span><span class="s2">&#34; &#34;</span><span class="n">_</span><span class="o">$</span><span class="n">zt</span><span class="p">(</span><span class="n">ReceiveTime</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> <span class="p">;</span><span class="err">é€æ£€æ—¥æœŸ</span> <span class="o">=</span> <span class="err">æ¥æ”¶æ—¶é—´</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Reportda</span><span class="o">=</span><span class="s2">&#34;&#34;</span>   <span class="p">;</span><span class="err">æŠ¥å‘Šæ—¥æœŸ</span> <span class="o">=</span> <span class="err">åˆå®¡</span><span class="p">(</span><span class="err">ä¿å­˜ç»“æœ</span><span class="p">)</span><span class="err">æ—¶é—´</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Printflag</span><span class="o">=</span><span class="s2">&#34;&#34;</span>  <span class="p">;</span><span class="err">æ‰“å°æ ‡å¿—</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Resultflag</span><span class="o">=</span><span class="s2">&#34;&#34;</span>  <span class="p">;</span><span class="err">ç»“æœæ ‡å¿—</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Errflag</span><span class="o">=</span><span class="s2">&#34;&#34;</span>  <span class="p">;</span><span class="err">é”™è¯¯æ ‡å¿—</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Diagnose</span> <span class="o">=</span> <span class="n">Diagnose</span>   <span class="p">;</span><span class="err">è¯Šæ–­</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Description</span><span class="o">=</span><span class="s2">&#34;&#34;</span>  <span class="p">;</span><span class="err">å¤‡æ³¨</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Reserve</span><span class="o">=</span><span class="s2">&#34;&#34;</span>  <span class="p">;</span><span class="err">ä¿ç•™å­—æ®µ</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Patnamn</span><span class="o">=</span><span class="s2">&#34;&#34;</span>   <span class="p">;</span><span class="err">å§“åæ‹¼éŸ³ç </span>
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">CollectDate</span><span class="p">)</span> <span class="n">s</span> <span class="n">Getda</span><span class="o">=$</span><span class="n">e</span><span class="p">(</span><span class="n">CollectDate</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">4</span><span class="p">)</span><span class="n">_</span><span class="s2">&#34;-&#34;</span><span class="n">_</span><span class="o">$</span><span class="n">e</span><span class="p">(</span><span class="n">CollectDate</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">)</span><span class="n">_</span><span class="s2">&#34;-&#34;</span><span class="n">_</span><span class="o">$</span><span class="n">e</span><span class="p">(</span><span class="n">CollectDate</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span><span class="n">_</span><span class="s2">&#34; &#34;</span><span class="n">_</span><span class="o">$</span><span class="n">zt</span><span class="p">(</span><span class="n">CollectTime</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span> 
</span></span><span class="line"><span class="cl">    <span class="n">e</span>  <span class="n">s</span> <span class="n">Getda</span><span class="o">=</span><span class="n">Reqda</span> <span class="p">;</span><span class="err">æ¥æ”¶æ—¶é—´</span><span class="o">/</span><span class="err">é‡‡æ ·æ—¥æœŸ</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">Wardno</span><span class="o">=</span><span class="s2">&#34;&#34;</span>  <span class="p">;</span><span class="err">ç—…åŒº</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">RetString</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">RetString</span><span class="o">=</span><span class="n">Sampleda_</span><span class="s2">&#34;,&#34;</span><span class="n">_Instrument_</span><span class="s2">&#34;,&#34;</span><span class="n">_Sampleno_</span><span class="s2">&#34;,&#34;</span><span class="n">_Sampletype_</span><span class="s2">&#34;,&#34;</span><span class="n">_Feetype_</span><span class="s2">&#34;,&#34;</span><span class="n">_Srcdepno_</span><span class="s2">&#34;,&#34;</span><span class="n">_Srcdocno_</span><span class="s2">&#34;,&#34;</span><span class="n">_Userno_</span><span class="s2">&#34;,&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">RetString</span><span class="o">=</span><span class="n">RetString_Patno_</span><span class="s2">&#34;,&#34;</span><span class="n">_Patna_</span><span class="s2">&#34;,&#34;</span><span class="n">_Sex_</span><span class="s2">&#34;,&#34;</span><span class="n">_Pattype_</span><span class="s2">&#34;,&#34;</span><span class="n">_Bedno_</span><span class="s2">&#34;,&#34;</span><span class="n">_Patage_</span><span class="s2">&#34;,&#34;</span><span class="n">_Ageunit_</span><span class="s2">&#34;,&#34;</span><span class="n">_Reqno_</span><span class="s2">&#34;,&#34;</span><span class="n">_Reqda_</span><span class="s2">&#34;,&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">RetString</span><span class="o">=</span><span class="n">RetString_Reportda_</span><span class="s2">&#34;,&#34;</span><span class="n">_Printflag_</span><span class="s2">&#34;,&#34;</span><span class="n">_Resultflag_</span><span class="s2">&#34;,&#34;</span><span class="n">_Errflag_</span><span class="s2">&#34;,&#34;</span><span class="n">_Diagnose_</span><span class="s2">&#34;,&#34;</span><span class="n">_Description_</span><span class="s2">&#34;,&#34;</span><span class="n">_Reserve_</span><span class="s2">&#34;,&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">RetString</span><span class="o">=</span><span class="n">RetString_Patnamn_</span><span class="s2">&#34;,&#34;</span><span class="n">_Getda_</span><span class="s2">&#34;,&#34;</span><span class="n">_Wardno_</span><span class="s2">&#34;,&#34;</span><span class="n">_BarCode</span>
</span></span><span class="line"><span class="cl">    <span class="n">q</span> <span class="n">RetString</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ClassMethod</span> <span class="n">SaveSDFMTHD</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span> <span class="n">labno</span><span class="p">,</span> <span class="n">epis</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="n">P4</span><span class="p">,</span> <span class="n">P5</span><span class="p">,</span> <span class="n">P6</span><span class="p">,</span> <span class="n">P7</span><span class="p">,</span> <span class="n">P8</span><span class="p">,</span> <span class="n">P9</span><span class="p">,</span> <span class="n">P10</span><span class="p">,</span> <span class="n">P11</span><span class="p">,</span> <span class="n">P12</span><span class="p">,</span> <span class="n">P13</span><span class="p">,</span> <span class="n">Sessions</span><span class="p">,</span> <span class="n">Output</span> <span class="n">RowCount</span> <span class="n">As</span> <span class="o">%</span><span class="ne">String</span><span class="p">)</span> <span class="n">As</span> <span class="o">%</span><span class="ne">String</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">mi</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">mi</span><span class="p">),</span><span class="n">labno</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">labno</span><span class="p">),</span><span class="n">epis</span> <span class="o">=</span> <span class="o">$</span><span class="n">g</span><span class="p">(</span><span class="n">epis</span><span class="p">),</span><span class="n">filename</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="s1">&#39;$d(^dbo.BTMIMachineParameterD(mi)) q</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">ret</span><span class="o">=</span><span class="c1">##Class(MI.MachineUpload).SetSendFlag(mi,labno,&#34;S&#34;,filename)</span>
</span></span><span class="line"><span class="cl">    <span class="n">q</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">///</span> <span class="n">w</span> <span class="c1">##Class(MI.XN9000).QueryCDF(-6,&#34;2015-09-10&#34;)</span>
</span></span><span class="line"><span class="cl"><span class="n">ClassMethod</span> <span class="n">QueryCDF</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span> <span class="n">date</span><span class="p">)</span> <span class="n">As</span> <span class="o">%</span><span class="ne">String</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">mi</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">mi</span><span class="p">),</span><span class="n">date</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">date</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="s1">&#39;$d(^dbo.BTMIMachineParameterD(mi)) q &#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">date</span><span class="p">)</span> <span class="n">s</span> <span class="n">date</span><span class="o">=$</span><span class="n">tr</span><span class="p">(</span><span class="n">date</span><span class="p">,</span><span class="s2">&#34;-&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">e</span>  <span class="n">s</span> <span class="n">date</span><span class="o">=$</span><span class="n">tr</span><span class="p">(</span><span class="o">$</span><span class="n">zd</span><span class="p">(</span><span class="o">+$</span><span class="n">h</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span><span class="s2">&#34;-&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">retList</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">cnt</span><span class="o">=</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">time</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="n">f</span>  <span class="n">s</span> <span class="n">time</span><span class="o">=$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPMachineUploadI</span><span class="p">(</span><span class="s2">&#34;IndexSendStatus&#34;</span><span class="p">,</span><span class="n">mi</span><span class="p">,</span><span class="s2">&#34; S&#34;</span><span class="p">,</span><span class="n">date</span><span class="p">,</span><span class="n">time</span><span class="p">))</span> <span class="n">q</span><span class="p">:</span><span class="n">time</span><span class="o">=</span><span class="s2">&#34;&#34;</span>  <span class="n">d</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">MiUploadDR</span><span class="o">=$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPMachineUploadI</span><span class="p">(</span><span class="s2">&#34;IndexSendStatus&#34;</span><span class="p">,</span><span class="n">mi</span><span class="p">,</span><span class="s2">&#34; S&#34;</span><span class="p">,</span><span class="n">date</span><span class="p">,</span><span class="n">time</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">labno</span><span class="o">=$</span><span class="n">lg</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPMachineUploadD</span><span class="p">(</span><span class="n">MiUploadDR</span><span class="p">),</span><span class="mi">3</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">datetime</span><span class="o">=</span><span class="n">date_</span><span class="s2">&#34; &#34;</span><span class="n">_</span><span class="o">$</span><span class="n">zt</span><span class="p">(</span><span class="n">time</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">filename</span><span class="o">=</span><span class="s2">&#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">cnt</span><span class="o">=</span><span class="n">cnt</span><span class="o">+</span><span class="mi">1</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">i</span> <span class="n">cnt</span><span class="o">&gt;</span><span class="mi">300</span> <span class="n">q</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">retList</span><span class="o">=</span><span class="n">retList_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="n">_cnt_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="n">_datetime_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="n">_labno_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="n">_labno_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">9</span><span class="p">)</span><span class="n">_filename_</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">retList</span><span class="o">=$</span><span class="n">e</span><span class="p">(</span><span class="n">retList</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">retList</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">q</span> <span class="n">retList</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ClassMethod</span> <span class="n">ReUpload</span><span class="p">(</span><span class="n">mi</span><span class="p">,</span> <span class="n">labno</span><span class="p">)</span> <span class="n">As</span> <span class="o">%</span><span class="ne">String</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">    <span class="n">s</span> <span class="n">mi</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">mi</span><span class="p">),</span><span class="n">labno</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">labno</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="s1">&#39;$d(^dbo.BTMIMachineParameterD(mi)) q &#34;&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="n">i</span> <span class="o">$</span><span class="n">d</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPMachineUploadI</span><span class="p">(</span><span class="s2">&#34;IndexMaster&#34;</span><span class="p">,</span><span class="n">mi</span><span class="p">,</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span><span class="n">_labno</span><span class="p">))</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">ret</span><span class="o">=</span><span class="c1">##Class(MI.MachineUpload).SetSendFlag(mi,labno,&#34;C&#34;,&#34;&#34;)</span>
</span></span><span class="line"><span class="cl">    <span class="n">e</span>  <span class="n">d</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">VisitNumberDR</span><span class="o">=$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberI</span><span class="p">(</span><span class="s2">&#34;IndexVisitNumber&#34;</span><span class="p">,</span><span class="o">$</span><span class="n">c</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span><span class="n">_labno</span><span class="p">,</span><span class="s2">&#34;&#34;</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">i</span> <span class="s1">&#39;$l(VisitNumberDR) q</span>
</span></span><span class="line"><span class="cl">    <span class="o">.</span><span class="n">s</span> <span class="n">TestSetDR</span><span class="o">=</span><span class="s2">&#34;&#34;</span> <span class="n">f</span>  <span class="n">s</span> <span class="n">TestSetDR</span><span class="o">=$</span><span class="n">o</span><span class="p">(</span><span class="o">^</span><span class="n">dbo</span><span class="o">.</span><span class="n">RPVisitNumberTestSetI</span><span class="p">(</span><span class="s2">&#34;IndexMaster&#34;</span><span class="p">,</span><span class="n">VisitNumberDR</span><span class="p">,</span><span class="n">TestSetDR</span><span class="p">))</span> <span class="n">q</span><span class="p">:</span><span class="n">TestSetDR</span><span class="o">=</span><span class="s2">&#34;&#34;</span>  <span class="n">d</span>
</span></span><span class="line"><span class="cl">    <span class="o">..</span><span class="n">s</span> <span class="n">ret</span><span class="o">=</span><span class="c1">##Class(MI.MachineUpload).Upload(labno,TestSetDR,3)</span>
</span></span><span class="line"><span class="cl">    <span class="n">q</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">//</span> <span class="err">æ£€æŸ¥æ˜¯å¦åŒ…å«</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">//</span> <span class="n">zresStr</span><span class="p">:</span><span class="err">æ•°æ®ä¸²</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">//</span> <span class="n">zsplitStr</span><span class="err">ï¼šåˆ†å‰²ç¬¦</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="o">//</span> <span class="n">zcheckStr</span><span class="err">ï¼šè¦æ£€æµ‹åŒ…å«çš„ä¸²</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">ClassMethod</span> <span class="n">CheckContian</span><span class="p">(</span><span class="n">zresStr</span><span class="p">,</span> <span class="n">zsplitStr</span><span class="p">,</span> <span class="n">zcheckStr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">zresStr</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">zresStr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">zsplitStr</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">zsplitStr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">zcheckStr</span><span class="o">=$</span><span class="n">g</span><span class="p">(</span><span class="n">zcheckStr</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">	<span class="n">s</span> <span class="n">zhaiCont</span><span class="o">=</span><span class="mi">0</span>
</span></span><span class="line"><span class="cl">	<span class="n">f</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="o">$</span><span class="n">l</span><span class="p">(</span><span class="n">zresStr</span><span class="p">,</span><span class="n">zsplitStr</span><span class="p">)</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">	<span class="o">.</span><span class="n">i</span> <span class="o">$</span><span class="n">p</span><span class="p">(</span><span class="n">zresStr</span><span class="p">,</span><span class="n">zsplitStr</span><span class="p">,</span><span class="n">i</span><span class="p">)</span><span class="o">=</span><span class="n">zcheckStr</span> <span class="n">d</span>
</span></span><span class="line"><span class="cl">	<span class="o">..</span><span class="n">s</span> <span class="n">zhaiCont</span><span class="o">=</span><span class="mi">1</span> <span class="n">q</span>
</span></span><span class="line"><span class="cl">	<span class="n">quit</span> <span class="n">zhaiCont</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="p">}</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>â€</p>

</section>


    <footer class="article-footer">
    <section>
        é¡µé¢æµè§ˆé‡<span id="busuanzi_value_page_pv">Loading</span>
    </section>
</footer>


    
</article>

<div class="post-password">
	
</div>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">ç›¸å…³æ–‡ç« </h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/p/%E4%B8%9C%E8%8A%9Dtba-fx8-20250829154956/">
        
        
            <div class="article-image">
                <img src="/p/%E4%B8%9C%E8%8A%9Dtba-fx8-20250829154956/assets/image-20250821163816-qpst17e.237ffc4b3e6f990fab9512e4c4910b5d_hu_4bb04d165fa7b119.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post ä¸œèŠTBA-FX8"
                        data-key="ä¸œèŠTBA-FX8 20250829154956" 
                        data-hash="md5-I3/8Sz5vmQ&#43;rlRLkxJELXQ==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">ä¸œèŠTBA-FX8</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/%E5%AE%89%E5%9B%BE%E5%87%9D%E8%A1%80ci310-20250829154956/">
        
        
            <div class="article-image">
                <img src="/p/%E5%AE%89%E5%9B%BE%E5%87%9D%E8%A1%80ci310-20250829154956/assets/ffae461aa4db91af7d05578df72fdd9a-20250821181553-b5z3zra.c9cb8144646fce0206afca0a18dc8c70_hu_1bb48267285df86e.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post å®‰å›¾å‡è¡€Ci310"
                        data-key="å®‰å›¾å‡è¡€Ci310 20250829154956" 
                        data-hash="md5-ycuBRGRvzgIGr8oKGNyMcA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">å®‰å›¾å‡è¡€Ci310</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/%E5%AE%8F%E7%9F%B3slan96p-20250829154956/">
        
        
            <div class="article-image">
                <img src="/p/%E5%AE%8F%E7%9F%B3slan96p-20250829154956/assets/image-20250821190848-j9xfaib.4f8806cc919afa03b4598e34676189bf_hu_bb7ac2bc0878b16d.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post å®çŸ³SLAN96P"
                        data-key="å®çŸ³SLAN96P 20250829154956" 
                        data-hash="md5-T4gGzJGa&#43;gO0WY40Z2GJvw==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">å®çŸ³SLAN96P</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/%E5%B8%9D%E8%BF%88d7crp-20250829154956/">
        
        
            <div class="article-image">
                <img src="/p/%E5%B8%9D%E8%BF%88d7crp-20250829154956/assets/c142a6f792b5d03cbdcd9f1dcf0a01d1-20250821184527-s3xlxj2.5e35df9619217a19ae68afc41a6dfca0_hu_e2690a380d0b98cd.jpg" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post å¸è¿ˆD7CRP"
                        data-key="å¸è¿ˆD7CRP 20250829154956" 
                        data-hash="md5-XjXflhkhehmuaK/EGm38oA==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">å¸è¿ˆD7CRP</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/p/%E6%B7%B1%E5%9C%B3%E7%BE%8E%E6%A1%A5%E6%B5%81%E6%B0%B4%E7%BA%BFmejer-1600-700-20250829154956/">
        
        
            <div class="article-image">
                <img src="/p/%E6%B7%B1%E5%9C%B3%E7%BE%8E%E6%A1%A5%E6%B5%81%E6%B0%B4%E7%BA%BFmejer-1600-700-20250829154956/assets/image-20250822185214-cv1gaec.dc604593a69061aa7c121dd3d0294083_hu_5c73ff4d14b32423.png" 
                        width="250" 
                        height="150" 
                        loading="lazy"
                        alt="Featured image of post æ·±åœ³ç¾æ¡¥æµæ°´çº¿MeJer-1600&#43;700"
                        data-key="æ·±åœ³ç¾æ¡¥æµæ°´çº¿MeJer-1600&#43;700 20250829154956" 
                        data-hash="md5-3GBFk6aQYap8Eh3T0ClAgw==">
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">æ·±åœ³ç¾æ¡¥æµæ°´çº¿MeJer-1600&#43;700</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <script src='//unpkg.com/@waline/client@v2/dist/waline.js'></script>
<link href='//unpkg.com/@waline/client@v2/dist/waline.css' rel='stylesheet'/>
<div id="waline" class="waline-container"></div>
<style>
    .waline-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
        --waline-font-size: var(--article-font-size);
    }
    .waline-container .wl-count {
        color: var(--card-text-color-main);
    }
</style><script>
    
    Waline.init({"dark":"html[data-scheme=\"dark\"]","el":"#waline","emoji":["https://unpkg.com/@waline/emojis@1.0.1/weibo"],"lang":"zh-CN","locale":{"admin":"Admin","placeholder":null},"requiredMeta":["name","email","url"],"serverURL":"https://waline.717170.xyz"});
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            2024 - 
        
        2025 muziyang
    </section>
    
    <section class="powerby">
        
            ç½‘ç«™æ€»è®¿å®¢æ•°ï¼š<span id='busuanzi_value_site_uv'>Loading</span><br/>ç½‘ç«™æ€»è®¿é—®é‡ï¼š<span id='busuanzi_value_site_pv'>Loading</span> <br/>
        ä½¿ç”¨ <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> æ„å»º <br />
        ä¸»é¢˜ <b><a href="https://github.com/CaiJimmy/hugo-theme-stack" target="_blank" rel="noopener" data-version="3.29.0">Stack</a></b> ç”± <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> è®¾è®¡
    </section>
</footer>


    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>


<script defer src="https://cn.vercount.one/js"></script>

    </body>
</html>
